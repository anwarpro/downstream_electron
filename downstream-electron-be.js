/*! For license information please see downstream-electron-be.js.LICENSE.txt */
!function(Q,U){if("object"==typeof exports&&"object"==typeof module)module.exports=U(require("base64-js"),require("biguint-format"),require("electron"),require("flake-idgen"),require("get-folder-size"),require("jsonfile"),require("mkdirp"),require("moment/moment"),require("underscore"),require("url-parse"),require("xmldom"));else if("function"==typeof define&&define.amd)define(["base64-js","biguint-format","electron","flake-idgen","get-folder-size","jsonfile","mkdirp","moment/moment","underscore","url-parse","xmldom"],U);else{var F="object"==typeof exports?U(require("base64-js"),require("biguint-format"),require("electron"),require("flake-idgen"),require("get-folder-size"),require("jsonfile"),require("mkdirp"),require("moment/moment"),require("underscore"),require("url-parse"),require("xmldom")):U(Q["base64-js"],Q["biguint-format"],Q.electron,Q["flake-idgen"],Q["get-folder-size"],Q.jsonfile,Q.mkdirp,Q["moment/moment"],Q.underscore,Q["url-parse"],Q.xmldom);for(var B in F)("object"==typeof exports?exports:Q)[B]=F[B]}}(global,((__WEBPACK_EXTERNAL_MODULE__7769__,__WEBPACK_EXTERNAL_MODULE__1637__,__WEBPACK_EXTERNAL_MODULE__7194__,__WEBPACK_EXTERNAL_MODULE__1759__,__WEBPACK_EXTERNAL_MODULE__6838__,__WEBPACK_EXTERNAL_MODULE__3480__,__WEBPACK_EXTERNAL_MODULE__9526__,__WEBPACK_EXTERNAL_MODULE__1908__,__WEBPACK_EXTERNAL_MODULE__4952__,__WEBPACK_EXTERNAL_MODULE__3720__,__WEBPACK_EXTERNAL_MODULE__678__)=>(()=>{var __webpack_modules__={9277:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\n/**\n * @typedef Configuration\n * @property {string=} appDir main directory path, can be any valid path, default is electronApp.getPath(\'userData\')\n * @property {string=} settingsName - name of the folder in main directory path where to store settings\n * @property {string=} publicName - name of the folder in main directory path which will be served over http\n * @property {string=} downloadsName - name of the folder in main directory path and publicName where to store assets\n * @property {string=} offlineDomain - on which domain the content should be served, default is 127.0.0.1\n * @property {number=} offlineContentPortStart - on which port offline content should be served, default is 3010\n * @property {number=} maxOfflineContentPortRange - max range for offline port to on which content can be served\n *   It will try from {offlineContentPortStart} and if taken it will try next until it finds a free one\n * @property {number=} numberOfManifestsInParallel - max number of manifest that can be downloaded at the same time,\n *   the rest will go into queue.\n *   Be reasonable here, as it might slow down your computer, default value is 2. With 10 and very larges manifests\n *   it might go to hundreds of chunks (50 files can be downloaded at the same time per manifest). Also the highger number\n *   doesn\'t mean it will downloads all movies faster. You should find here some balance.\n *   Seems like 2-3 manifests gives the best results, 1 manifest limitation might work better for slower computers.\n * @property {regex | string=} customManifestIdFolderRegex - regex to use to validate custom manifest id - bear in mind that this\n * need to be also a valid folder name.<br>\n * By default it matches any letter or number or unicode characters (regional characters) or "-" or "_" as a first character<br>\n * Then it may have any letter or number or unicode characters (regional characters) or space or any of the following characters:\n * ,.;\'[]{}!@#$%&*()-_=+\n *\n * @property {string=} openingTagForInvalidCustomManifestIdCharacter - when customManifestId is being invalidated\n * against customManifestIdFolderRegex it will raise the error and include the customManifestId with marked invalid characters\n * this is the opening tag to be added before invalid character\n *\n * @property {string=} closingTagForInvalidCustomManifestIdCharacter - when customManifestId is being invalidated\n * against customManifestIdFolderRegex it will raise the error and include the customManifestId with marked invalid characters\n * this is the closing tag to be added after invalid character\n *\n * @namespace DownstreamElectronBE.configuration\n * @description\n * During initialization you can configure your app\n * @example\n * //somewhere in the main process\n * const downstreamElectron = require(\'downstream-electron\');\n * const userSettings = {\n *   appDir: "/Users/admin/myApp",\n *   settingsName: "settings",\n *   publicName: "public",\n *   downloadsName: "movies"\n *   numberOfManifestsInParallel: 3\n * };\n * function createWindow() {\n *   downstreamElectron.init(userSettings);\n *   const win = new BrowserWindow({\n *     width: 1200,\n *     height: 700,\n *     resizable: true,\n *     webPreferences: {\n *       plugins: true,\n *       nodeIntegration: true\n *     }\n *   });\n *   win.loadURL(\'file://index.html\');\n *   win.webContents.openDevTools();\n * }\n * app.on(\'ready\', createWindow);\n */\nvar electronApp = (__webpack_require__(7194).app);\nvar path = __webpack_require__(1017);\nvar settings = {\n  downloadingThreadsRules: {\n    items: [{\n      max: 10,\n      files: 5\n    }, {\n      max: 100,\n      files: 10\n    }, {\n      max: 1000,\n      files: 30\n    }, {\n      max: 100000,\n      files: 50\n    }],\n    threads: [{\n      size: 10,\n      number: 1\n    }, {\n      size: 100,\n      number: 3\n    }, {\n      size: 1000,\n      number: 4\n    }, {\n      size: 100000,\n      number: 5\n    }]\n  },\n  MAX_ERRORS_DOWNLOAD_RETRY: 5,\n  MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY: 100,\n  MAX_ERRORS_DOWNLOAD_CHUNK_RETRY: 5,\n  offlineDomain: "http://127.0.0.1",\n  offlineContentPortStart: 3010,\n  maxOfflineContentPortRange: 3030,\n  numberOfManifestsInParallel: 2,\n  stopOnError: false,\n  stores: {\n    DOWNLOADS: {\n      "LEFT": "left",\n      "DOWNLOADING": "downloading",\n      "DOWNLOADED": "downloaded",\n      "ERRORS": "errors"\n    },\n    STATUS: "status",\n    PARAMS: "params",\n    MANIFEST: "manifest",\n    PERSISTENT: "persistent",\n    DATA: "data"\n  },\n  saveToDisk: true,\n  times: {\n    DOWNLOAD_TIMEOUT: 5000,\n    RETRY_TIMEOUT: 5000\n  },\n  useChunkedEncoding: false,\n  useHeadRequests: true,\n  noCache: false,\n  defaultManifestRequestOptions: {\n    headers: {\n      "Accept": "*/*",\n      // \'Accept-Encoding\': \'gzip, deflate, br\', // gzip doesn\'t work\n      // \'Accept-Language\': \'en-US,en;q=0.8,pl;q=0.6\',\n      // \'Cache-Control\': \'no-cache\',\n      // \'Connection\': \'keep-alive\', // @TODO investigate it\n      // \'Pragma\': \'no-cache\',\n      "User-Agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_11_6) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/59.0.3071.115 Electron/1.8.6 Safari/537.36"\n    },\n    timeout: 5000\n  },\n  // matches any letter or number or unicode characters (regional characters) or "-" or "_" as a start\n  // then it may have any letter or number or unicode characters (regional characters) or space or any of the following characters\n  // ,.;\'[]{}!@#$%&*()-_=+\n  // and is all case insensitive\n  customManifestIdFolderRegex: /^([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\-|\\_){1,1}([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]|\\ |\\,|\\.|\\;|\\\'|\\[|\\]|\\{|\\}|\\!|\\@|\\#|\\$|\\%|\\&|\\*|\\(|\\)|\\-|\\_|\\=|\\+?){0,49}$/i,\n  openingTagForInvalidCustomManifestIdCharacter: \'<span style=\\\'background-color:blue;\\\'>\',\n  closingTagForInvalidCustomManifestIdCharacter: \'</span>\'\n};\nfunction loadUserSettings(jsonSettings) {\n  var appDir = electronApp.getPath("userData");\n  var settingsName = "settings";\n  var publicName = "public";\n  var downloadsName = "movies";\n  if (jsonSettings) {\n    if (jsonSettings.appDir) {\n      appDir = jsonSettings.appDir;\n    }\n    if (jsonSettings.settingsName) {\n      settingsName = jsonSettings.settingsName;\n    }\n    if (jsonSettings.publicName) {\n      publicName = jsonSettings.publicName;\n    }\n    if (jsonSettings.downloadsName) {\n      downloadsName = jsonSettings.downloadsName;\n    }\n    if (jsonSettings.offlineDomain) {\n      settings.offlineDomain = jsonSettings.offlineDomain;\n    }\n    if (jsonSettings.offlineContentPortStart) {\n      settings.offlineContentPortStart = jsonSettings.offlineContentPortStart;\n    }\n    if (jsonSettings.maxOfflineContentPortRange) {\n      settings.maxOfflineContentPortRange = jsonSettings.maxOfflineContentPortRange;\n    }\n    if (jsonSettings.numberOfManifestsInParallel) {\n      settings.numberOfManifestsInParallel = jsonSettings.numberOfManifestsInParallel;\n    }\n    if (jsonSettings.stopOnError !== undefined) {\n      settings.stopOnError = jsonSettings.stopOnError;\n    }\n    if (jsonSettings.customManifestIdFolderRegex) {\n      settings.customManifestIdFolderRegex = jsonSettings.customManifestIdFolderRegex;\n    }\n    if (jsonSettings.openingTagForInvalidCustomManifestIdCharacter) {\n      settings.openingTagForInvalidCustomManifestIdCharacter = jsonSettings.openingTagForInvalidCustomManifestIdCharacter;\n    }\n    if (jsonSettings.closingTagForInvalidCustomManifestIdCharacter) {\n      settings.closingTagForInvalidCustomManifestIdCharacter = jsonSettings.closingTagForInvalidCustomManifestIdCharacter;\n    }\n    if (jsonSettings.useHeadRequests !== undefined) {\n      settings.useHeadRequests = jsonSettings.useHeadRequests;\n    }\n    if (jsonSettings.times && jsonSettings.times.RETRY_TIMEOUT) {\n      settings.times.RETRY_TIMEOUT = jsonSettings.times.RETRY_TIMEOUT;\n    }\n    if (jsonSettings.MAX_ERRORS_DOWNLOAD_RETRY) {\n      settings.MAX_ERRORS_DOWNLOAD_RETRY = jsonSettings.MAX_ERRORS_DOWNLOAD_RETRY;\n    }\n    if (jsonSettings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY) {\n      settings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY = jsonSettings.MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY;\n    }\n    if (jsonSettings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY) {\n      settings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY = jsonSettings.MAX_ERRORS_DOWNLOAD_CHUNK_RETRY;\n    }\n    if (jsonSettings.noCache) {\n      settings.noCache = jsonSettings.noCache;\n    }\n  }\n  appDir = path.join(path.resolve(appDir), "/");\n  var settingsFolder = path.join(path.resolve(appDir + settingsName) + "/", "/");\n  var publicFolderPath = path.join(path.resolve(appDir + publicName) + "/", "/");\n  var downloadsFolderPath = path.join(path.resolve(publicFolderPath + downloadsName) + "/", "/");\n  settings.appDir = appDir;\n  settings.downloadsFolderPath = downloadsFolderPath;\n  settings.downloadsName = downloadsName;\n  settings.publicFolderPath = publicFolderPath;\n  settings.settingsFolder = settingsFolder;\n\n  // console.log(\'appDir:\', appDir);\n}\n\nfunction getSettings() {\n  return settings;\n}\nexports.load = loadUserSettings;\nexports.getSettings = getSettings;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3Ny5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBTUEsV0FBVyxHQUFHQywrQkFBdUI7QUFDM0MsSUFBTUUsSUFBSSxHQUFHRixtQkFBTyxDQUFDLElBQU0sQ0FBQztBQUM1QixJQUFJRyxRQUFRLEdBQUc7RUFDYkMsdUJBQXVCLEVBQUU7SUFDdkJDLEtBQUssRUFBRSxDQUNMO01BQUNDLEdBQUcsRUFBRSxFQUFFO01BQUVDLEtBQUssRUFBRTtJQUFDLENBQUMsRUFDbkI7TUFBQ0QsR0FBRyxFQUFFLEdBQUc7TUFBRUMsS0FBSyxFQUFFO0lBQUUsQ0FBQyxFQUNyQjtNQUFDRCxHQUFHLEVBQUUsSUFBSTtNQUFFQyxLQUFLLEVBQUU7SUFBRSxDQUFDLEVBQ3RCO01BQUNELEdBQUcsRUFBRSxNQUFNO01BQUVDLEtBQUssRUFBRTtJQUFFLENBQUMsQ0FDekI7SUFDREMsT0FBTyxFQUFFLENBQ1A7TUFBQ0MsSUFBSSxFQUFFLEVBQUU7TUFBRUMsTUFBTSxFQUFFO0lBQUMsQ0FBQyxFQUNyQjtNQUFDRCxJQUFJLEVBQUUsR0FBRztNQUFFQyxNQUFNLEVBQUU7SUFBQyxDQUFDLEVBQ3RCO01BQUNELElBQUksRUFBRSxJQUFJO01BQUVDLE1BQU0sRUFBRTtJQUFDLENBQUMsRUFDdkI7TUFBQ0QsSUFBSSxFQUFFLE1BQU07TUFBRUMsTUFBTSxFQUFFO0lBQUMsQ0FBQztFQUU3QixDQUFDO0VBQ0RDLHlCQUF5QixFQUFFLENBQUM7RUFDNUJDLHdDQUF3QyxFQUFFLEdBQUc7RUFDN0NDLCtCQUErQixFQUFFLENBQUM7RUFDbENDLGFBQWEsRUFBRSxrQkFBa0I7RUFDakNDLHVCQUF1QixFQUFFLElBQUk7RUFDN0JDLDBCQUEwQixFQUFFLElBQUk7RUFDaENDLDJCQUEyQixFQUFFLENBQUM7RUFDOUJDLFdBQVcsRUFBRSxLQUFLO0VBQ2xCQyxNQUFNLEVBQUU7SUFDTkMsU0FBUyxFQUFFO01BQ1QsTUFBTSxFQUFFLE1BQU07TUFDZCxhQUFhLEVBQUUsYUFBYTtNQUM1QixZQUFZLEVBQUUsWUFBWTtNQUMxQixRQUFRLEVBQUU7SUFDWixDQUFDO0lBQ0RDLE1BQU0sRUFBRSxRQUFRO0lBQ2hCQyxNQUFNLEVBQUUsUUFBUTtJQUNoQkMsUUFBUSxFQUFFLFVBQVU7SUFDcEJDLFVBQVUsRUFBRSxZQUFZO0lBQ3hCQyxJQUFJLEVBQUU7RUFDUixDQUFDO0VBQ0RDLFVBQVUsRUFBRSxJQUFJO0VBQ2hCQyxLQUFLLEVBQUU7SUFDTEMsZ0JBQWdCLEVBQUUsSUFBSTtJQUN0QkMsYUFBYSxFQUFFO0VBQ2pCLENBQUM7RUFDREMsa0JBQWtCLEVBQUUsS0FBSztFQUN6QkMsZUFBZSxFQUFFLElBQUk7RUFDckJDLE9BQU8sRUFBRSxLQUFLO0VBQ2RDLDZCQUE2QixFQUFFO0lBQzdCQyxPQUFPLEVBQUU7TUFDUCxRQUFRLEVBQUUsS0FBSztNQUNmO01BQ0E7TUFDQTtNQUNBO01BQ0E7TUFDQSxZQUFZLEVBQUU7SUFDaEIsQ0FBQztJQUNEQyxPQUFPLEVBQUU7RUFDWCxDQUFDO0VBQ0Q7RUFDQTtFQUNBO0VBQ0E7RUFDQUMsMkJBQTJCLEVBQUUsaU1BQWlNO0VBQzlOQyw2Q0FBNkMsRUFBRSx5Q0FBeUM7RUFDeEZDLDZDQUE2QyxFQUFFO0FBQ2pELENBQUM7QUFFRCxTQUFTQyxnQkFBZ0IsQ0FBRUMsWUFBWSxFQUFFO0VBQ3ZDLElBQUlDLE1BQU0sR0FBRzFDLFdBQVcsQ0FBQzJDLE9BQU8sQ0FBQyxVQUFVLENBQUM7RUFFNUMsSUFBSUMsWUFBWSxHQUFHLFVBQVU7RUFDN0IsSUFBSUMsVUFBVSxHQUFHLFFBQVE7RUFDekIsSUFBSUMsYUFBYSxHQUFHLFFBQVE7RUFFNUIsSUFBSUwsWUFBWSxFQUFFO0lBQ2hCLElBQUlBLFlBQVksQ0FBQ0MsTUFBTSxFQUFFO01BQ3ZCQSxNQUFNLEdBQUdELFlBQVksQ0FBQ0MsTUFBTTtJQUM5QjtJQUNBLElBQUlELFlBQVksQ0FBQ0csWUFBWSxFQUFFO01BQzdCQSxZQUFZLEdBQUdILFlBQVksQ0FBQ0csWUFBWTtJQUMxQztJQUNBLElBQUlILFlBQVksQ0FBQ0ksVUFBVSxFQUFFO01BQzNCQSxVQUFVLEdBQUdKLFlBQVksQ0FBQ0ksVUFBVTtJQUN0QztJQUNBLElBQUlKLFlBQVksQ0FBQ0ssYUFBYSxFQUFFO01BQzlCQSxhQUFhLEdBQUdMLFlBQVksQ0FBQ0ssYUFBYTtJQUM1QztJQUNBLElBQUlMLFlBQVksQ0FBQzFCLGFBQWEsRUFBRTtNQUM5QlgsUUFBUSxDQUFDVyxhQUFhLEdBQUcwQixZQUFZLENBQUMxQixhQUFhO0lBQ3JEO0lBQ0EsSUFBSTBCLFlBQVksQ0FBQ3pCLHVCQUF1QixFQUFFO01BQ3hDWixRQUFRLENBQUNZLHVCQUF1QixHQUFHeUIsWUFBWSxDQUFDekIsdUJBQXVCO0lBQ3pFO0lBQ0EsSUFBSXlCLFlBQVksQ0FBQ3hCLDBCQUEwQixFQUFFO01BQzNDYixRQUFRLENBQUNhLDBCQUEwQixHQUFHd0IsWUFBWSxDQUFDeEIsMEJBQTBCO0lBQy9FO0lBQ0EsSUFBSXdCLFlBQVksQ0FBQ3ZCLDJCQUEyQixFQUFFO01BQzVDZCxRQUFRLENBQUNjLDJCQUEyQixHQUFHdUIsWUFBWSxDQUFDdkIsMkJBQTJCO0lBQ2pGO0lBQ0EsSUFBSXVCLFlBQVksQ0FBQ3RCLFdBQVcsS0FBSzRCLFNBQVMsRUFBRTtNQUMxQzNDLFFBQVEsQ0FBQ2UsV0FBVyxHQUFHc0IsWUFBWSxDQUFDdEIsV0FBVztJQUNqRDtJQUNBLElBQUlzQixZQUFZLENBQUNKLDJCQUEyQixFQUFFO01BQzVDakMsUUFBUSxDQUFDaUMsMkJBQTJCLEdBQUdJLFlBQVksQ0FBQ0osMkJBQTJCO0lBQ2pGO0lBQ0EsSUFBSUksWUFBWSxDQUFDSCw2Q0FBNkMsRUFBRTtNQUM5RGxDLFFBQVEsQ0FBQ2tDLDZDQUE2QyxHQUFHRyxZQUFZLENBQUNILDZDQUE2QztJQUNySDtJQUNBLElBQUlHLFlBQVksQ0FBQ0YsNkNBQTZDLEVBQUU7TUFDOURuQyxRQUFRLENBQUNtQyw2Q0FBNkMsR0FBR0UsWUFBWSxDQUFDRiw2Q0FBNkM7SUFDckg7SUFDQSxJQUFJRSxZQUFZLENBQUNULGVBQWUsS0FBS2UsU0FBUyxFQUFFO01BQzlDM0MsUUFBUSxDQUFDNEIsZUFBZSxHQUFHUyxZQUFZLENBQUNULGVBQWU7SUFDekQ7SUFDQSxJQUFJUyxZQUFZLENBQUNiLEtBQUssSUFBSWEsWUFBWSxDQUFDYixLQUFLLENBQUNFLGFBQWEsRUFBRTtNQUMxRDFCLFFBQVEsQ0FBQ3dCLEtBQUssQ0FBQ0UsYUFBYSxHQUFHVyxZQUFZLENBQUNiLEtBQUssQ0FBQ0UsYUFBYTtJQUNqRTtJQUNBLElBQUlXLFlBQVksQ0FBQzdCLHlCQUF5QixFQUFFO01BQzFDUixRQUFRLENBQUNRLHlCQUF5QixHQUFHNkIsWUFBWSxDQUFDN0IseUJBQXlCO0lBQzdFO0lBQ0EsSUFBSTZCLFlBQVksQ0FBQzVCLHdDQUF3QyxFQUFFO01BQ3pEVCxRQUFRLENBQUNTLHdDQUF3QyxHQUFHNEIsWUFBWSxDQUFDNUIsd0NBQXdDO0lBQzNHO0lBQ0EsSUFBSTRCLFlBQVksQ0FBQzNCLCtCQUErQixFQUFFO01BQ2hEVixRQUFRLENBQUNVLCtCQUErQixHQUFHMkIsWUFBWSxDQUFDM0IsK0JBQStCO0lBQ3pGO0lBQ0EsSUFBSTJCLFlBQVksQ0FBQ1IsT0FBTyxFQUFFO01BQ3hCN0IsUUFBUSxDQUFDNkIsT0FBTyxHQUFHUSxZQUFZLENBQUNSLE9BQU87SUFDekM7RUFDRjtFQUVBUyxNQUFNLEdBQUd2QyxJQUFJLENBQUM2QyxJQUFJLENBQUM3QyxJQUFJLENBQUM4QyxPQUFPLENBQUNQLE1BQU0sQ0FBQyxFQUFFLEdBQUcsQ0FBQztFQUU3QyxJQUFJUSxjQUFjLEdBQUcvQyxJQUFJLENBQUM2QyxJQUFJLENBQUM3QyxJQUFJLENBQUM4QyxPQUFPLENBQUNQLE1BQU0sR0FBR0UsWUFBWSxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQztFQUU5RSxJQUFJTyxnQkFBZ0IsR0FBR2hELElBQUksQ0FBQzZDLElBQUksQ0FBQzdDLElBQUksQ0FBQzhDLE9BQU8sQ0FBQ1AsTUFBTSxHQUFHRyxVQUFVLENBQUMsR0FBRyxHQUFHLEVBQUUsR0FBRyxDQUFDO0VBRTlFLElBQUlPLG1CQUFtQixHQUFHakQsSUFBSSxDQUFDNkMsSUFBSSxDQUFDN0MsSUFBSSxDQUFDOEMsT0FBTyxDQUFDRSxnQkFBZ0IsR0FBR0wsYUFBYSxDQUFDLEdBQUcsR0FBRyxFQUFFLEdBQUcsQ0FBQztFQUU5RjFDLFFBQVEsQ0FBQ3NDLE1BQU0sR0FBR0EsTUFBTTtFQUN4QnRDLFFBQVEsQ0FBQ2dELG1CQUFtQixHQUFHQSxtQkFBbUI7RUFDbERoRCxRQUFRLENBQUMwQyxhQUFhLEdBQUdBLGFBQWE7RUFDdEMxQyxRQUFRLENBQUMrQyxnQkFBZ0IsR0FBR0EsZ0JBQWdCO0VBQzVDL0MsUUFBUSxDQUFDOEMsY0FBYyxHQUFHQSxjQUFjOztFQUV4QztBQUNGOztBQUVBLFNBQVNHLFdBQVcsR0FBSTtFQUN0QixPQUFPakQsUUFBUTtBQUNqQjtBQUVBa0QsWUFBWSxHQUFHZCxnQkFBZ0I7QUFDL0JjLG1CQUFtQixHQUFHRCxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9hcHAtc2V0dGluZ3MuanM/YzQwYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAdHlwZWRlZiBDb25maWd1cmF0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGFwcERpciBtYWluIGRpcmVjdG9yeSBwYXRoLCBjYW4gYmUgYW55IHZhbGlkIHBhdGgsIGRlZmF1bHQgaXMgZWxlY3Ryb25BcHAuZ2V0UGF0aCgndXNlckRhdGEnKVxuICogQHByb3BlcnR5IHtzdHJpbmc9fSBzZXR0aW5nc05hbWUgLSBuYW1lIG9mIHRoZSBmb2xkZXIgaW4gbWFpbiBkaXJlY3RvcnkgcGF0aCB3aGVyZSB0byBzdG9yZSBzZXR0aW5nc1xuICogQHByb3BlcnR5IHtzdHJpbmc9fSBwdWJsaWNOYW1lIC0gbmFtZSBvZiB0aGUgZm9sZGVyIGluIG1haW4gZGlyZWN0b3J5IHBhdGggd2hpY2ggd2lsbCBiZSBzZXJ2ZWQgb3ZlciBodHRwXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGRvd25sb2Fkc05hbWUgLSBuYW1lIG9mIHRoZSBmb2xkZXIgaW4gbWFpbiBkaXJlY3RvcnkgcGF0aCBhbmQgcHVibGljTmFtZSB3aGVyZSB0byBzdG9yZSBhc3NldHNcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nPX0gb2ZmbGluZURvbWFpbiAtIG9uIHdoaWNoIGRvbWFpbiB0aGUgY29udGVudCBzaG91bGQgYmUgc2VydmVkLCBkZWZhdWx0IGlzIDEyNy4wLjAuMVxuICogQHByb3BlcnR5IHtudW1iZXI9fSBvZmZsaW5lQ29udGVudFBvcnRTdGFydCAtIG9uIHdoaWNoIHBvcnQgb2ZmbGluZSBjb250ZW50IHNob3VsZCBiZSBzZXJ2ZWQsIGRlZmF1bHQgaXMgMzAxMFxuICogQHByb3BlcnR5IHtudW1iZXI9fSBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZSAtIG1heCByYW5nZSBmb3Igb2ZmbGluZSBwb3J0IHRvIG9uIHdoaWNoIGNvbnRlbnQgY2FuIGJlIHNlcnZlZFxuICogICBJdCB3aWxsIHRyeSBmcm9tIHtvZmZsaW5lQ29udGVudFBvcnRTdGFydH0gYW5kIGlmIHRha2VuIGl0IHdpbGwgdHJ5IG5leHQgdW50aWwgaXQgZmluZHMgYSBmcmVlIG9uZVxuICogQHByb3BlcnR5IHtudW1iZXI9fSBudW1iZXJPZk1hbmlmZXN0c0luUGFyYWxsZWwgLSBtYXggbnVtYmVyIG9mIG1hbmlmZXN0IHRoYXQgY2FuIGJlIGRvd25sb2FkZWQgYXQgdGhlIHNhbWUgdGltZSxcbiAqICAgdGhlIHJlc3Qgd2lsbCBnbyBpbnRvIHF1ZXVlLlxuICogICBCZSByZWFzb25hYmxlIGhlcmUsIGFzIGl0IG1pZ2h0IHNsb3cgZG93biB5b3VyIGNvbXB1dGVyLCBkZWZhdWx0IHZhbHVlIGlzIDIuIFdpdGggMTAgYW5kIHZlcnkgbGFyZ2VzIG1hbmlmZXN0c1xuICogICBpdCBtaWdodCBnbyB0byBodW5kcmVkcyBvZiBjaHVua3MgKDUwIGZpbGVzIGNhbiBiZSBkb3dubG9hZGVkIGF0IHRoZSBzYW1lIHRpbWUgcGVyIG1hbmlmZXN0KS4gQWxzbyB0aGUgaGlnaGdlciBudW1iZXJcbiAqICAgZG9lc24ndCBtZWFuIGl0IHdpbGwgZG93bmxvYWRzIGFsbCBtb3ZpZXMgZmFzdGVyLiBZb3Ugc2hvdWxkIGZpbmQgaGVyZSBzb21lIGJhbGFuY2UuXG4gKiAgIFNlZW1zIGxpa2UgMi0zIG1hbmlmZXN0cyBnaXZlcyB0aGUgYmVzdCByZXN1bHRzLCAxIG1hbmlmZXN0IGxpbWl0YXRpb24gbWlnaHQgd29yayBiZXR0ZXIgZm9yIHNsb3dlciBjb21wdXRlcnMuXG4gKiBAcHJvcGVydHkge3JlZ2V4IHwgc3RyaW5nPX0gY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4IC0gcmVnZXggdG8gdXNlIHRvIHZhbGlkYXRlIGN1c3RvbSBtYW5pZmVzdCBpZCAtIGJlYXIgaW4gbWluZCB0aGF0IHRoaXNcbiAqIG5lZWQgdG8gYmUgYWxzbyBhIHZhbGlkIGZvbGRlciBuYW1lLjxicj5cbiAqIEJ5IGRlZmF1bHQgaXQgbWF0Y2hlcyBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIFwiLVwiIG9yIFwiX1wiIGFzIGEgZmlyc3QgY2hhcmFjdGVyPGJyPlxuICogVGhlbiBpdCBtYXkgaGF2ZSBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIHNwYWNlIG9yIGFueSBvZiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnM6XG4gKiAsLjsnW117fSFAIyQlJiooKS1fPStcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZz19IG9wZW5pbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciAtIHdoZW4gY3VzdG9tTWFuaWZlc3RJZCBpcyBiZWluZyBpbnZhbGlkYXRlZFxuICogYWdhaW5zdCBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXggaXQgd2lsbCByYWlzZSB0aGUgZXJyb3IgYW5kIGluY2x1ZGUgdGhlIGN1c3RvbU1hbmlmZXN0SWQgd2l0aCBtYXJrZWQgaW52YWxpZCBjaGFyYWN0ZXJzXG4gKiB0aGlzIGlzIHRoZSBvcGVuaW5nIHRhZyB0byBiZSBhZGRlZCBiZWZvcmUgaW52YWxpZCBjaGFyYWN0ZXJcbiAqXG4gKiBAcHJvcGVydHkge3N0cmluZz19IGNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciAtIHdoZW4gY3VzdG9tTWFuaWZlc3RJZCBpcyBiZWluZyBpbnZhbGlkYXRlZFxuICogYWdhaW5zdCBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXggaXQgd2lsbCByYWlzZSB0aGUgZXJyb3IgYW5kIGluY2x1ZGUgdGhlIGN1c3RvbU1hbmlmZXN0SWQgd2l0aCBtYXJrZWQgaW52YWxpZCBjaGFyYWN0ZXJzXG4gKiB0aGlzIGlzIHRoZSBjbG9zaW5nIHRhZyB0byBiZSBhZGRlZCBhZnRlciBpbnZhbGlkIGNoYXJhY3RlclxuICpcbiAqIEBuYW1lc3BhY2UgRG93bnN0cmVhbUVsZWN0cm9uQkUuY29uZmlndXJhdGlvblxuICogQGRlc2NyaXB0aW9uXG4gKiBEdXJpbmcgaW5pdGlhbGl6YXRpb24geW91IGNhbiBjb25maWd1cmUgeW91ciBhcHBcbiAqIEBleGFtcGxlXG4gKiAvL3NvbWV3aGVyZSBpbiB0aGUgbWFpbiBwcm9jZXNzXG4gKiBjb25zdCBkb3duc3RyZWFtRWxlY3Ryb24gPSByZXF1aXJlKCdkb3duc3RyZWFtLWVsZWN0cm9uJyk7XG4gKiBjb25zdCB1c2VyU2V0dGluZ3MgPSB7XG4gKiAgIGFwcERpcjogXCIvVXNlcnMvYWRtaW4vbXlBcHBcIixcbiAqICAgc2V0dGluZ3NOYW1lOiBcInNldHRpbmdzXCIsXG4gKiAgIHB1YmxpY05hbWU6IFwicHVibGljXCIsXG4gKiAgIGRvd25sb2Fkc05hbWU6IFwibW92aWVzXCJcbiAqICAgbnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsOiAzXG4gKiB9O1xuICogZnVuY3Rpb24gY3JlYXRlV2luZG93KCkge1xuICogICBkb3duc3RyZWFtRWxlY3Ryb24uaW5pdCh1c2VyU2V0dGluZ3MpO1xuICogICBjb25zdCB3aW4gPSBuZXcgQnJvd3NlcldpbmRvdyh7XG4gKiAgICAgd2lkdGg6IDEyMDAsXG4gKiAgICAgaGVpZ2h0OiA3MDAsXG4gKiAgICAgcmVzaXphYmxlOiB0cnVlLFxuICogICAgIHdlYlByZWZlcmVuY2VzOiB7XG4gKiAgICAgICBwbHVnaW5zOiB0cnVlLFxuICogICAgICAgbm9kZUludGVncmF0aW9uOiB0cnVlXG4gKiAgICAgfVxuICogICB9KTtcbiAqICAgd2luLmxvYWRVUkwoJ2ZpbGU6Ly9pbmRleC5odG1sJyk7XG4gKiAgIHdpbi53ZWJDb250ZW50cy5vcGVuRGV2VG9vbHMoKTtcbiAqIH1cbiAqIGFwcC5vbigncmVhZHknLCBjcmVhdGVXaW5kb3cpO1xuICovXG5cbmNvbnN0IGVsZWN0cm9uQXBwID0gcmVxdWlyZShcImVsZWN0cm9uXCIpLmFwcDtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmxldCBzZXR0aW5ncyA9IHtcbiAgZG93bmxvYWRpbmdUaHJlYWRzUnVsZXM6IHtcbiAgICBpdGVtczogW1xuICAgICAge21heDogMTAsIGZpbGVzOiA1fSxcbiAgICAgIHttYXg6IDEwMCwgZmlsZXM6IDEwfSxcbiAgICAgIHttYXg6IDEwMDAsIGZpbGVzOiAzMH0sXG4gICAgICB7bWF4OiAxMDAwMDAsIGZpbGVzOiA1MH1cbiAgICBdLFxuICAgIHRocmVhZHM6IFtcbiAgICAgIHtzaXplOiAxMCwgbnVtYmVyOiAxfSxcbiAgICAgIHtzaXplOiAxMDAsIG51bWJlcjogM30sXG4gICAgICB7c2l6ZTogMTAwMCwgbnVtYmVyOiA0fSxcbiAgICAgIHtzaXplOiAxMDAwMDAsIG51bWJlcjogNX1cbiAgICBdXG4gIH0sXG4gIE1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlk6IDUsXG4gIE1BWF9JTlRFUk5FVF9FUlJPUlNfRE9XTkxPQURfQ0hVTktfUkVUUlk6IDEwMCxcbiAgTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWTogNSxcbiAgb2ZmbGluZURvbWFpbjogXCJodHRwOi8vMTI3LjAuMC4xXCIsXG4gIG9mZmxpbmVDb250ZW50UG9ydFN0YXJ0OiAzMDEwLFxuICBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZTogMzAzMCxcbiAgbnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsOiAyLFxuICBzdG9wT25FcnJvcjogZmFsc2UsXG4gIHN0b3Jlczoge1xuICAgIERPV05MT0FEUzoge1xuICAgICAgXCJMRUZUXCI6IFwibGVmdFwiLFxuICAgICAgXCJET1dOTE9BRElOR1wiOiBcImRvd25sb2FkaW5nXCIsXG4gICAgICBcIkRPV05MT0FERURcIjogXCJkb3dubG9hZGVkXCIsXG4gICAgICBcIkVSUk9SU1wiOiBcImVycm9yc1wiXG4gICAgfSxcbiAgICBTVEFUVVM6IFwic3RhdHVzXCIsXG4gICAgUEFSQU1TOiBcInBhcmFtc1wiLFxuICAgIE1BTklGRVNUOiBcIm1hbmlmZXN0XCIsXG4gICAgUEVSU0lTVEVOVDogXCJwZXJzaXN0ZW50XCIsXG4gICAgREFUQTogXCJkYXRhXCJcbiAgfSxcbiAgc2F2ZVRvRGlzazogdHJ1ZSxcbiAgdGltZXM6IHtcbiAgICBET1dOTE9BRF9USU1FT1VUOiA1MDAwLFxuICAgIFJFVFJZX1RJTUVPVVQ6IDUwMDBcbiAgfSxcbiAgdXNlQ2h1bmtlZEVuY29kaW5nOiBmYWxzZSxcbiAgdXNlSGVhZFJlcXVlc3RzOiB0cnVlLFxuICBub0NhY2hlOiBmYWxzZSxcbiAgZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnM6IHtcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkFjY2VwdFwiOiBcIiovKlwiLFxuICAgICAgLy8gJ0FjY2VwdC1FbmNvZGluZyc6ICdnemlwLCBkZWZsYXRlLCBicicsIC8vIGd6aXAgZG9lc24ndCB3b3JrXG4gICAgICAvLyAnQWNjZXB0LUxhbmd1YWdlJzogJ2VuLVVTLGVuO3E9MC44LHBsO3E9MC42JyxcbiAgICAgIC8vICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyxcbiAgICAgIC8vICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLCAvLyBAVE9ETyBpbnZlc3RpZ2F0ZSBpdFxuICAgICAgLy8gJ1ByYWdtYSc6ICduby1jYWNoZScsXG4gICAgICBcIlVzZXItQWdlbnRcIjogXCJNb3ppbGxhLzUuMCAoTWFjaW50b3NoOyBJbnRlbCBNYWMgT1MgWCAxMF8xMV82KSBBcHBsZVdlYktpdC81MzcuMzYgKEtIVE1MLCBsaWtlIEdlY2tvKSBDaHJvbWUvNTkuMC4zMDcxLjExNSBFbGVjdHJvbi8xLjguNiBTYWZhcmkvNTM3LjM2XCJcbiAgICB9LFxuICAgIHRpbWVvdXQ6IDUwMDBcbiAgfSxcbiAgLy8gbWF0Y2hlcyBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIFwiLVwiIG9yIFwiX1wiIGFzIGEgc3RhcnRcbiAgLy8gdGhlbiBpdCBtYXkgaGF2ZSBhbnkgbGV0dGVyIG9yIG51bWJlciBvciB1bmljb2RlIGNoYXJhY3RlcnMgKHJlZ2lvbmFsIGNoYXJhY3RlcnMpIG9yIHNwYWNlIG9yIGFueSBvZiB0aGUgZm9sbG93aW5nIGNoYXJhY3RlcnNcbiAgLy8gLC47J1tde30hQCMkJSYqKCktXz0rXG4gIC8vIGFuZCBpcyBhbGwgY2FzZSBpbnNlbnNpdGl2ZVxuICBjdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXg6IC9eKFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXXxcXC18XFxfKXsxLDF9KFthLXpdfFxcZHxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXXxcXCB8XFwsfFxcLnxcXDt8XFwnfFxcW3xcXF18XFx7fFxcfXxcXCF8XFxAfFxcI3xcXCR8XFwlfFxcJnxcXCp8XFwofFxcKXxcXC18XFxffFxcPXxcXCs/KXswLDQ5fSQvaSxcbiAgb3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyOiAnPHNwYW4gc3R5bGU9XFwnYmFja2dyb3VuZC1jb2xvcjpibHVlO1xcJz4nLFxuICBjbG9zaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXI6ICc8L3NwYW4+J1xufTtcblxuZnVuY3Rpb24gbG9hZFVzZXJTZXR0aW5ncyAoanNvblNldHRpbmdzKSB7XG4gIGxldCBhcHBEaXIgPSBlbGVjdHJvbkFwcC5nZXRQYXRoKFwidXNlckRhdGFcIik7XG5cbiAgbGV0IHNldHRpbmdzTmFtZSA9IFwic2V0dGluZ3NcIjtcbiAgbGV0IHB1YmxpY05hbWUgPSBcInB1YmxpY1wiO1xuICBsZXQgZG93bmxvYWRzTmFtZSA9IFwibW92aWVzXCI7XG5cbiAgaWYgKGpzb25TZXR0aW5ncykge1xuICAgIGlmIChqc29uU2V0dGluZ3MuYXBwRGlyKSB7XG4gICAgICBhcHBEaXIgPSBqc29uU2V0dGluZ3MuYXBwRGlyO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLnNldHRpbmdzTmFtZSkge1xuICAgICAgc2V0dGluZ3NOYW1lID0ganNvblNldHRpbmdzLnNldHRpbmdzTmFtZTtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5wdWJsaWNOYW1lKSB7XG4gICAgICBwdWJsaWNOYW1lID0ganNvblNldHRpbmdzLnB1YmxpY05hbWU7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MuZG93bmxvYWRzTmFtZSkge1xuICAgICAgZG93bmxvYWRzTmFtZSA9IGpzb25TZXR0aW5ncy5kb3dubG9hZHNOYW1lO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm9mZmxpbmVEb21haW4pIHtcbiAgICAgIHNldHRpbmdzLm9mZmxpbmVEb21haW4gPSBqc29uU2V0dGluZ3Mub2ZmbGluZURvbWFpbjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5vZmZsaW5lQ29udGVudFBvcnRTdGFydCkge1xuICAgICAgc2V0dGluZ3Mub2ZmbGluZUNvbnRlbnRQb3J0U3RhcnQgPSBqc29uU2V0dGluZ3Mub2ZmbGluZUNvbnRlbnRQb3J0U3RhcnQ7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MubWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UpIHtcbiAgICAgIHNldHRpbmdzLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlID0ganNvblNldHRpbmdzLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCkge1xuICAgICAgc2V0dGluZ3MubnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsID0ganNvblNldHRpbmdzLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbDtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5zdG9wT25FcnJvciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBzZXR0aW5ncy5zdG9wT25FcnJvciA9IGpzb25TZXR0aW5ncy5zdG9wT25FcnJvcjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5jdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXgpIHtcbiAgICAgIHNldHRpbmdzLmN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCA9IGpzb25TZXR0aW5ncy5jdXN0b21NYW5pZmVzdElkRm9sZGVyUmVnZXg7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3Mub3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyKSB7XG4gICAgICBzZXR0aW5ncy5vcGVuaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXIgPSBqc29uU2V0dGluZ3Mub3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLmNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3Rlcikge1xuICAgICAgc2V0dGluZ3MuY2xvc2luZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyID0ganNvblNldHRpbmdzLmNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlcjtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy51c2VIZWFkUmVxdWVzdHMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgc2V0dGluZ3MudXNlSGVhZFJlcXVlc3RzID0ganNvblNldHRpbmdzLnVzZUhlYWRSZXF1ZXN0cztcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy50aW1lcyAmJiBqc29uU2V0dGluZ3MudGltZXMuUkVUUllfVElNRU9VVCkge1xuICAgICAgc2V0dGluZ3MudGltZXMuUkVUUllfVElNRU9VVCA9IGpzb25TZXR0aW5ncy50aW1lcy5SRVRSWV9USU1FT1VUO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkpIHtcbiAgICAgIHNldHRpbmdzLk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkgPSBqc29uU2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9SRVRSWTtcbiAgICB9XG4gICAgaWYgKGpzb25TZXR0aW5ncy5NQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZKSB7XG4gICAgICBzZXR0aW5ncy5NQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZID0ganNvblNldHRpbmdzLk1BWF9JTlRFUk5FVF9FUlJPUlNfRE9XTkxPQURfQ0hVTktfUkVUUlk7XG4gICAgfVxuICAgIGlmIChqc29uU2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSkge1xuICAgICAgc2V0dGluZ3MuTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSA9IGpzb25TZXR0aW5ncy5NQVhfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZO1xuICAgIH1cbiAgICBpZiAoanNvblNldHRpbmdzLm5vQ2FjaGUpIHtcbiAgICAgIHNldHRpbmdzLm5vQ2FjaGUgPSBqc29uU2V0dGluZ3Mubm9DYWNoZVxuICAgIH1cbiAgfVxuXG4gIGFwcERpciA9IHBhdGguam9pbihwYXRoLnJlc29sdmUoYXBwRGlyKSwgXCIvXCIpO1xuXG4gIGxldCBzZXR0aW5nc0ZvbGRlciA9IHBhdGguam9pbihwYXRoLnJlc29sdmUoYXBwRGlyICsgc2V0dGluZ3NOYW1lKSArIFwiL1wiLCBcIi9cIik7XG5cbiAgbGV0IHB1YmxpY0ZvbGRlclBhdGggPSBwYXRoLmpvaW4ocGF0aC5yZXNvbHZlKGFwcERpciArIHB1YmxpY05hbWUpICsgXCIvXCIsIFwiL1wiKTtcblxuICBsZXQgZG93bmxvYWRzRm9sZGVyUGF0aCA9IHBhdGguam9pbihwYXRoLnJlc29sdmUocHVibGljRm9sZGVyUGF0aCArIGRvd25sb2Fkc05hbWUpICsgXCIvXCIsIFwiL1wiKTtcblxuICBzZXR0aW5ncy5hcHBEaXIgPSBhcHBEaXI7XG4gIHNldHRpbmdzLmRvd25sb2Fkc0ZvbGRlclBhdGggPSBkb3dubG9hZHNGb2xkZXJQYXRoO1xuICBzZXR0aW5ncy5kb3dubG9hZHNOYW1lID0gZG93bmxvYWRzTmFtZTtcbiAgc2V0dGluZ3MucHVibGljRm9sZGVyUGF0aCA9IHB1YmxpY0ZvbGRlclBhdGg7XG4gIHNldHRpbmdzLnNldHRpbmdzRm9sZGVyID0gc2V0dGluZ3NGb2xkZXI7XG5cbiAgLy8gY29uc29sZS5sb2coJ2FwcERpcjonLCBhcHBEaXIpO1xufVxuXG5mdW5jdGlvbiBnZXRTZXR0aW5ncyAoKSB7XG4gIHJldHVybiBzZXR0aW5ncztcbn1cblxuZXhwb3J0cy5sb2FkID0gbG9hZFVzZXJTZXR0aW5ncztcbmV4cG9ydHMuZ2V0U2V0dGluZ3MgPSBnZXRTZXR0aW5ncztcbiJdLCJuYW1lcyI6WyJlbGVjdHJvbkFwcCIsInJlcXVpcmUiLCJhcHAiLCJwYXRoIiwic2V0dGluZ3MiLCJkb3dubG9hZGluZ1RocmVhZHNSdWxlcyIsIml0ZW1zIiwibWF4IiwiZmlsZXMiLCJ0aHJlYWRzIiwic2l6ZSIsIm51bWJlciIsIk1BWF9FUlJPUlNfRE9XTkxPQURfUkVUUlkiLCJNQVhfSU5URVJORVRfRVJST1JTX0RPV05MT0FEX0NIVU5LX1JFVFJZIiwiTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSIsIm9mZmxpbmVEb21haW4iLCJvZmZsaW5lQ29udGVudFBvcnRTdGFydCIsIm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlIiwibnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsIiwic3RvcE9uRXJyb3IiLCJzdG9yZXMiLCJET1dOTE9BRFMiLCJTVEFUVVMiLCJQQVJBTVMiLCJNQU5JRkVTVCIsIlBFUlNJU1RFTlQiLCJEQVRBIiwic2F2ZVRvRGlzayIsInRpbWVzIiwiRE9XTkxPQURfVElNRU9VVCIsIlJFVFJZX1RJTUVPVVQiLCJ1c2VDaHVua2VkRW5jb2RpbmciLCJ1c2VIZWFkUmVxdWVzdHMiLCJub0NhY2hlIiwiZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnMiLCJoZWFkZXJzIiwidGltZW91dCIsImN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCIsIm9wZW5pbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciIsImNsb3NpbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlciIsImxvYWRVc2VyU2V0dGluZ3MiLCJqc29uU2V0dGluZ3MiLCJhcHBEaXIiLCJnZXRQYXRoIiwic2V0dGluZ3NOYW1lIiwicHVibGljTmFtZSIsImRvd25sb2Fkc05hbWUiLCJ1bmRlZmluZWQiLCJqb2luIiwicmVzb2x2ZSIsInNldHRpbmdzRm9sZGVyIiwicHVibGljRm9sZGVyUGF0aCIsImRvd25sb2Fkc0ZvbGRlclBhdGgiLCJnZXRTZXR0aW5ncyIsImV4cG9ydHMiLCJsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9277\n')},9097:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\n/**\n * @typedef manifestObject\n * @property {Object} video - video representations\n * @property {Object} audio - audio representations\n * @property {Object} text - text representations\n * @property {String} id - manifest id\n */\n\n/**\n * @memberOf DownstreamElectronFE\n * @namespace DownstreamElectronFE.downloads\n */\nvar downloads = {};\n\n/**\n * create a new download, if success the result will contain "id" which should be used for other calls\n * @method create\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestUrl - manifest url\n * @param {string} customManifestId - custom manifest id, if empty, null or \'\'\n * the id will be generated automatically.<br>\n * The manifestId is used to also store information about movie under the same folder so if you overwrite it,\n * it will be also used as a name for folder where movie content will be stored\n * customManifestId will be validated against default regex\n * {@link DownstreamElectronBE.configuration|customManifestIdFolderRegex}\n * @example\n * var url = "http://storage.googleapis.com/shaka-demo-assets/angel-one/dash.mpd";\n * DownstreamElectronFE.downloads.create(url)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * DownstreamElectronFE.downloads.create(url, \'<myCustomId>\')\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.create = __webpack_require__(3678);\n\n/**\n * create a persistent session\n * @method createPersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {PersistentConfig} config - persistent configuration\n * @param {boolean} [forced=false] - replace existing persistent session, if true\n * @example\n * var config = {\n *   licenseUrl: \'https://lic.staging.drmtoday.com/license-proxy-widevine/cenc/\',\n *   serverCertificate: new Uint8Array(<server_certificate>),\n *   customData: {\n *     userId: \'<user_id>\',\n *     sessionId: \'<session_id>\',\n *     merchant: \'<merchant>\'\n *   }\n * };\n * DownstreamElectronFE.downloads.createPersistent(manifestId, config)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.createPersistent = __webpack_require__(6916);\n\n/**\n * Get info about manifest folder\n * @method getFolderInfo\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getFolderInfo()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.getFolderInfo = __webpack_require__(7217);\n\n/**\n * get ids of all downloads\n * @method getList\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getList()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.getList = __webpack_require__(136);\n\n/**\n * get list of all downloads with additional info {@link manifestObject}\n * @method getListWithInfo\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.getListWithInfo()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.getListWithInfo = __webpack_require__(7318);\n\n/**\n * get offline link for download which can be used by any player to play movie\n * @method getOfflineLink\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.getOfflineLink(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.getOfflineLink = __webpack_require__(9074);\n\n/**\n * get info for download\n * @method info\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.info(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.info = __webpack_require__(589);\n\n/**\n * removes download\n * @method remove\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.remove(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.remove = __webpack_require__(6128);\n\n/**\n * removes all downloads\n * @method removeAll\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.removeAll()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.removeAll = __webpack_require__(5058);\n\n/**\n * removes all unfinished downloads\n * @method removeAllUnfinished\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.removeAllUnfinished()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.removeAllUnfinished = __webpack_require__(9199);\n\n/**\n * removes persistent information previously stored\n * @method removePersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.removePersistent(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.removePersistent = __webpack_require__(7552);\n\n/**\n * resumes download which could be previously stopped or is broken\n * @method resume\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.resume(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.resume = __webpack_require__(7560);\n\n/**\n * Saves some user data this might be a string or json object.\n * This data will be available as "data" property for info of download\n * @method saveData\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string|json} data - user data\n * @example\n * DownstreamElectronFE.downloads.saveData(manifestId, data)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.saveData = __webpack_require__(9463);\n\n/**\n * saves persistent session identifier\n * @method savePersistent\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string} persistentSessionId - persistent session identifier\n * @example\n * DownstreamElectronFE.downloads.savePersistent(manifestId, persistentSessionId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.savePersistent = __webpack_require__(3880);\n\n/**\n * starts download\n * @method start\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - representations to be downloaded, available options: \'video\', \'audio\', \'text\'.\n * For each option please provide an array of representations id to be downloaded\n * @example\n * DownstreamElectronFE.downloads.start(manifestId, {video: [\'video=400000\', \'video=795000\'], audio: [\'audio=128000\']})\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.start = __webpack_require__(1792);\n\n/**\n * stops download\n * @method stop\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @example\n * DownstreamElectronFE.downloads.stop(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.stop = __webpack_require__(647);\n\n/**\n * stops all downloads\n * @method stopAll\n * @memberOf DownstreamElectronFE.downloads\n * @example\n * DownstreamElectronFE.downloads.stopAll()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.stopAll = __webpack_require__(1120);\n\n/**\n * subscribe to download progress\n * @method subscribe\n * @memberOf DownstreamElectronFE.downloads\n * @param {string|array} manifestId - manifest identifier, or the array of the manifests identifier.\n * @param {number} interval - in milliseconds - how often callback onProgress should be invoked\n * @param {function} onProgress - callback to be invoked as often as defined by interval with [stats information]{@link DownloadStats}\n * @param {function} onFinish - callback to be invoked when download is finished\n * @example\n * function onProgress (err, stats) {\n *   if (err) {\n *     console.logs(stats);\n *   }\n * };\n * function onFinish (err, info) {\n *   if (err) {\n *     console.log("error", err);\n *   } else {\n *     console.log("success", info);\n *   }\n * };\n * DownstreamElectronFE.downloads.subscribe(manifestId, 1000, onProgress, onFinish)\n *    .then(\n *      function onSuccess() {console.log("subscribed successfully");},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.subscribe = __webpack_require__(608);\n\n/**\n * removes callbacks from subscribe process\n * @method unsubscribe\n * @memberOf DownstreamElectronFE.downloads\n * @param {string|array} manifestId - manifest identifier, or the array of the manifests identifier.\n * @example\n * DownstreamElectronFE.downloads.unsubscribe(manifestId)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.unsubscribe = __webpack_require__(6439);\n\n/**\n * update download folder info for manifest id\n * this can be usefule when user has copied download folder\n * @method updateDownloadFolder\n * @memberOf DownstreamElectronFE.downloads\n * @param {string} manifestId - manifest identifier\n * @param {string} downloadFolder - new download folder path\n * @example\n * DownstreamElectronFE.downloads.updateDownloadFolder(manifestId, downloadFolder)\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\ndownloads.updateDownloadFolder = __webpack_require__(1052);\n\n/**\n * remove all subscribers\n * @private\n * @method removeSubscribers\n * @memberOf DownstreamElectronFE\n * @example\n * DownstreamElectronFE.removeSubscribers()\n *    .then(\n *      function onSuccess(result) {console.log("success", result);},\n *      function onError(err) {console.log("error", err);\n *    })\n * @returns {Promise} - promise\n */\nvar removeSubscribers = __webpack_require__(8105);\nmodule.exports = {\n  downloads: downloads,\n  removeSubscribers: removeSubscribers\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBTW9CLGlCQUFpQixHQUFHcEIsbUJBQU8sQ0FBQyxJQUFpQyxDQUFDO0FBRXBFcUIsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZnhCLFNBQVMsRUFBRUEsU0FBUztFQUNwQnNCLGlCQUFpQixFQUFFQTtBQUNyQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzLWFsbC5qcz9iMGRhIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG4vKipcbiAqIEB0eXBlZGVmIG1hbmlmZXN0T2JqZWN0XG4gKiBAcHJvcGVydHkge09iamVjdH0gdmlkZW8gLSB2aWRlbyByZXByZXNlbnRhdGlvbnNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBhdWRpbyAtIGF1ZGlvIHJlcHJlc2VudGF0aW9uc1xuICogQHByb3BlcnR5IHtPYmplY3R9IHRleHQgLSB0ZXh0IHJlcHJlc2VudGF0aW9uc1xuICogQHByb3BlcnR5IHtTdHJpbmd9IGlkIC0gbWFuaWZlc3QgaWRcbiAqL1xuXG5cbi8qKlxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFXG4gKiBAbmFtZXNwYWNlIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICovXG5sZXQgZG93bmxvYWRzID0ge307XG5cbi8qKlxuICogY3JlYXRlIGEgbmV3IGRvd25sb2FkLCBpZiBzdWNjZXNzIHRoZSByZXN1bHQgd2lsbCBjb250YWluIFwiaWRcIiB3aGljaCBzaG91bGQgYmUgdXNlZCBmb3Igb3RoZXIgY2FsbHNcbiAqIEBtZXRob2QgY3JlYXRlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RVcmwgLSBtYW5pZmVzdCB1cmxcbiAqIEBwYXJhbSB7c3RyaW5nfSBjdXN0b21NYW5pZmVzdElkIC0gY3VzdG9tIG1hbmlmZXN0IGlkLCBpZiBlbXB0eSwgbnVsbCBvciAnJ1xuICogdGhlIGlkIHdpbGwgYmUgZ2VuZXJhdGVkIGF1dG9tYXRpY2FsbHkuPGJyPlxuICogVGhlIG1hbmlmZXN0SWQgaXMgdXNlZCB0byBhbHNvIHN0b3JlIGluZm9ybWF0aW9uIGFib3V0IG1vdmllIHVuZGVyIHRoZSBzYW1lIGZvbGRlciBzbyBpZiB5b3Ugb3ZlcndyaXRlIGl0LFxuICogaXQgd2lsbCBiZSBhbHNvIHVzZWQgYXMgYSBuYW1lIGZvciBmb2xkZXIgd2hlcmUgbW92aWUgY29udGVudCB3aWxsIGJlIHN0b3JlZFxuICogY3VzdG9tTWFuaWZlc3RJZCB3aWxsIGJlIHZhbGlkYXRlZCBhZ2FpbnN0IGRlZmF1bHQgcmVnZXhcbiAqIHtAbGluayBEb3duc3RyZWFtRWxlY3Ryb25CRS5jb25maWd1cmF0aW9ufGN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleH1cbiAqIEBleGFtcGxlXG4gKiB2YXIgdXJsID0gXCJodHRwOi8vc3RvcmFnZS5nb29nbGVhcGlzLmNvbS9zaGFrYS1kZW1vLWFzc2V0cy9hbmdlbC1vbmUvZGFzaC5tcGRcIjtcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5jcmVhdGUodXJsKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuY3JlYXRlKHVybCwgJzxteUN1c3RvbUlkPicpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmNyZWF0ZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvY3JlYXRlJyk7XG5cbi8qKlxuICogY3JlYXRlIGEgcGVyc2lzdGVudCBzZXNzaW9uXG4gKiBAbWV0aG9kIGNyZWF0ZVBlcnNpc3RlbnRcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtQZXJzaXN0ZW50Q29uZmlnfSBjb25maWcgLSBwZXJzaXN0ZW50IGNvbmZpZ3VyYXRpb25cbiAqIEBwYXJhbSB7Ym9vbGVhbn0gW2ZvcmNlZD1mYWxzZV0gLSByZXBsYWNlIGV4aXN0aW5nIHBlcnNpc3RlbnQgc2Vzc2lvbiwgaWYgdHJ1ZVxuICogQGV4YW1wbGVcbiAqIHZhciBjb25maWcgPSB7XG4gKiAgIGxpY2Vuc2VVcmw6ICdodHRwczovL2xpYy5zdGFnaW5nLmRybXRvZGF5LmNvbS9saWNlbnNlLXByb3h5LXdpZGV2aW5lL2NlbmMvJyxcbiAqICAgc2VydmVyQ2VydGlmaWNhdGU6IG5ldyBVaW50OEFycmF5KDxzZXJ2ZXJfY2VydGlmaWNhdGU+KSxcbiAqICAgY3VzdG9tRGF0YToge1xuICogICAgIHVzZXJJZDogJzx1c2VyX2lkPicsXG4gKiAgICAgc2Vzc2lvbklkOiAnPHNlc3Npb25faWQ+JyxcbiAqICAgICBtZXJjaGFudDogJzxtZXJjaGFudD4nXG4gKiAgIH1cbiAqIH07XG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuY3JlYXRlUGVyc2lzdGVudChtYW5pZmVzdElkLCBjb25maWcpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmNyZWF0ZVBlcnNpc3RlbnQgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL2NyZWF0ZVBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiBHZXQgaW5mbyBhYm91dCBtYW5pZmVzdCBmb2xkZXJcbiAqIEBtZXRob2QgZ2V0Rm9sZGVySW5mb1xuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5nZXRGb2xkZXJJbmZvKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0Rm9sZGVySW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZm9sZGVyLWluZm8nKTtcblxuLyoqXG4gKiBnZXQgaWRzIG9mIGFsbCBkb3dubG9hZHNcbiAqIEBtZXRob2QgZ2V0TGlzdFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5nZXRMaXN0KClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0TGlzdCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZ2V0LWxpc3QnKTtcblxuLyoqXG4gKiBnZXQgbGlzdCBvZiBhbGwgZG93bmxvYWRzIHdpdGggYWRkaXRpb25hbCBpbmZvIHtAbGluayBtYW5pZmVzdE9iamVjdH1cbiAqIEBtZXRob2QgZ2V0TGlzdFdpdGhJbmZvXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLmdldExpc3RXaXRoSW5mbygpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLmdldExpc3RXaXRoSW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvZ2V0LWxpc3Qtd2l0aC1pbmZvJyk7XG5cbi8qKlxuICogZ2V0IG9mZmxpbmUgbGluayBmb3IgZG93bmxvYWQgd2hpY2ggY2FuIGJlIHVzZWQgYnkgYW55IHBsYXllciB0byBwbGF5IG1vdmllXG4gKiBAbWV0aG9kIGdldE9mZmxpbmVMaW5rXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuZ2V0T2ZmbGluZUxpbmsobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuZ2V0T2ZmbGluZUxpbmsgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL2dldC1vZmZsaW5lLWxpbmsnKTtcblxuLyoqXG4gKiBnZXQgaW5mbyBmb3IgZG93bmxvYWRcbiAqIEBtZXRob2QgaW5mb1xuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLmluZm8obWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuaW5mbyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvaW5mbycpO1xuXG4vKipcbiAqIHJlbW92ZXMgZG93bmxvYWRcbiAqIEBtZXRob2QgcmVtb3ZlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMucmVtb3ZlKG1hbmlmZXN0SWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnJlbW92ZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlJyk7XG5cbi8qKlxuICogcmVtb3ZlcyBhbGwgZG93bmxvYWRzXG4gKiBAbWV0aG9kIHJlbW92ZUFsbFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5yZW1vdmVBbGwoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy5yZW1vdmVBbGwgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS1hbGwnKTtcblxuLyoqXG4gKiByZW1vdmVzIGFsbCB1bmZpbmlzaGVkIGRvd25sb2Fkc1xuICogQG1ldGhvZCByZW1vdmVBbGxVbmZpbmlzaGVkXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnJlbW92ZUFsbFVuZmluaXNoZWQoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy5yZW1vdmVBbGxVbmZpbmlzaGVkID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9yZW1vdmUtYWxsLXVuZmluaXNoZWQnKTtcblxuLyoqXG4gKiByZW1vdmVzIHBlcnNpc3RlbnQgaW5mb3JtYXRpb24gcHJldmlvdXNseSBzdG9yZWRcbiAqIEBtZXRob2QgcmVtb3ZlUGVyc2lzdGVudFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnJlbW92ZVBlcnNpc3RlbnQobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMucmVtb3ZlUGVyc2lzdGVudCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlLXBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiByZXN1bWVzIGRvd25sb2FkIHdoaWNoIGNvdWxkIGJlIHByZXZpb3VzbHkgc3RvcHBlZCBvciBpcyBicm9rZW5cbiAqIEBtZXRob2QgcmVzdW1lXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMucmVzdW1lKG1hbmlmZXN0SWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnJlc3VtZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVzdW1lJyk7XG5cbi8qKlxuICogU2F2ZXMgc29tZSB1c2VyIGRhdGEgdGhpcyBtaWdodCBiZSBhIHN0cmluZyBvciBqc29uIG9iamVjdC5cbiAqIFRoaXMgZGF0YSB3aWxsIGJlIGF2YWlsYWJsZSBhcyBcImRhdGFcIiBwcm9wZXJ0eSBmb3IgaW5mbyBvZiBkb3dubG9hZFxuICogQG1ldGhvZCBzYXZlRGF0YVxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ3xqc29ufSBkYXRhIC0gdXNlciBkYXRhXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnNhdmVEYXRhKG1hbmlmZXN0SWQsIGRhdGEpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnNhdmVEYXRhID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9zYXZlLWRhdGEnKTtcblxuLyoqXG4gKiBzYXZlcyBwZXJzaXN0ZW50IHNlc3Npb24gaWRlbnRpZmllclxuICogQG1ldGhvZCBzYXZlUGVyc2lzdGVudFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gcGVyc2lzdGVudFNlc3Npb25JZCAtIHBlcnNpc3RlbnQgc2Vzc2lvbiBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnNhdmVQZXJzaXN0ZW50KG1hbmlmZXN0SWQsIHBlcnNpc3RlbnRTZXNzaW9uSWQpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnNhdmVQZXJzaXN0ZW50ID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy9zYXZlLXBlcnNpc3RlbnQnKTtcblxuLyoqXG4gKiBzdGFydHMgZG93bmxvYWRcbiAqIEBtZXRob2Qgc3RhcnRcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IHJlcHJlc2VudGF0aW9ucyAtIHJlcHJlc2VudGF0aW9ucyB0byBiZSBkb3dubG9hZGVkLCBhdmFpbGFibGUgb3B0aW9uczogJ3ZpZGVvJywgJ2F1ZGlvJywgJ3RleHQnLlxuICogRm9yIGVhY2ggb3B0aW9uIHBsZWFzZSBwcm92aWRlIGFuIGFycmF5IG9mIHJlcHJlc2VudGF0aW9ucyBpZCB0byBiZSBkb3dubG9hZGVkXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnN0YXJ0KG1hbmlmZXN0SWQsIHt2aWRlbzogWyd2aWRlbz00MDAwMDAnLCAndmlkZW89Nzk1MDAwJ10sIGF1ZGlvOiBbJ2F1ZGlvPTEyODAwMCddfSlcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RhcnQgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N0YXJ0Jyk7XG5cbi8qKlxuICogc3RvcHMgZG93bmxvYWRcbiAqIEBtZXRob2Qgc3RvcFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAZXhhbXBsZVxuICogRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzLnN0b3AobWFuaWZlc3RJZClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RvcCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3RvcCcpO1xuXG4vKipcbiAqIHN0b3BzIGFsbCBkb3dubG9hZHNcbiAqIEBtZXRob2Qgc3RvcEFsbFxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy5zdG9wQWxsKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5kb3dubG9hZHMuc3RvcEFsbCA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3RvcC1hbGwnKTtcblxuLyoqXG4gKiBzdWJzY3JpYmUgdG8gZG93bmxvYWQgcHJvZ3Jlc3NcbiAqIEBtZXRob2Qgc3Vic2NyaWJlXG4gKiBAbWVtYmVyT2YgRG93bnN0cmVhbUVsZWN0cm9uRkUuZG93bmxvYWRzXG4gKiBAcGFyYW0ge3N0cmluZ3xhcnJheX0gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXIsIG9yIHRoZSBhcnJheSBvZiB0aGUgbWFuaWZlc3RzIGlkZW50aWZpZXIuXG4gKiBAcGFyYW0ge251bWJlcn0gaW50ZXJ2YWwgLSBpbiBtaWxsaXNlY29uZHMgLSBob3cgb2Z0ZW4gY2FsbGJhY2sgb25Qcm9ncmVzcyBzaG91bGQgYmUgaW52b2tlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25Qcm9ncmVzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgYXMgb2Z0ZW4gYXMgZGVmaW5lZCBieSBpbnRlcnZhbCB3aXRoIFtzdGF0cyBpbmZvcm1hdGlvbl17QGxpbmsgRG93bmxvYWRTdGF0c31cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uRmluaXNoIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGRvd25sb2FkIGlzIGZpbmlzaGVkXG4gKiBAZXhhbXBsZVxuICogZnVuY3Rpb24gb25Qcm9ncmVzcyAoZXJyLCBzdGF0cykge1xuICogICBpZiAoZXJyKSB7XG4gKiAgICAgY29uc29sZS5sb2dzKHN0YXRzKTtcbiAqICAgfVxuICogfTtcbiAqIGZ1bmN0aW9uIG9uRmluaXNoIChlcnIsIGluZm8pIHtcbiAqICAgaWYgKGVycikge1xuICogICAgIGNvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgfSBlbHNlIHtcbiAqICAgICBjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgaW5mbyk7XG4gKiAgIH1cbiAqIH07XG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMuc3Vic2NyaWJlKG1hbmlmZXN0SWQsIDEwMDAsIG9uUHJvZ3Jlc3MsIG9uRmluaXNoKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtjb25zb2xlLmxvZyhcInN1YnNjcmliZWQgc3VjY2Vzc2Z1bGx5XCIpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnN1YnNjcmliZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvc3Vic2NyaWJlJyk7XG5cbi8qKlxuICogcmVtb3ZlcyBjYWxsYmFja3MgZnJvbSBzdWJzY3JpYmUgcHJvY2Vzc1xuICogQG1ldGhvZCB1bnN1YnNjcmliZVxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyLCBvciB0aGUgYXJyYXkgb2YgdGhlIG1hbmlmZXN0cyBpZGVudGlmaWVyLlxuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkcy51bnN1YnNjcmliZShtYW5pZmVzdElkKVxuICogICAgLnRoZW4oXG4gKiAgICAgIGZ1bmN0aW9uIG9uU3VjY2VzcyhyZXN1bHQpIHtjb25zb2xlLmxvZyhcInN1Y2Nlc3NcIiwgcmVzdWx0KTt9LFxuICogICAgICBmdW5jdGlvbiBvbkVycm9yKGVycikge2NvbnNvbGUubG9nKFwiZXJyb3JcIiwgZXJyKTtcbiAqICAgIH0pXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbmRvd25sb2Fkcy51bnN1YnNjcmliZSA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9kb3dubG9hZHMvdW5zdWJzY3JpYmUnKTtcblxuLyoqXG4gKiB1cGRhdGUgZG93bmxvYWQgZm9sZGVyIGluZm8gZm9yIG1hbmlmZXN0IGlkXG4gKiB0aGlzIGNhbiBiZSB1c2VmdWxlIHdoZW4gdXNlciBoYXMgY29waWVkIGRvd25sb2FkIGZvbGRlclxuICogQG1ldGhvZCB1cGRhdGVEb3dubG9hZEZvbGRlclxuICogQG1lbWJlck9mIERvd25zdHJlYW1FbGVjdHJvbkZFLmRvd25sb2Fkc1xuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gZG93bmxvYWRGb2xkZXIgLSBuZXcgZG93bmxvYWQgZm9sZGVyIHBhdGhcbiAqIEBleGFtcGxlXG4gKiBEb3duc3RyZWFtRWxlY3Ryb25GRS5kb3dubG9hZHMudXBkYXRlRG93bmxvYWRGb2xkZXIobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpXG4gKiAgICAudGhlbihcbiAqICAgICAgZnVuY3Rpb24gb25TdWNjZXNzKHJlc3VsdCkge2NvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXN1bHQpO30sXG4gKiAgICAgIGZ1bmN0aW9uIG9uRXJyb3IoZXJyKSB7Y29uc29sZS5sb2coXCJlcnJvclwiLCBlcnIpO1xuICogICAgfSlcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuZG93bmxvYWRzLnVwZGF0ZURvd25sb2FkRm9sZGVyID0gcmVxdWlyZSgnLi9iZS1tZXRob2RzL2Rvd25sb2Fkcy91cGRhdGUtZG93bmxvYWQtZm9sZGVyJyk7XG5cbi8qKlxuICogcmVtb3ZlIGFsbCBzdWJzY3JpYmVyc1xuICogQHByaXZhdGVcbiAqIEBtZXRob2QgcmVtb3ZlU3Vic2NyaWJlcnNcbiAqIEBtZW1iZXJPZiBEb3duc3RyZWFtRWxlY3Ryb25GRVxuICogQGV4YW1wbGVcbiAqIERvd25zdHJlYW1FbGVjdHJvbkZFLnJlbW92ZVN1YnNjcmliZXJzKClcbiAqICAgIC50aGVuKFxuICogICAgICBmdW5jdGlvbiBvblN1Y2Nlc3MocmVzdWx0KSB7Y29uc29sZS5sb2coXCJzdWNjZXNzXCIsIHJlc3VsdCk7fSxcbiAqICAgICAgZnVuY3Rpb24gb25FcnJvcihlcnIpIHtjb25zb2xlLmxvZyhcImVycm9yXCIsIGVycik7XG4gKiAgICB9KVxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5jb25zdCByZW1vdmVTdWJzY3JpYmVycyA9IHJlcXVpcmUoJy4vYmUtbWV0aG9kcy9yZW1vdmUtc3Vic2NyaWJlcnMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRvd25sb2FkczogZG93bmxvYWRzLFxuICByZW1vdmVTdWJzY3JpYmVyczogcmVtb3ZlU3Vic2NyaWJlcnNcbn07XG4iXSwibmFtZXMiOlsiZG93bmxvYWRzIiwiY3JlYXRlIiwicmVxdWlyZSIsImNyZWF0ZVBlcnNpc3RlbnQiLCJnZXRGb2xkZXJJbmZvIiwiZ2V0TGlzdCIsImdldExpc3RXaXRoSW5mbyIsImdldE9mZmxpbmVMaW5rIiwiaW5mbyIsInJlbW92ZSIsInJlbW92ZUFsbCIsInJlbW92ZUFsbFVuZmluaXNoZWQiLCJyZW1vdmVQZXJzaXN0ZW50IiwicmVzdW1lIiwic2F2ZURhdGEiLCJzYXZlUGVyc2lzdGVudCIsInN0YXJ0Iiwic3RvcCIsInN0b3BBbGwiLCJzdWJzY3JpYmUiLCJ1bnN1YnNjcmliZSIsInVwZGF0ZURvd25sb2FkRm9sZGVyIiwicmVtb3ZlU3Vic2NyaWJlcnMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9097\n')},3678:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\nvar translation = __webpack_require__(817);\nvar canCreateManifest = __webpack_require__(5079);\nvar getInvalidDiff = __webpack_require__(7815);\nvar appSettings = __webpack_require__(9277);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestUrl, customManifestId, manifestStr) {\n  var useCustomId = true;\n  if (typeof customManifestId === "undefined" || customManifestId === "" || customManifestId === null) {\n    useCustomId = false;\n  }\n  if (useCustomId) {\n    if (typeof customManifestId !== "undefined" && typeof customManifestId !== "number" && typeof customManifestId !== "string") {\n      onFailure(translation.getError(translation.e.manifests.INVALID_ID, customManifestId));\n      return;\n    }\n    var customManifestIdFolderRegex = appSettings.getSettings().customManifestIdFolderRegex;\n    if (!customManifestId.match(customManifestIdFolderRegex)) {\n      var invalid = getInvalidDiff(customManifestId, customManifestIdFolderRegex, appSettings.getSettings().openingTagForInvalidCustomManifestIdCharacter, appSettings.getSettings().closingTagForInvalidCustomManifestIdCharacter);\n      onFailure(translation.getError(translation.e.manifests.INVALID_ID, invalid));\n      return;\n    }\n  }\n  var manifest = new Manifest(customManifestId);\n  var promise;\n  if (manifestStr) {\n    promise = manifest.loadWithManifest(manifestUrl, manifestStr);\n  } else {\n    promise = manifest.load(manifestUrl);\n  }\n  promise.then(function () {\n    if (useCustomId) {\n      canCreateManifest(customManifestId).then(function () {\n        api.manifestController.cacheManifest(manifest);\n        onSuccess(manifest.getJsonInfo());\n      }, function (err) {\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, customManifestId), err);\n      });\n    } else {\n      api.manifestController.cacheManifest(manifest);\n      onSuccess(manifest.getJsonInfo());\n    }\n  }, function (err) {\n    onFailure(translation.getError(translation.e.manifests.LOADING_FAILED, manifestUrl), err);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDaUIsUUFBUSxDQUFDTyxXQUFXLEVBQUUsQ0FBQztJQUNuQztFQUNGLENBQUMsRUFBRSxVQUFDQyxHQUFHLEVBQUs7SUFDVnhCLFNBQVMsQ0FBQ1IsV0FBVyxDQUFDYyxRQUFRLENBQUNkLFdBQVcsQ0FBQ2UsQ0FBQyxDQUFDQyxTQUFTLENBQUNrQixjQUFjLEVBQUV4QixXQUFXLENBQUMsRUFBRXNCLEdBQUcsQ0FBQztFQUMzRixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9jcmVhdGUuanM/ZWMyNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgTWFuaWZlc3QgPSByZXF1aXJlKFwiLi4vLi4vbWFuaWZlc3QvbG9hZGVyL21hbmlmZXN0XCIpLk1hbmlmZXN0O1xuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKFwiLi4vLi4vdHJhbnNsYXRpb24vaW5kZXhcIik7XG5jb25zdCBjYW5DcmVhdGVNYW5pZmVzdCA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2Nhbi1jcmVhdGUtbWFuaWZlc3RcIik7XG5jb25zdCBnZXRJbnZhbGlkRGlmZiA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2dldC1pbnZhbGlkLWRpZmZcIik7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi8uLi9hcHAtc2V0dGluZ3NcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RVcmwsIGN1c3RvbU1hbmlmZXN0SWQsIG1hbmlmZXN0U3RyKSB7XG4gIHZhciB1c2VDdXN0b21JZCA9IHRydWU7XG5cbiAgaWYgKHR5cGVvZiBjdXN0b21NYW5pZmVzdElkID09PSBcInVuZGVmaW5lZFwiIHx8XG4gICAgY3VzdG9tTWFuaWZlc3RJZCA9PT0gXCJcIiB8fFxuICAgIGN1c3RvbU1hbmlmZXN0SWQgPT09IG51bGwpIHtcbiAgICB1c2VDdXN0b21JZCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKHVzZUN1c3RvbUlkKSB7XG4gICAgaWYgKHR5cGVvZiBjdXN0b21NYW5pZmVzdElkICE9PSBcInVuZGVmaW5lZFwiICYmXG4gICAgICB0eXBlb2YgY3VzdG9tTWFuaWZlc3RJZCAhPT0gXCJudW1iZXJcIiAmJlxuICAgICAgdHlwZW9mIGN1c3RvbU1hbmlmZXN0SWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLm1hbmlmZXN0cy5JTlZBTElEX0lELCBjdXN0b21NYW5pZmVzdElkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IGN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4O1xuXG4gICAgaWYgKCFjdXN0b21NYW5pZmVzdElkLm1hdGNoKGN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCkpIHtcbiAgICAgIGNvbnN0IGludmFsaWQgPSBnZXRJbnZhbGlkRGlmZihcbiAgICAgICAgY3VzdG9tTWFuaWZlc3RJZCxcbiAgICAgICAgY3VzdG9tTWFuaWZlc3RJZEZvbGRlclJlZ2V4LFxuICAgICAgICBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm9wZW5pbmdUYWdGb3JJbnZhbGlkQ3VzdG9tTWFuaWZlc3RJZENoYXJhY3RlcixcbiAgICAgICAgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5jbG9zaW5nVGFnRm9ySW52YWxpZEN1c3RvbU1hbmlmZXN0SWRDaGFyYWN0ZXIpO1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLklOVkFMSURfSUQsIGludmFsaWQpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cblxuICBsZXQgbWFuaWZlc3QgPSBuZXcgTWFuaWZlc3QoY3VzdG9tTWFuaWZlc3RJZCk7XG4gIGxldCBwcm9taXNlO1xuICBpZiAobWFuaWZlc3RTdHIpIHtcbiAgICBwcm9taXNlID0gbWFuaWZlc3QubG9hZFdpdGhNYW5pZmVzdChtYW5pZmVzdFVybCwgbWFuaWZlc3RTdHIpXG4gIH0gZWxzZSB7XG4gICAgcHJvbWlzZSA9IG1hbmlmZXN0LmxvYWQobWFuaWZlc3RVcmwpO1xuICB9XG5cbiAgcHJvbWlzZS50aGVuKCgpID0+IHtcbiAgICBpZiAodXNlQ3VzdG9tSWQpIHtcbiAgICAgIGNhbkNyZWF0ZU1hbmlmZXN0KGN1c3RvbU1hbmlmZXN0SWQpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBhcGkubWFuaWZlc3RDb250cm9sbGVyLmNhY2hlTWFuaWZlc3QobWFuaWZlc3QpO1xuICAgICAgICBvblN1Y2Nlc3MobWFuaWZlc3QuZ2V0SnNvbkluZm8oKSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLm1hbmlmZXN0cy5GT0xERVJfQUxSRUFEWV9FWElTVFMsIGN1c3RvbU1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5tYW5pZmVzdENvbnRyb2xsZXIuY2FjaGVNYW5pZmVzdChtYW5pZmVzdCk7XG4gICAgICBvblN1Y2Nlc3MobWFuaWZlc3QuZ2V0SnNvbkluZm8oKSk7XG4gICAgfVxuICB9LCAoZXJyKSA9PiB7XG4gICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLkxPQURJTkdfRkFJTEVELCBtYW5pZmVzdFVybCksIGVycik7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJNYW5pZmVzdCIsInJlcXVpcmUiLCJ0cmFuc2xhdGlvbiIsImNhbkNyZWF0ZU1hbmlmZXN0IiwiZ2V0SW52YWxpZERpZmYiLCJhcHBTZXR0aW5ncyIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdFVybCIsImN1c3RvbU1hbmlmZXN0SWQiLCJtYW5pZmVzdFN0ciIsInVzZUN1c3RvbUlkIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiSU5WQUxJRF9JRCIsImN1c3RvbU1hbmlmZXN0SWRGb2xkZXJSZWdleCIsImdldFNldHRpbmdzIiwibWF0Y2giLCJpbnZhbGlkIiwib3BlbmluZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyIiwiY2xvc2luZ1RhZ0ZvckludmFsaWRDdXN0b21NYW5pZmVzdElkQ2hhcmFjdGVyIiwibWFuaWZlc3QiLCJwcm9taXNlIiwibG9hZFdpdGhNYW5pZmVzdCIsImxvYWQiLCJ0aGVuIiwibWFuaWZlc3RDb250cm9sbGVyIiwiY2FjaGVNYW5pZmVzdCIsImdldEpzb25JbmZvIiwiZXJyIiwiRk9MREVSX0FMUkVBRFlfRVhJU1RTIiwiTE9BRElOR19GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3678\n')},6916:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess /*, onFailure, target, manifestId */) {\n  onSuccess();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjkxNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLENBQUMsc0NBQXNDO0VBQzlFQSxTQUFTLEVBQUU7QUFDYixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9jcmVhdGVQZXJzaXN0ZW50LmpzP2VhZGQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzIC8qLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCAqLykge1xuICBvblN1Y2Nlc3MoKTtcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6916\n")},7217:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestFolderInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.INFO_FAILED, manifestId), err);\n    } else {\n      onSuccess(info);\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzIxNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7RUFDeEVKLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNDLHFCQUFxQixDQUFDRixVQUFVLEVBQUUsVUFBVUcsR0FBRyxFQUFFQyxJQUFJLEVBQUU7SUFDM0UsSUFBSUQsR0FBRyxFQUFFO01BQ1BMLFNBQVMsQ0FBQ04sV0FBVyxDQUFDYSxRQUFRLENBQUNiLFdBQVcsQ0FBQ2MsQ0FBQyxDQUFDQyxTQUFTLENBQUNDLFdBQVcsRUFBRVIsVUFBVSxDQUFDLEVBQUVHLEdBQUcsQ0FBQztJQUN2RixDQUFDLE1BQU07TUFDTE4sU0FBUyxDQUFDTyxJQUFJLENBQUM7SUFDakI7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9mb2xkZXItaW5mby5qcz9lY2MyIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RGb2xkZXJJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuSU5GT19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MoaW5mbyk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0Rm9sZGVySW5mbyIsImVyciIsImluZm8iLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJJTkZPX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7217\n")},7318:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, full) {\n  api.offlineController.getManifestsListWithInfo(function (err, list) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.LIST_LOADING_FAILED), err);\n    } else {\n      onSuccess(list);\n    }\n  }, full);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzMxOC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUU7RUFDbEVKLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNDLHdCQUF3QixDQUFDLFVBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQ2xFLElBQUlELEdBQUcsRUFBRTtNQUNQTCxTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBUSxDQUFDYixXQUFXLENBQUNjLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxtQkFBbUIsQ0FBQyxFQUFFTCxHQUFHLENBQUM7SUFDbkYsQ0FBQyxNQUFNO01BQ0xOLFNBQVMsQ0FBQ08sSUFBSSxDQUFDO0lBQ2pCO0VBQ0YsQ0FBQyxFQUFFSixJQUFJLENBQUM7QUFDVixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9nZXQtbGlzdC13aXRoLWluZm8uanM/ZjQ4MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIGZ1bGwpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0c0xpc3RXaXRoSW5mbyhmdW5jdGlvbiAoZXJyLCBsaXN0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLkxJU1RfTE9BRElOR19GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MobGlzdCk7XG4gICAgfVxuICB9LCBmdWxsKTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsImZ1bGwiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0c0xpc3RXaXRoSW5mbyIsImVyciIsImxpc3QiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJMSVNUX0xPQURJTkdfRkFJTEVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7318\n")},136:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsList(function (err, list) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.LIST_LOADING_FAILED), err);\n    } else {\n      onSuccess(list);\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM2LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQU1BLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyxHQUF5QixDQUFDO0FBRXREQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFVQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFO0VBQ3BERixHQUFHLENBQUNHLGlCQUFpQixDQUFDQyxnQkFBZ0IsQ0FBQyxVQUFVQyxHQUFHLEVBQUVDLElBQUksRUFBRTtJQUMxRCxJQUFJRCxHQUFHLEVBQUU7TUFDUEgsU0FBUyxDQUFDTixXQUFXLENBQUNXLFFBQVEsQ0FBQ1gsV0FBVyxDQUFDWSxDQUFDLENBQUNDLFNBQVMsQ0FBQ0MsbUJBQW1CLENBQUMsRUFBRUwsR0FBRyxDQUFDO0lBQ25GLENBQUMsTUFBTTtNQUNMSixTQUFTLENBQUNLLElBQUksQ0FBQztJQUNqQjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL2dldC1saXN0LmpzPzNmYjUiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RzTGlzdChmdW5jdGlvbiAoZXJyLCBsaXN0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLkxJU1RfTE9BRElOR19GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MobGlzdCk7XG4gICAgfVxuICB9KTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdCIsImVyciIsImxpc3QiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJMSVNUX0xPQURJTkdfRkFJTEVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///136\n")},9074:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n    } else {\n      onSuccess({\n        offlineLink: api.getOfflinePath(manifestId) + info.manifest.name,\n        persistent: info.persistent\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTA3NC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7RUFDeEVKLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNDLGVBQWUsQ0FBQ0YsVUFBVSxFQUFFLFVBQVVHLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQ3JFLElBQUlELEdBQUcsRUFBRTtNQUNQTCxTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBUSxDQUFDYixXQUFXLENBQUNjLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxRQUFRLENBQUMsRUFBRUwsR0FBRyxDQUFDO0lBQ3hFLENBQUMsTUFBTTtNQUNMTixTQUFTLENBQUM7UUFDUlksV0FBVyxFQUFFYixHQUFHLENBQUNjLGNBQWMsQ0FBQ1YsVUFBVSxDQUFDLEdBQUdJLElBQUksQ0FBQ08sUUFBUSxDQUFDQyxJQUFJO1FBQ2hFQyxVQUFVLEVBQUVULElBQUksQ0FBQ1M7TUFDbkIsQ0FBQyxDQUFDO0lBQ0o7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9nZXQtb2ZmbGluZS1saW5rLmpzP2Y0YzIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuX0dFTkVSQUwpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICBvZmZsaW5lTGluazogYXBpLmdldE9mZmxpbmVQYXRoKG1hbmlmZXN0SWQpICsgaW5mby5tYW5pZmVzdC5uYW1lLFxuICAgICAgICBwZXJzaXN0ZW50OiBpbmZvLnBlcnNpc3RlbnRcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEluZm8iLCJlcnIiLCJpbmZvIiwiZ2V0RXJyb3IiLCJlIiwiZG93bmxvYWRzIiwiX0dFTkVSQUwiLCJvZmZsaW5lTGluayIsImdldE9mZmxpbmVQYXRoIiwibWFuaWZlc3QiLCJuYW1lIiwicGVyc2lzdGVudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9074\n")},589:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, full) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.INFO_FAILED, manifestId), err);\n    } else {\n      onSuccess(info);\n    }\n  }, full);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTg5LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViLElBQU1BLFdBQVcsR0FBR0MsbUJBQU8sQ0FBQyxHQUF5QixDQUFDO0FBRXREQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFVQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRUMsSUFBSSxFQUFFO0VBQzlFTCxHQUFHLENBQUNNLGlCQUFpQixDQUFDQyxlQUFlLENBQUNILFVBQVUsRUFBRSxVQUFVSSxHQUFHLEVBQUVDLElBQUksRUFBRTtJQUNyRSxJQUFJRCxHQUFHLEVBQUU7TUFDUE4sU0FBUyxDQUFDTixXQUFXLENBQUNjLFFBQVEsQ0FBQ2QsV0FBVyxDQUFDZSxDQUFDLENBQUNDLFNBQVMsQ0FBQ0MsV0FBVyxFQUFFVCxVQUFVLENBQUMsRUFBRUksR0FBRyxDQUFDO0lBQ3ZGLENBQUMsTUFBTTtNQUNMUCxTQUFTLENBQUNRLElBQUksQ0FBQztJQUNqQjtFQUNGLENBQUMsRUFBRUosSUFBSSxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvaW5mby5qcz82ZGI1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCwgZnVsbCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuSU5GT19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3MoaW5mbyk7XG4gICAgfVxuICB9LCBmdWxsKTtcbn07XG4iXSwibmFtZXMiOlsidHJhbnNsYXRpb24iLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJmdWxsIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEluZm8iLCJlcnIiLCJpbmZvIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiSU5GT19GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///589\n")},9199:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nvar STATUSES = __webpack_require__(8255);\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, results) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n    } else {\n      var promises = [];\n      var manifestIds = [];\n      if (!results.length) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_REMOVED_ALL_UNFINISHED));\n        return;\n      }\n      for (var i = 0, j = results.length; i < j; i++) {\n        var status = results[i].status;\n        var manifestId = results[i].manifestInfo.id;\n        if (status !== STATUSES.FINISHED) {\n          manifestIds.push(manifestId);\n          promises.push(api.downloadsController.removePromise(manifestId));\n        }\n      }\n      Promise.all(promises).then(function () {\n        var promises = [];\n        for (var _i = 0, _j = manifestIds.length; _i < _j; _i++) {\n          promises.push(api.offlineController.removePromise(manifestIds[_i]));\n        }\n        Promise.all(promises).then(function () {\n          api.subscribersController.unsubscribe(manifestIds);\n          api.manifestController.removeFromCache(manifestIds);\n          onSuccess(manifestIds);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n        });\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_UNFINISHED_FAILED), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUM7SUFDTjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS1hbGwtdW5maW5pc2hlZC5qcz83NzFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuY29uc3QgU1RBVFVTRVMgPSByZXF1aXJlKFwiLi4vLi4vZG93bmxvYWRzL3N0YXR1c2VzXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdHNMaXN0V2l0aEluZm8oZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19BTExfVU5GSU5JU0hFRF9GQUlMRUQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGxldCBtYW5pZmVzdElkcyA9IFtdO1xuICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuQUxSRUFEWV9SRU1PVkVEX0FMTF9VTkZJTklTSEVEKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgbGV0IHN0YXR1cyA9IHJlc3VsdHNbaV0uc3RhdHVzO1xuICAgICAgICBsZXQgbWFuaWZlc3RJZCA9IHJlc3VsdHNbaV0ubWFuaWZlc3RJbmZvLmlkO1xuICAgICAgICBpZiAoc3RhdHVzICE9PSBTVEFUVVNFUy5GSU5JU0hFRCkge1xuICAgICAgICAgIG1hbmlmZXN0SWRzLnB1c2gobWFuaWZlc3RJZCk7XG4gICAgICAgICAgcHJvbWlzZXMucHVzaChhcGkuZG93bmxvYWRzQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWQpKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgICBwcm9taXNlcy5wdXNoKGFwaS5vZmZsaW5lQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWRzW2ldKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLnVuc3Vic2NyaWJlKG1hbmlmZXN0SWRzKTtcbiAgICAgICAgICAgICAgYXBpLm1hbmlmZXN0Q29udHJvbGxlci5yZW1vdmVGcm9tQ2FjaGUobWFuaWZlc3RJZHMpO1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MobWFuaWZlc3RJZHMpO1xuICAgICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfQUxMX1VORklOSVNIRURfRkFJTEVEKSwgZXJyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0FMTF9VTkZJTklTSEVEX0ZBSUxFRCksIGVycik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIlNUQVRVU0VTIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvIiwiZXJyIiwicmVzdWx0cyIsImdldEVycm9yIiwiZSIsImRvd25sb2FkcyIsIlJFTU9WSU5HX0FMTF9VTkZJTklTSEVEX0ZBSUxFRCIsInByb21pc2VzIiwibWFuaWZlc3RJZHMiLCJsZW5ndGgiLCJBTFJFQURZX1JFTU9WRURfQUxMX1VORklOSVNIRUQiLCJpIiwiaiIsInN0YXR1cyIsIm1hbmlmZXN0SWQiLCJtYW5pZmVzdEluZm8iLCJpZCIsIkZJTklTSEVEIiwicHVzaCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJyZW1vdmVQcm9taXNlIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJ1bnN1YnNjcmliZSIsIm1hbmlmZXN0Q29udHJvbGxlciIsInJlbW92ZUZyb21DYWNoZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9199\n")},5058:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, manifests) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n    } else {\n      var manifestIds = manifests.map(function (manifest) {\n        return manifest.manifestInfo.id;\n      });\n      var promises = [];\n      for (var i = 0, j = manifestIds.length; i < j; i++) {\n        promises.push(api.downloadsController.removePromise(manifestIds[i]));\n      }\n      Promise.all(promises).then(function () {\n        api.offlineController.removeAllPromise().then(function () {\n          api.subscribersController.unsubscribeAll();\n          api.manifestController.removeFromCacheAll();\n          onSuccess(manifests);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n        });\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_ALL_FAILED), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA1OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtFQUNwREYsR0FBRyxDQUFDRyxpQkFBaUIsQ0FBQ0Msd0JBQXdCLENBQUMsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUU7SUFDdkUsSUFBSUQsR0FBRyxFQUFFO01BQ1BILFNBQVMsQ0FBQ04sV0FBVyxDQUFDVyxRQUFRLENBQUNYLFdBQVcsQ0FBQ1ksQ0FBQyxDQUFDQyxTQUFTLENBQUNDLG1CQUFtQixDQUFDLEVBQUVMLEdBQUcsQ0FBQztJQUNuRixDQUFDLE1BQU07TUFDTCxJQUFNTSxXQUFXLEdBQUdMLFNBQVMsQ0FBQ00sR0FBRyxDQUFDLFVBQVVDLFFBQVEsRUFBRTtRQUNwRCxPQUFPQSxRQUFRLENBQUNDLFlBQVksQ0FBQ0MsRUFBRTtNQUNqQyxDQUFDLENBQUM7TUFDRixJQUFJQyxRQUFRLEdBQUcsRUFBRTtNQUNqQixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR1AsV0FBVyxDQUFDUSxNQUFNLEVBQUVGLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUNsREQsUUFBUSxDQUFDSSxJQUFJLENBQUNwQixHQUFHLENBQUNxQixtQkFBbUIsQ0FBQ0MsYUFBYSxDQUFDWCxXQUFXLENBQUNNLENBQUMsQ0FBQyxDQUFDLENBQUM7TUFDdEU7TUFDQU0sT0FBTyxDQUFDQyxHQUFHLENBQUNSLFFBQVEsQ0FBQyxDQUNoQlMsSUFBSSxDQUFDLFlBQVk7UUFDaEJ6QixHQUFHLENBQUNHLGlCQUFpQixDQUFDdUIsZ0JBQWdCLEVBQUUsQ0FDbkNELElBQUksQ0FBQyxZQUFZO1VBQ2hCekIsR0FBRyxDQUFDMkIscUJBQXFCLENBQUNDLGNBQWMsRUFBRTtVQUMxQzVCLEdBQUcsQ0FBQzZCLGtCQUFrQixDQUFDQyxrQkFBa0IsRUFBRTtVQUMzQzdCLFNBQVMsQ0FBQ0ssU0FBUyxDQUFDO1FBQ3RCLENBQUMsRUFBRSxVQUFVRCxHQUFHLEVBQUU7VUFDaEJILFNBQVMsQ0FBQ04sV0FBVyxDQUFDVyxRQUFRLENBQUNYLFdBQVcsQ0FBQ1ksQ0FBQyxDQUFDQyxTQUFTLENBQUNDLG1CQUFtQixDQUFDLEVBQUVMLEdBQUcsQ0FBQztRQUNuRixDQUFDLENBQUM7TUFDUixDQUFDLEVBQUUsVUFBVUEsR0FBRyxFQUFFO1FBQ2hCSCxTQUFTLENBQUNOLFdBQVcsQ0FBQ1csUUFBUSxDQUFDWCxXQUFXLENBQUNZLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxtQkFBbUIsQ0FBQyxFQUFFTCxHQUFHLENBQUM7TUFDbkYsQ0FBQyxDQUFDO0lBQ1I7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy9yZW1vdmUtYWxsLmpzP2Y2NWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvKGZ1bmN0aW9uIChlcnIsIG1hbmlmZXN0cykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19BTExfRkFJTEVEKSwgZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbWFuaWZlc3RJZHMgPSBtYW5pZmVzdHMubWFwKGZ1bmN0aW9uIChtYW5pZmVzdCkge1xuICAgICAgICByZXR1cm4gbWFuaWZlc3QubWFuaWZlc3RJbmZvLmlkO1xuICAgICAgfSk7XG4gICAgICBsZXQgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIHByb21pc2VzLnB1c2goYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIucmVtb3ZlUHJvbWlzZShtYW5pZmVzdElkc1tpXSkpO1xuICAgICAgfVxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgYXBpLm9mZmxpbmVDb250cm9sbGVyLnJlbW92ZUFsbFByb21pc2UoKVxuICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmVBbGwoKTtcbiAgICAgICAgICAgICAgICAgIGFwaS5tYW5pZmVzdENvbnRyb2xsZXIucmVtb3ZlRnJvbUNhY2hlQWxsKCk7XG4gICAgICAgICAgICAgICAgICBvblN1Y2Nlc3MobWFuaWZlc3RzKTtcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfQUxMX0ZBSUxFRCksIGVycik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlJFTU9WSU5HX0FMTF9GQUlMRUQpLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0c0xpc3RXaXRoSW5mbyIsImVyciIsIm1hbmlmZXN0cyIsImdldEVycm9yIiwiZSIsImRvd25sb2FkcyIsIlJFTU9WSU5HX0FMTF9GQUlMRUQiLCJtYW5pZmVzdElkcyIsIm1hcCIsIm1hbmlmZXN0IiwibWFuaWZlc3RJbmZvIiwiaWQiLCJwcm9taXNlcyIsImkiLCJqIiwibGVuZ3RoIiwicHVzaCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJyZW1vdmVQcm9taXNlIiwiUHJvbWlzZSIsImFsbCIsInRoZW4iLCJyZW1vdmVBbGxQcm9taXNlIiwic3Vic2NyaWJlcnNDb250cm9sbGVyIiwidW5zdWJzY3JpYmVBbGwiLCJtYW5pZmVzdENvbnRyb2xsZXIiLCJyZW1vdmVGcm9tQ2FjaGVBbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5058\n")},7552:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar appSettings = __webpack_require__(9277);\nvar translation = __webpack_require__(817);\nvar removeDir = __webpack_require__(6951);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var file = appSettings.getSettings().settingsFolder + manifestId + "/" + appSettings.getSettings().stores.PERSISTENT + ".json";\n      removeDir(file, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(translation.getError(translation.e.downloads.REMOVING_PERSISTENT_FAILED, manifestId), err);\n        } else {\n          onSuccess(info);\n        }\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBb0IsQ0FBQztBQUNqRCxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUN0RCxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBdUIsQ0FBQztBQUVsREcsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7RUFDeEVKLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNDLGVBQWUsQ0FBQ0YsVUFBVSxFQUFFLFVBQVVHLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQ3JFLElBQUlELEdBQUcsRUFBRTtNQUNQTCxTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBUSxDQUFDYixXQUFXLENBQUNjLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLEVBQUVSLFVBQVUsQ0FBQyxFQUFFRyxHQUFHLENBQUM7SUFDckYsQ0FBQyxNQUFNO01BQ0wsSUFBTU0sSUFBSSxHQUFHbkIsV0FBVyxDQUFDb0IsV0FBVyxFQUFFLENBQUNDLGNBQWMsR0FBR1gsVUFBVSxHQUFHLEdBQUcsR0FBR1YsV0FBVyxDQUFDb0IsV0FBVyxFQUFFLENBQUNFLE1BQU0sQ0FBQ0MsVUFBVSxHQUFHLE9BQU87TUFFaElwQixTQUFTLENBQUNnQixJQUFJLEVBQUUsVUFBVU4sR0FBRyxFQUFFO1FBQzdCLElBQUlBLEdBQUcsSUFBSUEsR0FBRyxDQUFDVyxJQUFJLEtBQUssUUFBUSxFQUFFO1VBQ2hDaEIsU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVEsQ0FBQ2IsV0FBVyxDQUFDYyxDQUFDLENBQUNTLFNBQVMsQ0FBQ0MsMEJBQTBCLEVBQUVoQixVQUFVLENBQUMsRUFBRUcsR0FBRyxDQUFDO1FBQ3RHLENBQUMsTUFBTTtVQUNMTixTQUFTLENBQUNPLElBQUksQ0FBQztRQUNqQjtNQUNGLENBQUMsQ0FBQztJQUNKO0VBQ0YsQ0FBQyxDQUFDO0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVtb3ZlLXBlcnNpc3RlbnQuanM/Nzc1OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZSgnLi4vLi4vYXBwLXNldHRpbmdzJyk7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5jb25zdCByZW1vdmVEaXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9yZW1vdmUtZGlyXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLk5PVF9GT1VORCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyICsgbWFuaWZlc3RJZCArIFwiL1wiICsgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuUEVSU0lTVEVOVCArIFwiLmpzb25cIjtcblxuICAgICAgcmVtb3ZlRGlyKGZpbGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGVyciAmJiBlcnIuY29kZSAhPT0gXCJFTk9FTlRcIikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRU1PVklOR19QRVJTSVNURU5UX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKGluZm8pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG59O1xuIl0sIm5hbWVzIjpbImFwcFNldHRpbmdzIiwicmVxdWlyZSIsInRyYW5zbGF0aW9uIiwicmVtb3ZlRGlyIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mbyIsImVyciIsImluZm8iLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiLCJmaWxlIiwiZ2V0U2V0dGluZ3MiLCJzZXR0aW5nc0ZvbGRlciIsInN0b3JlcyIsIlBFUlNJU1RFTlQiLCJjb2RlIiwiZG93bmxvYWRzIiwiUkVNT1ZJTkdfUEVSU0lTVEVOVF9GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7552\n')},6128:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.offlineController.getManifestInfo(manifestId, function (err, info) {\n    api.downloadsController.removePromise(manifestId).then(function () {\n      api.offlineController.removePromise(manifestId).then(function () {\n        api.subscribersController.unsubscribe(manifestId);\n        api.manifestController.removeFromCache(manifestId);\n        onSuccess(info);\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.REMOVING_FAILED, manifestId), err);\n      });\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.REMOVING_FAILED, manifestId), err);\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEyOC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUU7RUFDeEVKLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNDLGVBQWUsQ0FBQ0YsVUFBVSxFQUFFLFVBQVVHLEdBQUcsRUFBRUMsSUFBSSxFQUFFO0lBQ3JFUixHQUFHLENBQUNTLG1CQUFtQixDQUFDQyxhQUFhLENBQUNOLFVBQVUsQ0FBQyxDQUM1Q08sSUFBSSxDQUFDLFlBQVk7TUFDaEJYLEdBQUcsQ0FBQ0ssaUJBQWlCLENBQUNLLGFBQWEsQ0FBQ04sVUFBVSxDQUFDLENBQzFDTyxJQUFJLENBQUMsWUFBWTtRQUNoQlgsR0FBRyxDQUFDWSxxQkFBcUIsQ0FBQ0MsV0FBVyxDQUFDVCxVQUFVLENBQUM7UUFDakRKLEdBQUcsQ0FBQ2Msa0JBQWtCLENBQUNDLGVBQWUsQ0FBQ1gsVUFBVSxDQUFDO1FBQ2xESCxTQUFTLENBQUNPLElBQUksQ0FBQztNQUNqQixDQUFDLEVBQUUsVUFBVUQsR0FBRyxFQUFFO1FBQ2hCTCxTQUFTLENBQUNOLFdBQVcsQ0FBQ29CLFFBQVEsQ0FBQ3BCLFdBQVcsQ0FBQ3FCLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxlQUFlLEVBQUVmLFVBQVUsQ0FBQyxFQUFFRyxHQUFHLENBQUM7TUFDM0YsQ0FBQyxDQUFDO0lBQ1IsQ0FBQyxFQUFFLFVBQVVBLEdBQUcsRUFBRTtNQUNoQkwsU0FBUyxDQUFDTixXQUFXLENBQUNvQixRQUFRLENBQUNwQixXQUFXLENBQUNxQixDQUFDLENBQUNDLFNBQVMsQ0FBQ0MsZUFBZSxFQUFFZixVQUFVLENBQUMsRUFBRUcsR0FBRyxDQUFDO0lBQzNGLENBQUMsQ0FBQztFQUNSLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3JlbW92ZS5qcz80M2E1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5yZW1vdmVQcm9taXNlKG1hbmlmZXN0SWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBhcGkub2ZmbGluZUNvbnRyb2xsZXIucmVtb3ZlUHJvbWlzZShtYW5pZmVzdElkKVxuICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci51bnN1YnNjcmliZShtYW5pZmVzdElkKTtcbiAgICAgICAgICAgICAgICBhcGkubWFuaWZlc3RDb250cm9sbGVyLnJlbW92ZUZyb21DYWNoZShtYW5pZmVzdElkKTtcbiAgICAgICAgICAgICAgICBvblN1Y2Nlc3MoaW5mbyk7XG4gICAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfRkFJTEVELCBtYW5pZmVzdElkKSwgZXJyKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuUkVNT1ZJTkdfRkFJTEVELCBtYW5pZmVzdElkKSwgZXJyKTtcbiAgICAgICAgfSk7XG4gIH0pO1xufTtcbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RJbmZvIiwiZXJyIiwiaW5mbyIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJyZW1vdmVQcm9taXNlIiwidGhlbiIsInN1YnNjcmliZXJzQ29udHJvbGxlciIsInVuc3Vic2NyaWJlIiwibWFuaWZlc3RDb250cm9sbGVyIiwicmVtb3ZlRnJvbUNhY2hlIiwiZ2V0RXJyb3IiLCJlIiwiZG93bmxvYWRzIiwiUkVNT1ZJTkdfRkFJTEVEIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6128\n")},7560:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, representations) {\n  api.downloadsController.resume(manifestId, representations, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzU2MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLGVBQWUsRUFBRTtFQUN6RkwsR0FBRyxDQUFDTSxtQkFBbUIsQ0FBQ0MsTUFBTSxDQUFDSCxVQUFVLEVBQUVDLGVBQWUsRUFBRUosU0FBUyxFQUFFQyxTQUFTLENBQUM7QUFDbkYsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvcmVzdW1lLmpzPzgzODkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zKSB7XG4gIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLnJlc3VtZShtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJyZXByZXNlbnRhdGlvbnMiLCJkb3dubG9hZHNDb250cm9sbGVyIiwicmVzdW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7560\n")},9463:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar appSettings = __webpack_require__(9277);\nvar translation = __webpack_require__(817);\nvar FlushItem = __webpack_require__(1789);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, data) {\n  api.offlineController.getManifestInfo(manifestId, function (err) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.DATA, data);\n      flushItem.save().then(function () {\n        onSuccess();\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.SAVING_DATA_FAILED, manifestId), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ2My5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBb0IsQ0FBQztBQUNqRCxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUN0RCxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBNEIsQ0FBQztBQUV2REcsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLElBQUksRUFBRTtFQUM5RUwsR0FBRyxDQUFDTSxpQkFBaUIsQ0FBQ0MsZUFBZSxDQUFDSCxVQUFVLEVBQUUsVUFBVUksR0FBRyxFQUFFO0lBQy9ELElBQUlBLEdBQUcsRUFBRTtNQUNQTixTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBUSxDQUFDYixXQUFXLENBQUNjLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLEVBQUVSLFVBQVUsQ0FBQyxFQUFFSSxHQUFHLENBQUM7SUFDckYsQ0FBQyxNQUFNO01BQ0wsSUFBTUssU0FBUyxHQUFHLElBQUloQixTQUFTLENBQUNPLFVBQVUsRUFBRVYsV0FBVyxDQUFDb0IsV0FBVyxFQUFFLENBQUNDLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFWCxJQUFJLENBQUM7TUFDeEZRLFNBQVMsQ0FBQ0ksSUFBSSxFQUFFLENBQ2JDLElBQUksQ0FBQyxZQUFZO1FBQ2hCakIsU0FBUyxFQUFFO01BQ2IsQ0FBQyxFQUFFLFVBQVVPLEdBQUcsRUFBRTtRQUNoQk4sU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVEsQ0FBQ2IsV0FBVyxDQUFDYyxDQUFDLENBQUNTLFNBQVMsQ0FBQ0Msa0JBQWtCLEVBQUVoQixVQUFVLENBQUMsRUFBRUksR0FBRyxDQUFDO01BQzlGLENBQUMsQ0FBQztJQUNOO0VBQ0YsQ0FBQyxDQUFDO0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvc2F2ZS1kYXRhLmpzPzgwYjEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL2FwcC1zZXR0aW5ncycpO1xuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuY29uc3QgRmx1c2hJdGVtID0gcmVxdWlyZShcIi4uLy4uL2Rvd25sb2Fkcy9mbHVzaC1pdGVtXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQsIGRhdGEpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLk5PVF9GT1VORCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZsdXNoSXRlbSA9IG5ldyBGbHVzaEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuREFUQSwgZGF0YSk7XG4gICAgICBmbHVzaEl0ZW0uc2F2ZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TQVZJTkdfREFUQV9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG59O1xuIl0sIm5hbWVzIjpbImFwcFNldHRpbmdzIiwicmVxdWlyZSIsInRyYW5zbGF0aW9uIiwiRmx1c2hJdGVtIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJkYXRhIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEluZm8iLCJlcnIiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiLCJmbHVzaEl0ZW0iLCJnZXRTZXR0aW5ncyIsInN0b3JlcyIsIkRBVEEiLCJzYXZlIiwidGhlbiIsImRvd25sb2FkcyIsIlNBVklOR19EQVRBX0ZBSUxFRCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9463\n")},3880:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar appSettings = __webpack_require__(9277);\nvar translation = __webpack_require__(817);\nvar FlushItem = __webpack_require__(1789);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, persistent) {\n  api.offlineController.getManifestInfo(manifestId, function (err) {\n    if (err) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId), err);\n    } else {\n      var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.PERSISTENT, persistent);\n      flushItem.save().then(function () {\n        onSuccess();\n      }, function (err) {\n        onFailure(translation.getError(translation.e.downloads.SAVING_PERSISTENT_FAILED, manifestId), err);\n      });\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg4MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsSUFBb0IsQ0FBQztBQUNqRCxJQUFNQyxXQUFXLEdBQUdELG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUN0RCxJQUFNRSxTQUFTLEdBQUdGLG1CQUFPLENBQUMsSUFBNEIsQ0FBQztBQUV2REcsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsRUFBRTtFQUNwRkwsR0FBRyxDQUFDTSxpQkFBaUIsQ0FBQ0MsZUFBZSxDQUFDSCxVQUFVLEVBQUUsVUFBVUksR0FBRyxFQUFFO0lBQy9ELElBQUlBLEdBQUcsRUFBRTtNQUNQTixTQUFTLENBQUNOLFdBQVcsQ0FBQ2EsUUFBUSxDQUFDYixXQUFXLENBQUNjLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLEVBQUVSLFVBQVUsQ0FBQyxFQUFFSSxHQUFHLENBQUM7SUFDckYsQ0FBQyxNQUFNO01BQ0wsSUFBTUssU0FBUyxHQUFHLElBQUloQixTQUFTLENBQUNPLFVBQVUsRUFBRVYsV0FBVyxDQUFDb0IsV0FBVyxFQUFFLENBQUNDLE1BQU0sQ0FBQ0MsVUFBVSxFQUFFWCxVQUFVLENBQUM7TUFDcEdRLFNBQVMsQ0FBQ0ksSUFBSSxFQUFFLENBQ1hDLElBQUksQ0FBQyxZQUFZO1FBQ2hCakIsU0FBUyxFQUFFO01BQ2IsQ0FBQyxFQUFFLFVBQVVPLEdBQUcsRUFBRTtRQUNoQk4sU0FBUyxDQUFDTixXQUFXLENBQUNhLFFBQVEsQ0FBQ2IsV0FBVyxDQUFDYyxDQUFDLENBQUNTLFNBQVMsQ0FBQ0Msd0JBQXdCLEVBQUVoQixVQUFVLENBQUMsRUFBRUksR0FBRyxDQUFDO01BQ3BHLENBQUMsQ0FBQztJQUNSO0VBQ0YsQ0FBQyxDQUFDO0FBRUosQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvYmUtbWV0aG9kcy9kb3dubG9hZHMvc2F2ZS1wZXJzaXN0ZW50LmpzPzcyNTEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL2FwcC1zZXR0aW5ncycpO1xuY29uc3QgdHJhbnNsYXRpb24gPSByZXF1aXJlKCcuLi8uLi90cmFuc2xhdGlvbi9pbmRleCcpO1xuY29uc3QgRmx1c2hJdGVtID0gcmVxdWlyZShcIi4uLy4uL2Rvd25sb2Fkcy9mbHVzaC1pdGVtXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHBlcnNpc3RlbnQpIHtcbiAgYXBpLm9mZmxpbmVDb250cm9sbGVyLmdldE1hbmlmZXN0SW5mbyhtYW5pZmVzdElkLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUubWFuaWZlc3RzLk5PVF9GT1VORCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGZsdXNoSXRlbSA9IG5ldyBGbHVzaEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuUEVSU0lTVEVOVCwgcGVyc2lzdGVudCk7XG4gICAgICBmbHVzaEl0ZW0uc2F2ZSgpXG4gICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlNBVklOR19QRVJTSVNURU5UX0ZBSUxFRCwgbWFuaWZlc3RJZCksIGVycik7XG4gICAgICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxufTtcbiJdLCJuYW1lcyI6WyJhcHBTZXR0aW5ncyIsInJlcXVpcmUiLCJ0cmFuc2xhdGlvbiIsIkZsdXNoSXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwicGVyc2lzdGVudCIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RJbmZvIiwiZXJyIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiTk9UX0ZPVU5EIiwiZmx1c2hJdGVtIiwiZ2V0U2V0dGluZ3MiLCJzdG9yZXMiLCJQRVJTSVNURU5UIiwic2F2ZSIsInRoZW4iLCJkb3dubG9hZHMiLCJTQVZJTkdfUEVSU0lTVEVOVF9GQUlMRUQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3880\n")},1792:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nvar canCreateManifest = __webpack_require__(5079);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, representations, downloadFolder) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n  if (!manifest) {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n    return;\n  }\n  function start() {\n    api.downloadsController.storage.getItem(manifestId).then(function (result) {\n      if (result) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STARTED, manifestId));\n      } else {\n        api.downloadsController.start(manifestId, representations, downloadFolder, onSuccess, function (err) {\n          onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n        });\n      }\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads._GENERAL), err);\n    });\n  }\n  canCreateManifest(manifestId, downloadFolder).then(function () {\n    start();\n  }, function (errors) {\n    errors = errors || [];\n    var movieFolderError = errors[1];\n    if (errors.length) {\n      if (movieFolderError) {\n        // if movie folder has been already created the we can't start as it might be either different folder\n        // or simply the resume should be used\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, manifestId));\n        return;\n      }\n    }\n    // if manifest exists physically on drive that means something is wrong and can't start the manifest\n    // the manifest is saved in method start so this cannot be overwritten here\n    api.offlineController.getManifestDataFile(manifestId, function (data) {\n      if (data) {\n        onFailure(translation.getError(translation.e.manifests.FOLDER_ALREADY_EXISTS, manifestId));\n      } else {\n        start();\n      }\n    });\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b2RzL2Rvd25sb2Fkcy9zdGFydC5qcz8yZDdjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoXCIuLi8uLi90cmFuc2xhdGlvbi9pbmRleFwiKTtcbmNvbnN0IGNhbkNyZWF0ZU1hbmlmZXN0ID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvY2FuLWNyZWF0ZS1tYW5pZmVzdFwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIGRvd25sb2FkRm9sZGVyKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gYXBpLm1hbmlmZXN0Q29udHJvbGxlci5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGlmICghbWFuaWZlc3QpIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnQgKCkge1xuICAgIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLnN0b3JhZ2UuZ2V0SXRlbShtYW5pZmVzdElkKS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLkFMUkVBRFlfU1RBUlRFRCwgbWFuaWZlc3RJZCkpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIuc3RhcnQobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zLCBkb3dubG9hZEZvbGRlciwgb25TdWNjZXNzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLl9HRU5FUkFMKSwgZXJyKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLl9HRU5FUkFMKSwgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIGNhbkNyZWF0ZU1hbmlmZXN0KG1hbmlmZXN0SWQsIGRvd25sb2FkRm9sZGVyKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBzdGFydCgpO1xuICB9LCBmdW5jdGlvbiAoZXJyb3JzKSB7XG4gICAgZXJyb3JzID0gZXJyb3JzIHx8IFtdO1xuICAgIHZhciBtb3ZpZUZvbGRlckVycm9yID0gZXJyb3JzWzFdO1xuICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICBpZiAobW92aWVGb2xkZXJFcnJvcikge1xuICAgICAgICAvLyBpZiBtb3ZpZSBmb2xkZXIgaGFzIGJlZW4gYWxyZWFkeSBjcmVhdGVkIHRoZSB3ZSBjYW4ndCBzdGFydCBhcyBpdCBtaWdodCBiZSBlaXRoZXIgZGlmZmVyZW50IGZvbGRlclxuICAgICAgICAvLyBvciBzaW1wbHkgdGhlIHJlc3VtZSBzaG91bGQgYmUgdXNlZFxuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuRk9MREVSX0FMUkVBRFlfRVhJU1RTLCBtYW5pZmVzdElkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gaWYgbWFuaWZlc3QgZXhpc3RzIHBoeXNpY2FsbHkgb24gZHJpdmUgdGhhdCBtZWFucyBzb21ldGhpbmcgaXMgd3JvbmcgYW5kIGNhbid0IHN0YXJ0IHRoZSBtYW5pZmVzdFxuICAgIC8vIHRoZSBtYW5pZmVzdCBpcyBzYXZlZCBpbiBtZXRob2Qgc3RhcnQgc28gdGhpcyBjYW5ub3QgYmUgb3ZlcndyaXR0ZW4gaGVyZVxuICAgIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdERhdGFGaWxlKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICBpZiAoZGF0YSkge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuRk9MREVSX0FMUkVBRFlfRVhJU1RTLCBtYW5pZmVzdElkKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGFydCgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxufTtcbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJjYW5DcmVhdGVNYW5pZmVzdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJhcGkiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJ0YXJnZXQiLCJtYW5pZmVzdElkIiwicmVwcmVzZW50YXRpb25zIiwiZG93bmxvYWRGb2xkZXIiLCJtYW5pZmVzdCIsIm1hbmlmZXN0Q29udHJvbGxlciIsImdldE1hbmlmZXN0QnlJZCIsImdldEVycm9yIiwiZSIsIm1hbmlmZXN0cyIsIk5PVF9GT1VORCIsInN0YXJ0IiwiZG93bmxvYWRzQ29udHJvbGxlciIsInN0b3JhZ2UiLCJnZXRJdGVtIiwidGhlbiIsInJlc3VsdCIsImRvd25sb2FkcyIsIkFMUkVBRFlfU1RBUlRFRCIsImVyciIsIl9HRU5FUkFMIiwiZXJyb3JzIiwibW92aWVGb2xkZXJFcnJvciIsImxlbmd0aCIsIkZPTERFUl9BTFJFQURZX0VYSVNUUyIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3REYXRhRmlsZSIsImRhdGEiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1792\n")},1120:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nvar STATUSES = __webpack_require__(8255);\nmodule.exports = function (api, onSuccess, onFailure) {\n  api.offlineController.getManifestsListWithInfo(function (err, results) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.STOPPING_ALL_FAILED), err);\n    } else {\n      var promises = [];\n      var manifestIds = [];\n      for (var i = 0, j = results.length; i < j; i++) {\n        var status = results[i].status;\n        var manifestId = results[i].manifestInfo.id;\n        if (status !== STATUSES.FINISHED) {\n          manifestIds.push(manifestId);\n          promises.push(api.downloadsController.stopPromise(manifestId, true));\n        }\n      }\n      if (manifestIds.length > 0) {\n        Promise.all(promises).then(function () {\n          onSuccess(manifestIds);\n        }, function (err) {\n          onFailure(translation.getError(translation.e.downloads.STOPPING_ALL_FAILED), err);\n        });\n      } else {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STOPPED_ALL));\n      }\n    }\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEyMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUN0RCxJQUFNQyxRQUFRLEdBQUdELG1CQUFPLENBQUMsSUFBMEIsQ0FBQztBQUVwREUsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRTtFQUNwREYsR0FBRyxDQUFDRyxpQkFBaUIsQ0FBQ0Msd0JBQXdCLENBQUMsVUFBVUMsR0FBRyxFQUFFQyxPQUFPLEVBQUU7SUFDckUsSUFBSUQsR0FBRyxFQUFFO01BQ1BILFNBQVMsQ0FBQ1AsV0FBVyxDQUFDWSxRQUFRLENBQUNaLFdBQVcsQ0FBQ2EsQ0FBQyxDQUFDQyxTQUFTLENBQUNDLG1CQUFtQixDQUFDLEVBQUVMLEdBQUcsQ0FBQztJQUNuRixDQUFDLE1BQU07TUFDTCxJQUFJTSxRQUFRLEdBQUcsRUFBRTtNQUNqQixJQUFJQyxXQUFXLEdBQUcsRUFBRTtNQUNwQixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR1IsT0FBTyxDQUFDUyxNQUFNLEVBQUVGLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtRQUM5QyxJQUFJRyxNQUFNLEdBQUdWLE9BQU8sQ0FBQ08sQ0FBQyxDQUFDLENBQUNHLE1BQU07UUFDOUIsSUFBSUMsVUFBVSxHQUFHWCxPQUFPLENBQUNPLENBQUMsQ0FBQyxDQUFDSyxZQUFZLENBQUNDLEVBQUU7UUFDM0MsSUFBSUgsTUFBTSxLQUFLbkIsUUFBUSxDQUFDdUIsUUFBUSxFQUFFO1VBQ2hDUixXQUFXLENBQUNTLElBQUksQ0FBQ0osVUFBVSxDQUFDO1VBQzVCTixRQUFRLENBQUNVLElBQUksQ0FBQ3JCLEdBQUcsQ0FBQ3NCLG1CQUFtQixDQUFDQyxXQUFXLENBQUNOLFVBQVUsRUFBRSxJQUFJLENBQUMsQ0FBQztRQUN0RTtNQUNGO01BQ0EsSUFBSUwsV0FBVyxDQUFDRyxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQzFCUyxPQUFPLENBQUNDLEdBQUcsQ0FBQ2QsUUFBUSxDQUFDLENBQ2hCZSxJQUFJLENBQUMsWUFBWTtVQUNoQnpCLFNBQVMsQ0FBQ1csV0FBVyxDQUFDO1FBQ3hCLENBQUMsRUFBRSxVQUFVUCxHQUFHLEVBQUU7VUFDaEJILFNBQVMsQ0FBQ1AsV0FBVyxDQUFDWSxRQUFRLENBQUNaLFdBQVcsQ0FBQ2EsQ0FBQyxDQUFDQyxTQUFTLENBQUNDLG1CQUFtQixDQUFDLEVBQUVMLEdBQUcsQ0FBQztRQUNuRixDQUFDLENBQUM7TUFDUixDQUFDLE1BQU07UUFDTEgsU0FBUyxDQUFDUCxXQUFXLENBQUNZLFFBQVEsQ0FBQ1osV0FBVyxDQUFDYSxDQUFDLENBQUNDLFNBQVMsQ0FBQ2tCLG1CQUFtQixDQUFDLENBQUM7TUFDOUU7SUFDRjtFQUNGLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N0b3AtYWxsLmpzPzc3MGMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcbmNvbnN0IFNUQVRVU0VTID0gcmVxdWlyZShcIi4uLy4uL2Rvd25sb2Fkcy9zdGF0dXNlc1wiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvKGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuU1RPUFBJTkdfQUxMX0ZBSUxFRCksIGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgbGV0IG1hbmlmZXN0SWRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBzdGF0dXMgPSByZXN1bHRzW2ldLnN0YXR1cztcbiAgICAgICAgbGV0IG1hbmlmZXN0SWQgPSByZXN1bHRzW2ldLm1hbmlmZXN0SW5mby5pZDtcbiAgICAgICAgaWYgKHN0YXR1cyAhPT0gU1RBVFVTRVMuRklOSVNIRUQpIHtcbiAgICAgICAgICBtYW5pZmVzdElkcy5wdXNoKG1hbmlmZXN0SWQpO1xuICAgICAgICAgIHByb21pc2VzLnB1c2goYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIuc3RvcFByb21pc2UobWFuaWZlc3RJZCwgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWFuaWZlc3RJZHMubGVuZ3RoID4gMCkge1xuICAgICAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgb25TdWNjZXNzKG1hbmlmZXN0SWRzKTtcbiAgICAgICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLlNUT1BQSU5HX0FMTF9GQUlMRUQpLCBlcnIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuQUxSRUFEWV9TVE9QUEVEX0FMTCkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59O1xuIl0sIm5hbWVzIjpbInRyYW5zbGF0aW9uIiwicmVxdWlyZSIsIlNUQVRVU0VTIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsIm9mZmxpbmVDb250cm9sbGVyIiwiZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvIiwiZXJyIiwicmVzdWx0cyIsImdldEVycm9yIiwiZSIsImRvd25sb2FkcyIsIlNUT1BQSU5HX0FMTF9GQUlMRUQiLCJwcm9taXNlcyIsIm1hbmlmZXN0SWRzIiwiaSIsImoiLCJsZW5ndGgiLCJzdGF0dXMiLCJtYW5pZmVzdElkIiwibWFuaWZlc3RJbmZvIiwiaWQiLCJGSU5JU0hFRCIsInB1c2giLCJkb3dubG9hZHNDb250cm9sbGVyIiwic3RvcFByb21pc2UiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsIkFMUkVBRFlfU1RPUFBFRF9BTEwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1120\n")},647:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId) {\n  api.downloadsController.stop(manifestId, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQ3LmpzIiwibWFwcGluZ3MiOiJBQUFhOztBQUViQSxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFVQyxHQUFHLEVBQUVDLFNBQVMsRUFBRUMsU0FBUyxFQUFFQyxNQUFNLEVBQUVDLFVBQVUsRUFBRTtFQUN4RUosR0FBRyxDQUFDSyxtQkFBbUIsQ0FBQ0MsSUFBSSxDQUFDRixVQUFVLEVBQUVILFNBQVMsRUFBRUMsU0FBUyxDQUFDO0FBQ2hFLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N0b3AuanM/MzQ2NCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkKSB7XG4gIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLnN0b3AobWFuaWZlc3RJZCwgb25TdWNjZXNzLCBvbkZhaWx1cmUpO1xufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJzdG9wIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///647\n")},608:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nvar Subscriber = __webpack_require__(6137);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestIds, timeout) {\n  if (typeof manifestIds === 'string') {\n    subscribeSingle(api, onSuccess, onFailure, target, manifestIds, timeout);\n  } else {\n    subscribeMany(api, onSuccess, onFailure, target, manifestIds, timeout);\n  }\n};\nfunction subscribeMany(api, onSuccess, onFailure, target, manifestIds, timeout) {\n  var subscriber1, subscriber2, subscribersId;\n  var manifestId = manifestIds.sort().join(',');\n  subscribersId = [];\n  // callbackOnProgress\n  subscriber1 = new Subscriber(function () {\n    return api.downloadsController.downloadStats.getStats(manifestIds);\n  }, api.processSubscriber, target, manifestId, timeout);\n  subscribersId.push(api.subscribersController.addSubscriber(subscriber1));\n\n  // callbackOnFinish\n  subscriber2 = new Subscriber(function () {\n    var result = true;\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      result = result && api.downloadsController.isDownloadFinishedAndSynced(manifestIds[i]);\n    }\n    return result;\n  }, api.processSubscriber, target, manifestId, timeout, true);\n  subscriber2.onFinish(function (callback) {\n    subscriber1.remove();\n    var items = [];\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      items.push(api.offlineController.getManifestInfoPromise(manifestIds[i]));\n    }\n    Promise.all(items).then(function (results) {\n      callback(null, results);\n    }, function (err) {\n      callback(err);\n    });\n  });\n  subscribersId.push(api.subscribersController.addSubscriber(subscriber2));\n  onSuccess(null, subscribersId);\n}\nfunction subscribeSingle(api, onSuccess, onFailure, target, manifestId, timeout) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n  var subscriber1, subscriber2, subscribersId;\n  if (manifest) {\n    subscribersId = [];\n\n    // callbackOnProgress\n    subscriber1 = new Subscriber(function () {\n      return api.downloadsController.downloadStats.getStats(manifestId);\n    }, api.processSubscriber, target, manifestId, timeout);\n    subscribersId.push(api.subscribersController.addSubscriber(subscriber1));\n\n    // callbackOnFinish\n    subscriber2 = new Subscriber(function () {\n      return api.downloadsController.isDownloadFinishedAndSynced(manifestId);\n    }, api.processSubscriber, target, manifestId, timeout, true);\n    subscriber2.onFinish(function (callback) {\n      subscriber1.remove();\n      api.offlineController.getManifestInfo(manifestId, function (err, result) {\n        callback(err, result);\n      });\n    });\n    subscribersId.push(api.subscribersController.addSubscriber(subscriber2));\n    onSuccess(manifest.getJsonInfo(), subscribersId);\n  } else {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsVUFBVUMsUUFBUSxFQUFFO01BQ3ZDbkIsV0FBVyxDQUFDb0IsTUFBTSxFQUFFO01BQ3BCNUIsR0FBRyxDQUFDOEIsaUJBQWlCLENBQUNVLGVBQWUsQ0FBQzdCLFVBQVUsRUFBRSxVQUFVeUIsR0FBRyxFQUFFZixNQUFNLEVBQUU7UUFDdkVNLFFBQVEsQ0FBQ1MsR0FBRyxFQUFFZixNQUFNLENBQUM7TUFDdkIsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0lBQ0ZYLGFBQWEsQ0FBQ1EsSUFBSSxDQUFDbEIsR0FBRyxDQUFDbUIscUJBQXFCLENBQUNDLGFBQWEsQ0FBQ1gsV0FBVyxDQUFDLENBQUM7SUFFeEVSLFNBQVMsQ0FBQ29DLFFBQVEsQ0FBQ0ksV0FBVyxFQUFFLEVBQUUvQixhQUFhLENBQUM7RUFDbEQsQ0FBQyxNQUFNO0lBQ0xSLFNBQVMsQ0FBQ1AsV0FBVyxDQUFDK0MsUUFBUSxDQUFDL0MsV0FBVyxDQUFDZ0QsQ0FBQyxDQUFDQyxTQUFTLENBQUNDLFNBQVMsRUFBRWxDLFVBQVUsQ0FBQyxDQUFDO0VBQ2hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3N1YnNjcmliZS5qcz9iMDMzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uLy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5jb25zdCBTdWJzY3JpYmVyID0gcmVxdWlyZShcIi4uLy4uL3V0aWwvc3Vic2NyaWJlclwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkcywgdGltZW91dCkge1xuICBpZiAodHlwZW9mIG1hbmlmZXN0SWRzID09PSAnc3RyaW5nJykge1xuICAgIHN1YnNjcmliZVNpbmdsZShhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWRzLCB0aW1lb3V0KTtcbiAgfSBlbHNlIHtcbiAgICBzdWJzY3JpYmVNYW55KGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZHMsIHRpbWVvdXQpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdWJzY3JpYmVNYW55IChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWRzLCB0aW1lb3V0KSB7XG4gIGxldCBzdWJzY3JpYmVyMSwgc3Vic2NyaWJlcjIsIHN1YnNjcmliZXJzSWQ7XG4gIGNvbnN0IG1hbmlmZXN0SWQgPSBtYW5pZmVzdElkcy5zb3J0KCkuam9pbignLCcpO1xuXG4gIHN1YnNjcmliZXJzSWQgPSBbXTtcbiAgLy8gY2FsbGJhY2tPblByb2dyZXNzXG4gIHN1YnNjcmliZXIxID0gbmV3IFN1YnNjcmliZXIoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5kb3dubG9hZFN0YXRzLmdldFN0YXRzKG1hbmlmZXN0SWRzKTtcbiAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQpO1xuICBzdWJzY3JpYmVyc0lkLnB1c2goYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci5hZGRTdWJzY3JpYmVyKHN1YnNjcmliZXIxKSk7XG5cbiAgLy8gY2FsbGJhY2tPbkZpbmlzaFxuICBzdWJzY3JpYmVyMiA9IG5ldyBTdWJzY3JpYmVyKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0SWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ICYmIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLmlzRG93bmxvYWRGaW5pc2hlZEFuZFN5bmNlZChtYW5pZmVzdElkc1tpXSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIGFwaS5wcm9jZXNzU3Vic2NyaWJlciwgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lb3V0LCB0cnVlKTtcblxuICBzdWJzY3JpYmVyMi5vbkZpbmlzaChmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzdWJzY3JpYmVyMS5yZW1vdmUoKTtcbiAgICBsZXQgaXRlbXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0SWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgaXRlbXMucHVzaChhcGkub2ZmbGluZUNvbnRyb2xsZXIuZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZShtYW5pZmVzdElkc1tpXSkpO1xuICAgIH1cbiAgICBQcm9taXNlLmFsbChpdGVtcykudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG4gIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjIpKTtcblxuICBvblN1Y2Nlc3MobnVsbCwgc3Vic2NyaWJlcnNJZCk7XG59XG5cbmZ1bmN0aW9uIHN1YnNjcmliZVNpbmdsZSAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lb3V0KSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gYXBpLm1hbmlmZXN0Q29udHJvbGxlci5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGxldCBzdWJzY3JpYmVyMSwgc3Vic2NyaWJlcjIsIHN1YnNjcmliZXJzSWQ7XG4gIGlmIChtYW5pZmVzdCkge1xuICAgIHN1YnNjcmliZXJzSWQgPSBbXTtcblxuICAgIC8vIGNhbGxiYWNrT25Qcm9ncmVzc1xuICAgIHN1YnNjcmliZXIxID0gbmV3IFN1YnNjcmliZXIoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGFwaS5kb3dubG9hZHNDb250cm9sbGVyLmRvd25sb2FkU3RhdHMuZ2V0U3RhdHMobWFuaWZlc3RJZCk7XG4gICAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQpO1xuICAgIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjEpKTtcblxuICAgIC8vIGNhbGxiYWNrT25GaW5pc2hcbiAgICBzdWJzY3JpYmVyMiA9IG5ldyBTdWJzY3JpYmVyKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBhcGkuZG93bmxvYWRzQ29udHJvbGxlci5pc0Rvd25sb2FkRmluaXNoZWRBbmRTeW5jZWQobWFuaWZlc3RJZCk7XG4gICAgfSwgYXBpLnByb2Nlc3NTdWJzY3JpYmVyLCB0YXJnZXQsIG1hbmlmZXN0SWQsIHRpbWVvdXQsIHRydWUpO1xuXG4gICAgc3Vic2NyaWJlcjIub25GaW5pc2goZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgICBzdWJzY3JpYmVyMS5yZW1vdmUoKTtcbiAgICAgIGFwaS5vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgICAgIGNhbGxiYWNrKGVyciwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHN1YnNjcmliZXJzSWQucHVzaChhcGkuc3Vic2NyaWJlcnNDb250cm9sbGVyLmFkZFN1YnNjcmliZXIoc3Vic2NyaWJlcjIpKTtcblxuICAgIG9uU3VjY2VzcyhtYW5pZmVzdC5nZXRKc29uSW5mbygpLCBzdWJzY3JpYmVyc0lkKTtcbiAgfSBlbHNlIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJTdWJzY3JpYmVyIiwibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWRzIiwidGltZW91dCIsInN1YnNjcmliZVNpbmdsZSIsInN1YnNjcmliZU1hbnkiLCJzdWJzY3JpYmVyMSIsInN1YnNjcmliZXIyIiwic3Vic2NyaWJlcnNJZCIsIm1hbmlmZXN0SWQiLCJzb3J0Iiwiam9pbiIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJkb3dubG9hZFN0YXRzIiwiZ2V0U3RhdHMiLCJwcm9jZXNzU3Vic2NyaWJlciIsInB1c2giLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJhZGRTdWJzY3JpYmVyIiwicmVzdWx0IiwiaSIsImoiLCJsZW5ndGgiLCJpc0Rvd25sb2FkRmluaXNoZWRBbmRTeW5jZWQiLCJvbkZpbmlzaCIsImNhbGxiYWNrIiwicmVtb3ZlIiwiaXRlbXMiLCJvZmZsaW5lQ29udHJvbGxlciIsImdldE1hbmlmZXN0SW5mb1Byb21pc2UiLCJQcm9taXNlIiwiYWxsIiwidGhlbiIsInJlc3VsdHMiLCJlcnIiLCJtYW5pZmVzdCIsIm1hbmlmZXN0Q29udHJvbGxlciIsImdldE1hbmlmZXN0QnlJZCIsImdldE1hbmlmZXN0SW5mbyIsImdldEpzb25JbmZvIiwiZ2V0RXJyb3IiLCJlIiwibWFuaWZlc3RzIiwiTk9UX0ZPVU5EIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///608\n")},6439:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar translation = __webpack_require__(817);\nmodule.exports = function (api, onSuccess, onFailure, target, manifestIds) {\n  if (typeof manifestIds === 'string') {\n    unsubscribeSingle(api, onSuccess, onFailure, target, manifestIds);\n  } else {\n    api.subscribersController.unsubscribe(manifestIds);\n    api.subscribersController.unsubscribe(manifestIds.sort().join(','));\n  }\n};\nfunction unsubscribeSingle(api, onSuccess, onFailure, target, manifestId) {\n  var manifest = api.manifestController.getManifestById(manifestId);\n  if (manifest) {\n    api.subscribersController.unsubscribe(manifestId);\n    onSuccess();\n  } else {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n  }\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjQzOS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxXQUFXLEdBQUdDLG1CQUFPLENBQUMsR0FBeUIsQ0FBQztBQUV0REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxXQUFXLEVBQUU7RUFDekUsSUFBSSxPQUFPQSxXQUFXLEtBQUssUUFBUSxFQUFFO0lBQ25DQyxpQkFBaUIsQ0FBQ0wsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxXQUFXLENBQUM7RUFDbkUsQ0FBQyxNQUFNO0lBQ0xKLEdBQUcsQ0FBQ00scUJBQXFCLENBQUNDLFdBQVcsQ0FBQ0gsV0FBVyxDQUFDO0lBQ2xESixHQUFHLENBQUNNLHFCQUFxQixDQUFDQyxXQUFXLENBQUNILFdBQVcsQ0FBQ0ksSUFBSSxFQUFFLENBQUNDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztFQUNyRTtBQUNGLENBQUM7QUFFRCxTQUFTSixpQkFBaUIsQ0FBRUwsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFTyxVQUFVLEVBQUU7RUFDekUsSUFBTUMsUUFBUSxHQUFHWCxHQUFHLENBQUNZLGtCQUFrQixDQUFDQyxlQUFlLENBQUNILFVBQVUsQ0FBQztFQUNuRSxJQUFJQyxRQUFRLEVBQUU7SUFDWlgsR0FBRyxDQUFDTSxxQkFBcUIsQ0FBQ0MsV0FBVyxDQUFDRyxVQUFVLENBQUM7SUFDakRULFNBQVMsRUFBRTtFQUNiLENBQUMsTUFBTTtJQUNMQyxTQUFTLENBQUNOLFdBQVcsQ0FBQ2tCLFFBQVEsQ0FBQ2xCLFdBQVcsQ0FBQ21CLENBQUMsQ0FBQ0MsU0FBUyxDQUFDQyxTQUFTLEVBQUVQLFVBQVUsQ0FBQyxDQUFDO0VBQ2hGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvZG93bmxvYWRzL3Vuc3Vic2NyaWJlLmpzPzJkODEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmNvbnN0IHRyYW5zbGF0aW9uID0gcmVxdWlyZSgnLi4vLi4vdHJhbnNsYXRpb24vaW5kZXgnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoYXBpLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgdGFyZ2V0LCBtYW5pZmVzdElkcykge1xuICBpZiAodHlwZW9mIG1hbmlmZXN0SWRzID09PSAnc3RyaW5nJykge1xuICAgIHVuc3Vic2NyaWJlU2luZ2xlKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZHMpO1xuICB9IGVsc2Uge1xuICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmUobWFuaWZlc3RJZHMpO1xuICAgIGFwaS5zdWJzY3JpYmVyc0NvbnRyb2xsZXIudW5zdWJzY3JpYmUobWFuaWZlc3RJZHMuc29ydCgpLmpvaW4oJywnKSk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHVuc3Vic2NyaWJlU2luZ2xlIChhcGksIG9uU3VjY2Vzcywgb25GYWlsdXJlLCB0YXJnZXQsIG1hbmlmZXN0SWQpIHtcbiAgY29uc3QgbWFuaWZlc3QgPSBhcGkubWFuaWZlc3RDb250cm9sbGVyLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgaWYgKG1hbmlmZXN0KSB7XG4gICAgYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci51bnN1YnNjcmliZShtYW5pZmVzdElkKTtcbiAgICBvblN1Y2Nlc3MoKTtcbiAgfSBlbHNlIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJ0cmFuc2xhdGlvbiIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0IiwibWFuaWZlc3RJZHMiLCJ1bnN1YnNjcmliZVNpbmdsZSIsInN1YnNjcmliZXJzQ29udHJvbGxlciIsInVuc3Vic2NyaWJlIiwic29ydCIsImpvaW4iLCJtYW5pZmVzdElkIiwibWFuaWZlc3QiLCJtYW5pZmVzdENvbnRyb2xsZXIiLCJnZXRNYW5pZmVzdEJ5SWQiLCJnZXRFcnJvciIsImUiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6439\n")},1052:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, manifestId, downloadFolder) {\n  api.downloadsController.updateDownloadFolder(manifestId, downloadFolder, onSuccess, onFailure);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTA1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLGNBQWMsRUFBRTtFQUN4RkwsR0FBRyxDQUFDTSxtQkFBbUIsQ0FBQ0Msb0JBQW9CLENBQUNILFVBQVUsRUFBRUMsY0FBYyxFQUFFSixTQUFTLEVBQUVDLFNBQVMsQ0FBQztBQUNoRyxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9iZS1tZXRob2RzL2Rvd25sb2Fkcy91cGRhdGUtZG93bmxvYWQtZm9sZGVyLmpzPzMyM2YiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgbWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpIHtcbiAgYXBpLmRvd25sb2Fkc0NvbnRyb2xsZXIudXBkYXRlRG93bmxvYWRGb2xkZXIobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIsIG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImFwaSIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInRhcmdldCIsIm1hbmlmZXN0SWQiLCJkb3dubG9hZEZvbGRlciIsImRvd25sb2Fkc0NvbnRyb2xsZXIiLCJ1cGRhdGVEb3dubG9hZEZvbGRlciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1052\n")},8105:module=>{"use strict";eval("\n\nmodule.exports = function (api, onSuccess, onFailure, target, subscribers) {\n  api.subscribersController.removeSubscribersById(subscribers);\n  onSuccess();\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODEwNS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxTQUFTLEVBQUVDLFNBQVMsRUFBRUMsTUFBTSxFQUFFQyxXQUFXLEVBQUU7RUFDekVKLEdBQUcsQ0FBQ0sscUJBQXFCLENBQUNDLHFCQUFxQixDQUFDRixXQUFXLENBQUM7RUFDNURILFNBQVMsRUFBRTtBQUNiLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2JlLW1ldGhvZHMvcmVtb3ZlLXN1YnNjcmliZXJzLmpzPzUzM2IiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGFwaSwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRhcmdldCwgc3Vic2NyaWJlcnMpIHtcbiAgYXBpLnN1YnNjcmliZXJzQ29udHJvbGxlci5yZW1vdmVTdWJzY3JpYmVyc0J5SWQoc3Vic2NyaWJlcnMpO1xuICBvblN1Y2Nlc3MoKTtcbn07XG5cbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiYXBpIiwib25TdWNjZXNzIiwib25GYWlsdXJlIiwidGFyZ2V0Iiwic3Vic2NyaWJlcnMiLCJzdWJzY3JpYmVyc0NvbnRyb2xsZXIiLCJyZW1vdmVTdWJzY3JpYmVyc0J5SWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8105\n")},6953:module=>{"use strict";eval("\n\nmodule.exports = {\n  regexpProtocolRemove: /^https{0,1}\\:\\/\\//i\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk1My5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZkMsb0JBQW9CLEVBQUU7QUFDeEIsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvY29uc3RhbnRzLmpzP2Q5OWEiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICByZWdleHBQcm90b2NvbFJlbW92ZTogL15odHRwc3swLDF9XFw6XFwvXFwvL2lcbn07XG4iXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsInJlZ2V4cFByb3RvY29sUmVtb3ZlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6953\n")},4612:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\nvar mkdirp = __webpack_require__(9526);\nvar appSettings = __webpack_require__(9277);\nvar translation = __webpack_require__(817);\nvar Download = __webpack_require__(8158);\nvar DownloadsStorageController = __webpack_require__(2381);\nvar downloadUtil = __webpack_require__(957);\nvar DownloadStats = __webpack_require__(2197);\nvar STATUSES = __webpack_require__(8255);\nvar CODES = __webpack_require__(6999);\nvar constants = __webpack_require__(6953);\nvar utilUrl = __webpack_require__(8279);\nvar path = __webpack_require__(1017);\nvar ReadItem = __webpack_require__(3812);\nvar FlushItem = __webpack_require__(1789);\nvar downloadFileUtil = __webpack_require__(2777);\n\n/**\n *\n * @param {ManifestController} manifestController - existing manifest controller\n * @param {OfflineController} offlineController - existing offline controller\n * @constructor\n */\nfunction DownloadsController(manifestController, offlineController) {\n  this._manifestsDownloadOrder = [];\n  this._manifestsDownloadOrderObj = {};\n  this._manifestController = manifestController;\n  this._offlineController = offlineController;\n  this.storage = new DownloadsStorageController();\n  this._offlineController.setDownloadStorage(this.storage);\n  this._names = {\n    downloadInProgress: "downloadInProgress",\n    options: "options",\n    maxDownloadInProgress: "maxDownloadInProgress"\n  };\n  this._STATS_TIME_GENERATION = 1000;\n  this.downloadStats = new DownloadStats(this.storage);\n  _.bindAll(this, "_onDownloadEnd", "_onDownloadError", "isDownloadFinished");\n}\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} videoLinks - video links to be downloaded\n * @param {Array} audioLinks - audio links to be downloaded\n * @param {Array} textLinks - text links to be downloaded\n * @returns {void}\n * @private\n */\nDownloadsController.prototype._addDownloads = function (manifestId, videoLinks, audioLinks, textLinks) {\n  var working = true;\n  this._prepareStartOptions(manifestId, videoLinks, audioLinks, textLinks);\n  while (working) {\n    var ratioAudioVideo = videoLinks.length ? Math.round(audioLinks.length / videoLinks.length) : 1;\n    var ratioTextVideo = videoLinks.length ? Math.round(textLinks.length / videoLinks.length) : 1;\n    this._addNextItemToQueue(manifestId, textLinks, ratioTextVideo);\n    this._addNextItemToQueue(manifestId, audioLinks, ratioAudioVideo);\n    this._addNextItemToQueue(manifestId, videoLinks);\n    working = !!(textLinks.length || videoLinks.length || audioLinks.length);\n  }\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} links - array of links to be downloaded\n * @param {number} nbItems - the rnumber of items to add to the queue\n * @private\n * @returns {void}\n */\nDownloadsController.prototype._addNextItemToQueue = function (manifestId, links, nbItems) {\n  var link;\n  if (!nbItems) {\n    nbItems = 1;\n  }\n  if (links.length) {\n    while (nbItems > 0) {\n      link = links.shift();\n      link.manifestId = manifestId;\n      this.storage.left.push(manifestId, link);\n      nbItems--;\n    }\n  }\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {boolean} asFirst - to force to download manifest without wiating in queue\n * @returns {boolean} - status if operation was successfully\n * @private\n */\nDownloadsController.prototype._downloadOrderAddManifest = function (manifestId, asFirst) {\n  if (!this._downloadOrderManifestExists(manifestId)) {\n    this._manifestsDownloadOrderObj[manifestId] = true;\n    if (asFirst) {\n      this._manifestsDownloadOrder.unshift(manifestId);\n    } else {\n      this._manifestsDownloadOrder.push(manifestId);\n    }\n    return true;\n  } else {\n    return false;\n  }\n};\n\n/**\n *\n * @param {number} nextManifestPositionInArray - index number from array _manifestsDownloadOrder\n * @returns {manifestId} - manifest identifier\n * @private\n */\nDownloadsController.prototype._downloadOrderGetManifestId = function (nextManifestPositionInArray) {\n  return this._manifestsDownloadOrder[nextManifestPositionInArray];\n};\n\n/**\n *\n * @param {manifestId} manifestId -  manifest identifier\n * @returns {number} index number from array _manifestsDownloadOrder\n * @private\n */\nDownloadsController.prototype._indexOfManifest = function (manifestId) {\n  return this._manifestsDownloadOrder.indexOf(manifestId);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} - if manifest has been already added to the queue\n * @private\n */\nDownloadsController.prototype._downloadOrderManifestExists = function (manifestId) {\n  return this._manifestsDownloadOrderObj[manifestId];\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - status if manifest has been removed from queue\n * @private\n */\nDownloadsController.prototype._downloadOrderRemoveManifest = function (manifestId) {\n  var found = false,\n    i,\n    j;\n  delete this._manifestsDownloadOrderObj[manifestId];\n  for (i = 0, j = this._manifestsDownloadOrder.length; i < j; i++) {\n    if (this._manifestsDownloadOrder[i] === manifestId) {\n      this._manifestsDownloadOrder.splice(i, 1);\n      found = true;\n      break;\n    }\n  }\n  return found;\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when download finishes with success\n * @param {function} onFailure - callback to be invoked when download failed\n * @private\n * @returns {void}\n */\nDownloadsController.prototype._finish = function (manifestId, onSuccess, onFailure) {\n  this.downloadStats.refresh();\n  this._downloadOrderRemoveManifest(manifestId);\n  if (!this._manifestsDownloadOrder.length) {\n    this.downloadStats.stop();\n  }\n  this.storage.removeItem(manifestId).then(onSuccess, onFailure);\n};\n\n/**\n *\n * @param {object} link - link object which consist remote and local url\n * @private\n * @returns {string} - unique hash for download file based on local and remote url\n */\nDownloadsController.prototype._getDownloadHash = function (link) {\n  return link.remoteUrl + "-" + link.localUrl;\n};\n\n/**\n *\n * @param {Download} download - download class to be marked either with success or with error\n * @private\n * @returns {void}\n */\nDownloadsController.prototype._markDownloadItem = function (download) {\n  var self = this;\n  var manifestId = download.manifestId;\n  var downloadHash = self._getDownloadHash(download);\n  var syncStorageKeys = [];\n  var lastItem;\n  download.events.removeListener("end", self._onDownloadEnd);\n  download.events.removeListener("error", self._onDownloadError);\n\n  //refreshing stats for last time - to have correct stats for subscribers progress before it is removed\n  if (self.storage.downloading.count(manifestId) === 1 && self.storage.left.count(manifestId) === 0) {\n    this.downloadStats.refresh();\n    lastItem = true;\n  }\n  if (download.status === STATUSES.FINISHED) {\n    self.storage.downloaded.push(manifestId, download);\n    syncStorageKeys.push(this.storage.stores.DOWNLOADS.DOWNLOADED);\n  } else {\n    self.storage.errors.push(manifestId, download);\n  }\n  self.storage.downloading.removeItem(manifestId, downloadHash);\n  if (self.isDownloadFinished(manifestId)) {\n    if (self.storage.errors.count(manifestId) === 0) {\n      self.storage.status.setItem(manifestId, "status", STATUSES.FINISHED);\n    } else {\n      self.storage.status.setItem(manifestId, "status", STATUSES.ERROR);\n    }\n    syncStorageKeys.push(this.storage.stores.STATUS);\n  }\n  self.storage.sync(manifestId, syncStorageKeys).then(function () {\n    self.storage.params.decrease(manifestId, self._names.downloadInProgress);\n    if (lastItem) {\n      self._finish(manifestId, function () {\n        self.startQueue();\n        console.info("FINISHED", manifestId);\n      }, function () {\n        self.startQueue();\n      });\n    } else {\n      self.startQueue();\n    }\n  }, function (err) {\n    console.error("ERROR", err);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when stop has been successfully\n * @param {function} onFailure - callback to be invoked when stop failed\n * @param {string} status - the status\n * @param {string} statusDetails - adds details about status (on errors for example)\n * @returns {void}\n */\nDownloadsController.prototype._stopWithStatus = function (manifestId, onSuccess, onFailure, status, statusDetails) {\n  var self = this;\n  self._downloadOrderRemoveManifest(manifestId);\n  self.storage.getItem(manifestId).then(function (result) {\n    if (!result) {\n      onFailure(translation.getError(translation.e.downloads.ALREADY_STOPPED, manifestId));\n      return;\n    }\n    var itemsToStop = self.storage.downloading.getKeys(manifestId);\n    var itemToStop;\n    console.info("STOPPING", manifestId, itemsToStop.length);\n    var promises = [];\n    for (var i = 0, j = itemsToStop.length; i < j; i++) {\n      itemToStop = self.storage.downloading.getItem(manifestId, itemsToStop[i]);\n      itemToStop.events.removeListener("end", self._onDownloadEnd);\n      itemToStop.events.removeListener("error", self._onDownloadError);\n      promises.push(itemToStop.stopPromise());\n    }\n    self.storage.status.setItem(manifestId, "status", status);\n    if (statusDetails) {\n      self.storage.status.setItem(manifestId, "details", statusDetails);\n    }\n    promises.push(self.storage.sync(manifestId, [self.storage.stores.DOWNLOADS.DOWNLOADED, self.storage.stores.STATUS]));\n    Promise.all(promises).then(function () {\n      self._finish(manifestId, onSuccess, onFailure);\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.STOPPING_FAILED, manifestId), err);\n    });\n  }, function (err) {\n    onFailure(translation.getError(translation.e.downloads.STOPPING_FAILED, manifestId), err);\n  });\n};\n/**\n * @param {Download} download - Download Class\n * @param {object} err - error object\n * @returns {void}\n * @private\n */\nDownloadsController.prototype._onDownloadError = function (download, err) {\n  console.error("ERROR", download.remoteUrl, err);\n  this._markDownloadItem(download);\n  if (err === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR || appSettings.getSettings().stopOnError) {\n    // stop downloading => cannot write\n    this._stopWithStatus(download.manifestId, function () {\n      console.info(\'stopped\');\n    }, function (failure) {\n      console.info(failure);\n    }, STATUSES.ERROR, err);\n  }\n};\n\n/**\n *\n * @param {Download} download - Download Class\n * @returns {void}\n * @private\n */\nDownloadsController.prototype._onDownloadEnd = function (download) {\n  // console.log("FINISHED", download.remoteUrl, download.localUrl);\n  this._markDownloadItem(download);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} videoLinks - video links to be downloaded\n * @param {Array} audioLinks - audio links to be downloaded\n * @param {Array} textLinks - text links to be downloaded\n * @returns {void}\n * @private\n */\nDownloadsController.prototype._prepareStartOptions = function (manifestId, videoLinks, audioLinks, textLinks) {\n  var count = videoLinks.length + audioLinks.length + textLinks.length;\n  console.info("ADDING ->>> ", manifestId + ",", count, "fragments");\n  var options = {};\n  this.storage.params.setItem(manifestId, this._names.downloadInProgress, 0);\n  var maxDownloadInProgress;\n  var threadRules = appSettings.getSettings().downloadingThreadsRules;\n  for (var i = 0, j = threadRules.items.length; i < j; i++) {\n    if (count <= threadRules.items[i].max) {\n      options[threadRules.threadName] = threadRules.items[i].threads;\n      maxDownloadInProgress = threadRules.items[i].files;\n      break;\n    }\n  }\n  this.storage.params.setItem(manifestId, this._names.options, options);\n  this.storage.params.setItem(manifestId, this._names.maxDownloadInProgress, maxDownloadInProgress);\n\n  //download order can help to stop download one manifest and download another or download them in parallel\n  this._downloadOrderAddManifest(manifestId);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - if download is finished\n */\nDownloadsController.prototype.isDownloadFinished = function (manifestId) {\n  return !this.storage.left.count(manifestId) && !this.storage.downloading.count(manifestId);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} - if download is finished and synced (info written on disk)\n */\nDownloadsController.prototype.isDownloadFinishedAndSynced = function (manifestId) {\n  return !this.storage.left.count(manifestId) && !this.storage.downloading.count(manifestId) && !this.storage.keyExists(manifestId);\n};\nDownloadsController.prototype.getDownloading = function (manifestId, localFile) {\n  var items = this.storage.downloading.getItems(manifestId);\n  if (!items) {\n    return null;\n  }\n  for (var link in items) {\n    if (items.hasOwnProperty(link)) {\n      var download = items[link];\n      var downloadPath = path.normalize(download.localUrl);\n      var local = path.normalize(localFile);\n      if (downloadPath === local) {\n        return download;\n      }\n    }\n  }\n  return null;\n};\nDownloadsController.prototype.waitForDownload = function (download, callback) {\n  var _onDownloadEnd;\n  var _onDownloadError;\n  var removeListener = function removeListener(download) {\n    download.events.removeListener("end", _onDownloadEnd);\n    download.events.removeListener("error", _onDownloadError);\n  };\n  _onDownloadEnd = function _onDownloadEnd(download) {\n    removeListener(download);\n    callback();\n  };\n  _onDownloadError = function _onDownloadError(download, err) {\n    removeListener(download);\n    callback(err);\n  };\n  download.events.on("end", _onDownloadEnd);\n  download.events.on("error", _onDownloadError);\n};\n\n/**\n* Perform a seek - this changes order of fragment download for a manifest\n* @param {string} manifestId - manifest identifier\n* @param {string} localFile - local file\n* @param {function} callback - callback to get result\n* @returns {void}\n*/\nDownloadsController.prototype.performSeek = function (manifestId, localFile, callback) {\n  var self = this;\n  var download;\n  download = self.getDownloading(manifestId, localFile);\n  if (download) {\n    self.waitForDownload(download, callback);\n    return;\n  }\n  var items = self.storage.left.getItems(manifestId);\n  if (!items) {\n    callback(\'No download found\');\n    return;\n  }\n  var index = items.findIndex(function (download) {\n    var downloadPath = path.normalize(download.localUrl);\n    var local = path.normalize(localFile);\n    return downloadPath === local;\n  });\n  if (index > -1) {\n    var part1 = items.slice(0, index);\n    var part2 = items.slice(index);\n    self.storage.left.clear(manifestId);\n    self.storage.left.concat(manifestId, part2);\n    self.storage.left.concat(manifestId, part1);\n    items = self.storage.left.getItems(manifestId);\n    self.startQueue(self._indexOfManifest(manifestId), true);\n    download = self.getDownloading(manifestId, localFile);\n    if (download) {\n      self.waitForDownload(download, callback);\n    } else {\n      // if not queued, return an error\n      callback(\'No download found\');\n    }\n  } else {\n    callback(\'No download found\');\n  }\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - object containing video, audio and text representations ids\n * @param {string} downloadFolder - download folder for video. If undefined, then default download folder is used\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @param {boolean} fromResumed - if start has been called from resume api method\n * @param {string} oldstatus - if from resumed, then indicates the old status of download\n * @returns {void}\n */\nDownloadsController.prototype.start = function (manifestId, representations, downloadFolder, onSuccess, onFailure, fromResumed, oldstatus) {\n  var self = this;\n  this.downloadStats.start();\n  var manifest = this._manifestController.getManifestById(manifestId);\n  if (!manifest) {\n    onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n    return;\n  }\n  representations = representations || {};\n  var video = representations.video || [];\n  if (!Array.isArray(video)) {\n    video = [video];\n  }\n  var audio = representations.audio || [];\n  if (!Array.isArray(audio)) {\n    audio = [audio];\n  }\n  var text = representations.text || [];\n  if (!Array.isArray(text)) {\n    text = [text];\n  }\n  var videoR = manifest.getVideoRepresentations();\n  var audioR = manifest.getAudioRepresentations();\n  var textR = manifest.getTextRepresentations();\n  var localDownloadFolder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n  if (downloadFolder) {\n    localDownloadFolder = path.resolve(downloadFolder);\n  }\n  var localPath = path.resolve(localDownloadFolder + "/" + manifestId + "/");\n  var manifestUrl = manifest.getManifestUrl();\n  var manifestName = manifest.getManifestName();\n  function getManifestBaseUrl(xml, manifestUrlDomain) {\n    var manifestBaseUrl;\n    var MPD = xml.getElementsByTagName("MPD")[0];\n    if (MPD) {\n      for (var i = 0, j = MPD.childNodes.length; i < j; i++) {\n        if (MPD.childNodes[i].nodeName === "BaseURL") {\n          manifestBaseUrl = MPD.childNodes[i].textContent;\n          if (!manifestBaseUrl.match(constants.regexpProtocolRemove)) {\n            manifestBaseUrl = utilUrl.joinPath(manifestUrlDomain, manifestBaseUrl);\n          }\n          break;\n        }\n      }\n    }\n    if (!manifestBaseUrl) {\n      manifestBaseUrl = manifestUrlDomain;\n    }\n    return manifestBaseUrl;\n  }\n  Promise.all([this._offlineController.getManifestInfoPromise(manifestId, true), this.storage.getItem(manifestId), mkdirp(localPath)]).then(function (results) {\n    var info = results[0];\n    var storageItem = results[1];\n    if (storageItem && !self.isDownloadFinished(manifestId)) {\n      if (fromResumed) {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_RESUMED, manifestId));\n      } else {\n        onFailure(translation.getError(translation.e.downloads.ALREADY_STARTED, manifestId));\n      }\n      return;\n    }\n\n    //collect Links - start\n    if (info.manifest.video) {\n      video = _.union(video, info.manifest.video);\n    }\n    if (info.manifest.audio) {\n      audio = _.union(audio, info.manifest.audio);\n    }\n    if (info.manifest.text) {\n      text = _.union(text, info.manifest.text);\n    }\n    var downloaded = info.downloadedFiles || [];\n    var downloadedHash = {};\n    for (var i = 0, j = downloaded.length; i < j; i++) {\n      downloadedHash[downloaded[i].localUrl] = downloaded[i];\n    }\n    var remotePath = getManifestBaseUrl(manifest.manifestXML.xml, manifest.url_domain);\n    var videoLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, video, videoR, downloadedHash);\n    var audioLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, audio, audioR, downloadedHash);\n    var textLinks = downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, text, textR, downloadedHash);\n    var allvideoLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, video, videoR);\n    var allaudioLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, audio, audioR);\n    var alltextLinks = downloadUtil.getAllLinks(manifestId, localPath, remotePath, text, textR);\n    var allFiles = allvideoLinks.concat(allaudioLinks, alltextLinks);\n\n    //collect Links - end\n\n    self.storage.createIfNotExists(manifestId).then(function () {\n      self.storage.manifest.setItem(manifestId, "ts", new Date().getTime());\n      self.storage.manifest.setItem(manifestId, "url", manifestUrl);\n      self.storage.manifest.setItem(manifestId, "name", manifestName);\n      self.storage.manifest.setItem(manifestId, "video", video);\n      self.storage.manifest.setItem(manifestId, "audio", audio);\n      self.storage.manifest.setItem(manifestId, "text", text);\n      self.storage.manifest.setItem(manifestId, "files", allFiles);\n      self.storage.manifest.setItem(manifestId, "folder", localDownloadFolder);\n      self.storage.downloaded.clear(manifestId);\n      self.storage.downloaded.concat(manifestId, downloaded);\n      self.storage.errors.clear(manifestId);\n      if (!fromResumed) {\n        // do not initialise state of manifest is start is from resume\n        // state must stay the last one\n        self.storage.status.setItem(manifestId, "status", STATUSES.CREATED);\n      } else {\n        // init status with last status\n        self.storage.status.setItem(manifestId, "status", oldstatus);\n      }\n      Promise.all([self.storage.sync(manifestId, [self.storage.stores.MANIFEST, self.storage.stores.STATUS]), self._manifestController.saveOriginalManifestOnceOnly(manifestId), self._manifestController.saveManifestWithChosenRepresentations(manifestId, {\n        video: video,\n        audio: audio,\n        text: text\n      }, localPath)]).then(function () {\n        self._addDownloads(manifestId, videoLinks, audioLinks, textLinks);\n        if (self._indexOfManifest(manifestId) > appSettings.getSettings().numberOfManifestsInParallel - 1) {\n          self.storage.status.setItem(manifestId, "status", STATUSES.QUEUED);\n        } else {\n          self.storage.status.setItem(manifestId, "status", STATUSES.STARTED);\n        }\n        self.storage.status.setItem(manifestId, "left", self.storage.left.count(manifestId));\n        self.storage.sync(manifestId, [self.storage.stores.DOWNLOADS.DOWNLOADED, self.storage.stores.STATUS]).then(function () {\n          self.downloadStats.refresh();\n          if (self.isDownloadFinished(manifestId)) {\n            self.storage.status.setItem(manifestId, "status", STATUSES.FINISHED);\n            self.storage.sync(manifestId, self.storage.stores.STATUS).then(function () {\n              self._finish(manifestId, onSuccess, onFailure);\n            }, onFailure);\n          } else {\n            self.downloadStats.start();\n            self.startQueue();\n            onSuccess();\n          }\n        }, onFailure);\n      }, onFailure);\n    }, onFailure);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations - object containing video, audio and text representations ids\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @returns {void}\n */\nDownloadsController.prototype.resume = function (manifestId, representations, onSuccess, onFailure) {\n  var self = this;\n  this._offlineController.getManifestInfo(manifestId, function (err, info) {\n    if (err) {\n      onFailure(translation.getError(translation.e.downloads.RESUMING_FAILED, manifestId), err);\n    } else {\n      var folder = info.manifest.folder;\n      if (!folder) {\n        // use default download folder path\n        folder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n      }\n      self.start(manifestId, representations, folder, onSuccess, onFailure, true, info.status);\n    }\n  });\n};\n\n/**\n * Update download folder path\n * @param {string} manifestId - manifest identifier\n * @param {string} downloadFolder - new download folder\n * @param {function} onSuccess - callback to be invoked when start has been successfully\n * @param {function} onFailure - callback to be invoked when start failed\n * @returns {void}\n */\nDownloadsController.prototype.updateDownloadFolder = function (manifestId, downloadFolder, onSuccess, onFailure) {\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST)]).then(function (results) {\n    var manifestSettings = results[0];\n    if (!manifestSettings) {\n      onFailure(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n    manifestSettings.folder = downloadFolder;\n    var flushItem = new FlushItem(manifestId, appSettings.getSettings().stores.MANIFEST, manifestSettings);\n    flushItem.save().then(function () {\n      onSuccess();\n    }, function (err) {\n      onFailure(translation.getError(translation.e.downloads.SAVING_DATA_FAILED, manifestId), err);\n    });\n  }, function (err) {\n    onFailure(translation.getError(translation.e.downloads.UPDATE_DOWNLOAD_FOLDER_FAILED, manifestId), err);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {function} onSuccess - callback to be invoked when stop has been successfully\n * @param {function} onFailure - callback to be invoked when stop failed\n * @returns {void}\n */\nDownloadsController.prototype.stop = function (manifestId, onSuccess, onFailure) {\n  this._stopWithStatus(manifestId, onSuccess, onFailure, STATUSES.STOPPED);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {boolean} ignoreStopped - don\'t fail if download has been already stopped\n * @returns {Promise} - promise\n */\nDownloadsController.prototype.stopPromise = function (manifestId, ignoreStopped) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.stop(manifestId, resolve, function (err) {\n      if (err) {\n        if (ignoreStopped && err.code === CODES.ERRORS.STOPPED) {\n          resolve();\n          return;\n        }\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} - promise\n */\nDownloadsController.prototype.removePromise = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.stopPromise(manifestId).then(function () {\n      self.storage.removeItem(manifestId).then(resolve, reject);\n    }, function (err) {\n      //already stopped, continue\n      if (err && err.code === CODES.ERRORS.STOPPED) {\n        self.storage.removeItem(manifestId).then(resolve, reject);\n      } else {\n        reject(err);\n      }\n    });\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} link - object link to be downloaded\n * @private\n * @returns {void}\n */\nDownloadsController.prototype._addLinkToDownload = function (manifestId, link) {\n  var self = this;\n  var params = Object.assign({}, link);\n  var download = new Download(params, self.storage.params.getItem(manifestId, self._names.options));\n  var downloadHash = self._getDownloadHash(link);\n  self.storage.downloading.setItem(manifestId, downloadHash, download);\n  self.storage.status.setItem(manifestId, "left", self.storage.left.count(manifestId) + self.storage.errors.count(manifestId));\n  self.storage.sync(manifestId, self.storage.stores.STATUS);\n  download.events.on("end", self._onDownloadEnd);\n  download.events.on("error", self._onDownloadError);\n  download.start();\n  return download;\n};\n\n/**\n *\n * @param {number} [nextManifestPositionInArray] - index from array to decide which manifest should be downloaded next\n *   (queue)\n * @param {boolean} forceDownload true to force next download to be queued\n * @returns {void}\n */\nDownloadsController.prototype.startQueue = function (nextManifestPositionInArray, forceDownload) {\n  var count, downloadsInProgress, link, manifestId, maxDownloads;\n  if (typeof nextManifestPositionInArray === "undefined") {\n    nextManifestPositionInArray = 0;\n  }\n  manifestId = this._downloadOrderGetManifestId(nextManifestPositionInArray);\n  if (manifestId && this.isDownloadFinished(manifestId)) {\n    // the manifest id will be removed from queue, wait next time. Thus, do not change status\n    return;\n  }\n  if (nextManifestPositionInArray >= appSettings.getSettings().numberOfManifestsInParallel) {\n    if (manifestId) {\n      this.storage.status.setItem(manifestId, "status", STATUSES.QUEUED);\n    }\n    return;\n  } else {\n    this.storage.status.setItem(manifestId, "status", STATUSES.STARTED);\n  }\n  if (!manifestId) {\n    count = 0;\n    var i, j, items;\n    items = this.storage.getKeys();\n    for (i = 0, j = items.length; i < j; i++) {\n      count += this.storage.params.count(items[i], this._names.downloadInProgress);\n    }\n    if (count === 0) {\n      this.downloadStats.stop();\n    }\n    return;\n  }\n  downloadsInProgress = this.storage.params.getItem(manifestId, this._names.downloadInProgress);\n  maxDownloads = this.storage.params.getItem(manifestId, this._names.maxDownloadInProgress);\n  if (downloadsInProgress < maxDownloads - 1 || forceDownload) {\n    link = this.storage.left.shift(manifestId);\n    if (link) {\n      this.storage.params.increase(manifestId, this._names.downloadInProgress);\n      this._addLinkToDownload(manifestId, link);\n    } else {\n      //check next manifest\n      nextManifestPositionInArray++;\n    }\n    this.startQueue(nextManifestPositionInArray);\n  } else if (appSettings.getSettings().numberOfManifestsInParallel > 1 && nextManifestPositionInArray < appSettings.getSettings().numberOfManifestsInParallel) {\n    nextManifestPositionInArray++;\n    this.startQueue(nextManifestPositionInArray);\n  }\n};\nmodule.exports = DownloadsController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RiwyQkFBMkIsRUFBRTtJQUMzSmhLLDJCQUEyQixFQUFFO0lBQzdCLElBQUksQ0FBQzRDLFVBQVUsQ0FBQzVDLDJCQUEyQixDQUFDO0VBQzlDO0FBQ0YsQ0FBQztBQUVEMEwsTUFBTSxDQUFDQyxPQUFPLEdBQUdwTyxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL2Rvd25sb2Fkcy1jb250cm9sbGVyLmpzP2QwMGMiXSwic291cmNlc0NvbnRlbnQiOlsiLyplc2xpbnQgbm8tY29uc29sZTogW1wiZXJyb3JcIiwgeyBhbGxvdzogW1wid2FyblwiLCBcImVycm9yXCIsIFwiaW5mb1wiXSB9XSAqL1xuXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfID0gcmVxdWlyZShcInVuZGVyc2NvcmVcIik7XG5jb25zdCBta2RpcnAgPSByZXF1aXJlKFwibWtkaXJwXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoXCIuLi90cmFuc2xhdGlvbi9pbmRleFwiKTtcbmNvbnN0IERvd25sb2FkID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9kb3dubG9hZFwiKTtcbmNvbnN0IERvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyID0gcmVxdWlyZShcIi4vZG93bmxvYWRzLXN0b3JhZ2UtY29udHJvbGxlclwiKTtcbmNvbnN0IGRvd25sb2FkVXRpbCA9IHJlcXVpcmUoXCIuLi91dGlsL2Rvd25sb2Fkc1wiKTtcbmNvbnN0IERvd25sb2FkU3RhdHMgPSByZXF1aXJlKFwiLi4vc3RhdHMvZG93bmxvYWRfc3RhdHNcIik7XG5jb25zdCBTVEFUVVNFUyA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvc3RhdHVzZXNcIik7XG5jb25zdCBDT0RFUyA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvY29kZXNcIik7XG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXRpbFVybCA9IHJlcXVpcmUoXCIuLi91dGlsL3VybFwiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbmNvbnN0IFJlYWRJdGVtID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9yZWFkLWl0ZW1cIik7XG5jb25zdCBGbHVzaEl0ZW0gPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2ZsdXNoLWl0ZW1cIik7XG5jb25zdCBkb3dubG9hZEZpbGVVdGlsID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9kb3dubG9hZC1maWxlLXV0aWxcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TWFuaWZlc3RDb250cm9sbGVyfSBtYW5pZmVzdENvbnRyb2xsZXIgLSBleGlzdGluZyBtYW5pZmVzdCBjb250cm9sbGVyXG4gKiBAcGFyYW0ge09mZmxpbmVDb250cm9sbGVyfSBvZmZsaW5lQ29udHJvbGxlciAtIGV4aXN0aW5nIG9mZmxpbmUgY29udHJvbGxlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERvd25sb2Fkc0NvbnRyb2xsZXIgKG1hbmlmZXN0Q29udHJvbGxlciwgb2ZmbGluZUNvbnRyb2xsZXIpIHtcbiAgdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlciA9IFtdO1xuICB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyT2JqID0ge307XG4gIHRoaXMuX21hbmlmZXN0Q29udHJvbGxlciA9IG1hbmlmZXN0Q29udHJvbGxlcjtcbiAgdGhpcy5fb2ZmbGluZUNvbnRyb2xsZXIgPSBvZmZsaW5lQ29udHJvbGxlcjtcbiAgdGhpcy5zdG9yYWdlID0gbmV3IERvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyKCk7XG4gIHRoaXMuX29mZmxpbmVDb250cm9sbGVyLnNldERvd25sb2FkU3RvcmFnZSh0aGlzLnN0b3JhZ2UpO1xuICB0aGlzLl9uYW1lcyA9IHtcbiAgICBkb3dubG9hZEluUHJvZ3Jlc3M6IFwiZG93bmxvYWRJblByb2dyZXNzXCIsXG4gICAgb3B0aW9uczogXCJvcHRpb25zXCIsXG4gICAgbWF4RG93bmxvYWRJblByb2dyZXNzOiBcIm1heERvd25sb2FkSW5Qcm9ncmVzc1wiXG4gIH07XG4gIHRoaXMuX1NUQVRTX1RJTUVfR0VORVJBVElPTiA9IDEwMDA7XG4gIHRoaXMuZG93bmxvYWRTdGF0cyA9IG5ldyBEb3dubG9hZFN0YXRzKHRoaXMuc3RvcmFnZSk7XG4gIF8uYmluZEFsbCh0aGlzLCBcIl9vbkRvd25sb2FkRW5kXCIsIFwiX29uRG93bmxvYWRFcnJvclwiLCBcImlzRG93bmxvYWRGaW5pc2hlZFwiKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0FycmF5fSB2aWRlb0xpbmtzIC0gdmlkZW8gbGlua3MgdG8gYmUgZG93bmxvYWRlZFxuICogQHBhcmFtIHtBcnJheX0gYXVkaW9MaW5rcyAtIGF1ZGlvIGxpbmtzIHRvIGJlIGRvd25sb2FkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IHRleHRMaW5rcyAtIHRleHQgbGlua3MgdG8gYmUgZG93bmxvYWRlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fYWRkRG93bmxvYWRzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIHZpZGVvTGlua3MsIGF1ZGlvTGlua3MsIHRleHRMaW5rcykge1xuICBsZXQgd29ya2luZyA9IHRydWU7XG4gIHRoaXMuX3ByZXBhcmVTdGFydE9wdGlvbnMobWFuaWZlc3RJZCwgdmlkZW9MaW5rcywgYXVkaW9MaW5rcywgdGV4dExpbmtzKTtcbiAgd2hpbGUgKHdvcmtpbmcpIHtcbiAgICBsZXQgcmF0aW9BdWRpb1ZpZGVvID0gdmlkZW9MaW5rcy5sZW5ndGggPyBNYXRoLnJvdW5kKGF1ZGlvTGlua3MubGVuZ3RoIC8gdmlkZW9MaW5rcy5sZW5ndGgpIDogMTtcbiAgICBsZXQgcmF0aW9UZXh0VmlkZW8gPSB2aWRlb0xpbmtzLmxlbmd0aCA/IE1hdGgucm91bmQodGV4dExpbmtzLmxlbmd0aCAvIHZpZGVvTGlua3MubGVuZ3RoKSA6IDE7XG4gICAgdGhpcy5fYWRkTmV4dEl0ZW1Ub1F1ZXVlKG1hbmlmZXN0SWQsIHRleHRMaW5rcywgcmF0aW9UZXh0VmlkZW8pO1xuICAgIHRoaXMuX2FkZE5leHRJdGVtVG9RdWV1ZShtYW5pZmVzdElkLCBhdWRpb0xpbmtzLCByYXRpb0F1ZGlvVmlkZW8pO1xuICAgIHRoaXMuX2FkZE5leHRJdGVtVG9RdWV1ZShtYW5pZmVzdElkLCB2aWRlb0xpbmtzKTtcbiAgICB3b3JraW5nID0gISEodGV4dExpbmtzLmxlbmd0aCB8fCB2aWRlb0xpbmtzLmxlbmd0aCB8fCBhdWRpb0xpbmtzLmxlbmd0aCk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtBcnJheX0gbGlua3MgLSBhcnJheSBvZiBsaW5rcyB0byBiZSBkb3dubG9hZGVkXG4gKiBAcGFyYW0ge251bWJlcn0gbmJJdGVtcyAtIHRoZSBybnVtYmVyIG9mIGl0ZW1zIHRvIGFkZCB0byB0aGUgcXVldWVcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX2FkZE5leHRJdGVtVG9RdWV1ZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBsaW5rcywgbmJJdGVtcykge1xuICBsZXQgbGluaztcbiAgaWYgKCFuYkl0ZW1zKSB7XG4gICAgbmJJdGVtcyA9IDE7XG4gIH1cbiAgaWYgKGxpbmtzLmxlbmd0aCkge1xuICAgIHdoaWxlIChuYkl0ZW1zID4gMCkge1xuICAgICAgbGluayA9IGxpbmtzLnNoaWZ0KCk7XG4gICAgICBsaW5rLm1hbmlmZXN0SWQgPSBtYW5pZmVzdElkO1xuICAgICAgdGhpcy5zdG9yYWdlLmxlZnQucHVzaChtYW5pZmVzdElkLCBsaW5rKTtcbiAgICAgIG5iSXRlbXMtLTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtib29sZWFufSBhc0ZpcnN0IC0gdG8gZm9yY2UgdG8gZG93bmxvYWQgbWFuaWZlc3Qgd2l0aG91dCB3aWF0aW5nIGluIHF1ZXVlXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBzdGF0dXMgaWYgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsbHlcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9kb3dubG9hZE9yZGVyQWRkTWFuaWZlc3QgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgYXNGaXJzdCkge1xuICBpZiAoIXRoaXMuX2Rvd25sb2FkT3JkZXJNYW5pZmVzdEV4aXN0cyhtYW5pZmVzdElkKSkge1xuICAgIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJPYmpbbWFuaWZlc3RJZF0gPSB0cnVlO1xuICAgIGlmIChhc0ZpcnN0KSB7XG4gICAgICB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLnVuc2hpZnQobWFuaWZlc3RJZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIucHVzaChtYW5pZmVzdElkKTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5IC0gaW5kZXggbnVtYmVyIGZyb20gYXJyYXkgX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJcbiAqIEByZXR1cm5zIHttYW5pZmVzdElkfSAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9kb3dubG9hZE9yZGVyR2V0TWFuaWZlc3RJZCA9IGZ1bmN0aW9uIChuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkpIHtcbiAgcmV0dXJuIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJbbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5XTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7bWFuaWZlc3RJZH0gbWFuaWZlc3RJZCAtICBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7bnVtYmVyfSBpbmRleCBudW1iZXIgZnJvbSBhcnJheSBfbWFuaWZlc3RzRG93bmxvYWRPcmRlclxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX2luZGV4T2ZNYW5pZmVzdCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIHJldHVybiB0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLmluZGV4T2YobWFuaWZlc3RJZCk7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IC0gaWYgbWFuaWZlc3QgaGFzIGJlZW4gYWxyZWFkeSBhZGRlZCB0byB0aGUgcXVldWVcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9kb3dubG9hZE9yZGVyTWFuaWZlc3RFeGlzdHMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICByZXR1cm4gdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlck9ialttYW5pZmVzdElkXTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge2Jvb2xlYW59IC0gc3RhdHVzIGlmIG1hbmlmZXN0IGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBxdWV1ZVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX2Rvd25sb2FkT3JkZXJSZW1vdmVNYW5pZmVzdCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGxldCBmb3VuZCA9IGZhbHNlLCBpLCBqO1xuICBkZWxldGUgdGhpcy5fbWFuaWZlc3RzRG93bmxvYWRPcmRlck9ialttYW5pZmVzdElkXTtcbiAgZm9yIChpID0gMCwgaiA9IHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaWYgKHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXJbaV0gPT09IG1hbmlmZXN0SWQpIHtcbiAgICAgIHRoaXMuX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIuc3BsaWNlKGksIDEpO1xuICAgICAgZm91bmQgPSB0cnVlO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiBmb3VuZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGRvd25sb2FkIGZpbmlzaGVzIHdpdGggc3VjY2Vzc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIGRvd25sb2FkIGZhaWxlZFxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fZmluaXNoID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIHRoaXMuZG93bmxvYWRTdGF0cy5yZWZyZXNoKCk7XG4gIHRoaXMuX2Rvd25sb2FkT3JkZXJSZW1vdmVNYW5pZmVzdChtYW5pZmVzdElkKTtcbiAgaWYgKCF0aGlzLl9tYW5pZmVzdHNEb3dubG9hZE9yZGVyLmxlbmd0aCkge1xuICAgIHRoaXMuZG93bmxvYWRTdGF0cy5zdG9wKCk7XG4gIH1cbiAgdGhpcy5zdG9yYWdlLnJlbW92ZUl0ZW0obWFuaWZlc3RJZClcbiAgICAudGhlbihvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0gbGluayAtIGxpbmsgb2JqZWN0IHdoaWNoIGNvbnNpc3QgcmVtb3RlIGFuZCBsb2NhbCB1cmxcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIHVuaXF1ZSBoYXNoIGZvciBkb3dubG9hZCBmaWxlIGJhc2VkIG9uIGxvY2FsIGFuZCByZW1vdGUgdXJsXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9nZXREb3dubG9hZEhhc2ggPSBmdW5jdGlvbiAobGluaykge1xuICByZXR1cm4gbGluay5yZW1vdGVVcmwgKyBcIi1cIiArIGxpbmsubG9jYWxVcmw7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0Rvd25sb2FkfSBkb3dubG9hZCAtIGRvd25sb2FkIGNsYXNzIHRvIGJlIG1hcmtlZCBlaXRoZXIgd2l0aCBzdWNjZXNzIG9yIHdpdGggZXJyb3JcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX21hcmtEb3dubG9hZEl0ZW0gPSBmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IG1hbmlmZXN0SWQgPSBkb3dubG9hZC5tYW5pZmVzdElkO1xuICBjb25zdCBkb3dubG9hZEhhc2ggPSBzZWxmLl9nZXREb3dubG9hZEhhc2goZG93bmxvYWQpO1xuICBsZXQgc3luY1N0b3JhZ2VLZXlzID0gW107XG4gIGxldCBsYXN0SXRlbTtcblxuICBkb3dubG9hZC5ldmVudHMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIiwgc2VsZi5fb25Eb3dubG9hZEVuZCk7XG4gIGRvd25sb2FkLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsIHNlbGYuX29uRG93bmxvYWRFcnJvcik7XG5cbiAgLy9yZWZyZXNoaW5nIHN0YXRzIGZvciBsYXN0IHRpbWUgLSB0byBoYXZlIGNvcnJlY3Qgc3RhdHMgZm9yIHN1YnNjcmliZXJzIHByb2dyZXNzIGJlZm9yZSBpdCBpcyByZW1vdmVkXG4gIGlmIChzZWxmLnN0b3JhZ2UuZG93bmxvYWRpbmcuY291bnQobWFuaWZlc3RJZCkgPT09IDEgJiYgc2VsZi5zdG9yYWdlLmxlZnQuY291bnQobWFuaWZlc3RJZCkgPT09IDApIHtcbiAgICB0aGlzLmRvd25sb2FkU3RhdHMucmVmcmVzaCgpO1xuICAgIGxhc3RJdGVtID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChkb3dubG9hZC5zdGF0dXMgPT09IFNUQVRVU0VTLkZJTklTSEVEKSB7XG4gICAgc2VsZi5zdG9yYWdlLmRvd25sb2FkZWQucHVzaChtYW5pZmVzdElkLCBkb3dubG9hZCk7XG4gICAgc3luY1N0b3JhZ2VLZXlzLnB1c2godGhpcy5zdG9yYWdlLnN0b3Jlcy5ET1dOTE9BRFMuRE9XTkxPQURFRCk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5zdG9yYWdlLmVycm9ycy5wdXNoKG1hbmlmZXN0SWQsIGRvd25sb2FkKTtcbiAgfVxuICBzZWxmLnN0b3JhZ2UuZG93bmxvYWRpbmcucmVtb3ZlSXRlbShtYW5pZmVzdElkLCBkb3dubG9hZEhhc2gpO1xuXG4gIGlmIChzZWxmLmlzRG93bmxvYWRGaW5pc2hlZChtYW5pZmVzdElkKSkge1xuICAgIGlmIChzZWxmLnN0b3JhZ2UuZXJyb3JzLmNvdW50KG1hbmlmZXN0SWQpID09PSAwKSB7XG4gICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgU1RBVFVTRVMuRklOSVNIRUQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgU1RBVFVTRVMuRVJST1IpO1xuICAgIH1cbiAgICBzeW5jU3RvcmFnZUtleXMucHVzaCh0aGlzLnN0b3JhZ2Uuc3RvcmVzLlNUQVRVUyk7XG4gIH1cblxuICBzZWxmLnN0b3JhZ2Uuc3luYyhtYW5pZmVzdElkLCBzeW5jU3RvcmFnZUtleXMpXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgc2VsZi5zdG9yYWdlLnBhcmFtcy5kZWNyZWFzZShtYW5pZmVzdElkLCBzZWxmLl9uYW1lcy5kb3dubG9hZEluUHJvZ3Jlc3MpO1xuICAgICAgaWYgKGxhc3RJdGVtKSB7XG4gICAgICAgIHNlbGYuX2ZpbmlzaChtYW5pZmVzdElkLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5zdGFydFF1ZXVlKCk7XG4gICAgICAgICAgY29uc29sZS5pbmZvKFwiRklOSVNIRURcIiwgbWFuaWZlc3RJZCk7XG4gICAgICAgIH0sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBzZWxmLnN0YXJ0UXVldWUoKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnN0YXJ0UXVldWUoKTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRVJST1JcIiwgZXJyKTtcbiAgICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0b3AgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBvbkZhaWx1cmUgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gc3RvcCBmYWlsZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdGF0dXMgLSB0aGUgc3RhdHVzXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RhdHVzRGV0YWlscyAtIGFkZHMgZGV0YWlscyBhYm91dCBzdGF0dXMgKG9uIGVycm9ycyBmb3IgZXhhbXBsZSlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fc3RvcFdpdGhTdGF0dXMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHN0YXR1cywgc3RhdHVzRGV0YWlscykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgc2VsZi5fZG93bmxvYWRPcmRlclJlbW92ZU1hbmlmZXN0KG1hbmlmZXN0SWQpO1xuICBzZWxmLnN0b3JhZ2UuZ2V0SXRlbShtYW5pZmVzdElkKVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5BTFJFQURZX1NUT1BQRUQsIG1hbmlmZXN0SWQpKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgaXRlbXNUb1N0b3AgPSBzZWxmLnN0b3JhZ2UuZG93bmxvYWRpbmcuZ2V0S2V5cyhtYW5pZmVzdElkKTtcbiAgICAgIGxldCBpdGVtVG9TdG9wO1xuICAgICAgY29uc29sZS5pbmZvKFwiU1RPUFBJTkdcIiwgbWFuaWZlc3RJZCwgaXRlbXNUb1N0b3AubGVuZ3RoKTtcbiAgICAgIGxldCBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBpdGVtc1RvU3RvcC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgaXRlbVRvU3RvcCA9IHNlbGYuc3RvcmFnZS5kb3dubG9hZGluZy5nZXRJdGVtKG1hbmlmZXN0SWQsIGl0ZW1zVG9TdG9wW2ldKTtcbiAgICAgICAgaXRlbVRvU3RvcC5ldmVudHMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIiwgc2VsZi5fb25Eb3dubG9hZEVuZCk7XG4gICAgICAgIGl0ZW1Ub1N0b3AuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgc2VsZi5fb25Eb3dubG9hZEVycm9yKTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChpdGVtVG9TdG9wLnN0b3BQcm9taXNlKCkpO1xuICAgICAgfVxuXG4gICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgc3RhdHVzKTtcbiAgICAgIGlmIChzdGF0dXNEZXRhaWxzKSB7XG4gICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcImRldGFpbHNcIiwgc3RhdHVzRGV0YWlscyk7XG4gICAgICB9XG5cbiAgICAgIHByb21pc2VzLnB1c2goc2VsZi5zdG9yYWdlLnN5bmMobWFuaWZlc3RJZCwgW1xuICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BREVELFxuICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RvcmVzLlNUQVRVUyxcbiAgICAgIF0pKTtcbiAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgc2VsZi5fZmluaXNoKG1hbmlmZXN0SWQsIG9uU3VjY2Vzcywgb25GYWlsdXJlKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TVE9QUElOR19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuU1RPUFBJTkdfRkFJTEVELCBtYW5pZmVzdElkKSwgZXJyKTtcbiAgICB9KTtcblxufTtcbi8qKlxuICogQHBhcmFtIHtEb3dubG9hZH0gZG93bmxvYWQgLSBEb3dubG9hZCBDbGFzc1xuICogQHBhcmFtIHtvYmplY3R9IGVyciAtIGVycm9yIG9iamVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fb25Eb3dubG9hZEVycm9yID0gZnVuY3Rpb24gKGRvd25sb2FkLCBlcnIpIHtcbiAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIGRvd25sb2FkLnJlbW90ZVVybCwgZXJyKTtcbiAgdGhpcy5fbWFya0Rvd25sb2FkSXRlbShkb3dubG9hZCk7XG4gIGlmIChlcnIgPT09IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IgfHwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9wT25FcnJvcikge1xuICAgIC8vIHN0b3AgZG93bmxvYWRpbmcgPT4gY2Fubm90IHdyaXRlXG4gICAgdGhpcy5fc3RvcFdpdGhTdGF0dXMoZG93bmxvYWQubWFuaWZlc3RJZCwgKCkgPT4ge1xuICAgICAgY29uc29sZS5pbmZvKCdzdG9wcGVkJyk7XG4gICAgfSwgKGZhaWx1cmUpID0+IHtcbiAgICAgIGNvbnNvbGUuaW5mbyhmYWlsdXJlKTtcbiAgICB9LCBTVEFUVVNFUy5FUlJPUiwgZXJyKTtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtEb3dubG9hZH0gZG93bmxvYWQgLSBEb3dubG9hZCBDbGFzc1xuICogQHJldHVybnMge3ZvaWR9XG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5fb25Eb3dubG9hZEVuZCA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAvLyBjb25zb2xlLmxvZyhcIkZJTklTSEVEXCIsIGRvd25sb2FkLnJlbW90ZVVybCwgZG93bmxvYWQubG9jYWxVcmwpO1xuICB0aGlzLl9tYXJrRG93bmxvYWRJdGVtKGRvd25sb2FkKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtBcnJheX0gdmlkZW9MaW5rcyAtIHZpZGVvIGxpbmtzIHRvIGJlIGRvd25sb2FkZWRcbiAqIEBwYXJhbSB7QXJyYXl9IGF1ZGlvTGlua3MgLSBhdWRpbyBsaW5rcyB0byBiZSBkb3dubG9hZGVkXG4gKiBAcGFyYW0ge0FycmF5fSB0ZXh0TGlua3MgLSB0ZXh0IGxpbmtzIHRvIGJlIGRvd25sb2FkZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuX3ByZXBhcmVTdGFydE9wdGlvbnMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgdmlkZW9MaW5rcywgYXVkaW9MaW5rcywgdGV4dExpbmtzKSB7XG4gIGNvbnN0IGNvdW50ID0gdmlkZW9MaW5rcy5sZW5ndGggKyBhdWRpb0xpbmtzLmxlbmd0aCArIHRleHRMaW5rcy5sZW5ndGg7XG4gIGNvbnNvbGUuaW5mbyhcIkFERElORyAtPj4+IFwiLCBtYW5pZmVzdElkICsgXCIsXCIsIGNvdW50LCBcImZyYWdtZW50c1wiKTtcbiAgbGV0IG9wdGlvbnMgPSB7fTtcbiAgdGhpcy5zdG9yYWdlLnBhcmFtcy5zZXRJdGVtKG1hbmlmZXN0SWQsIHRoaXMuX25hbWVzLmRvd25sb2FkSW5Qcm9ncmVzcywgMCk7XG4gIGxldCBtYXhEb3dubG9hZEluUHJvZ3Jlc3M7XG4gIGNvbnN0IHRocmVhZFJ1bGVzID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZGluZ1RocmVhZHNSdWxlcztcblxuICBmb3IgKGxldCBpID0gMCwgaiA9IHRocmVhZFJ1bGVzLml0ZW1zLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmIChjb3VudCA8PSB0aHJlYWRSdWxlcy5pdGVtc1tpXS5tYXgpIHtcbiAgICAgIG9wdGlvbnNbdGhyZWFkUnVsZXMudGhyZWFkTmFtZV0gPSB0aHJlYWRSdWxlcy5pdGVtc1tpXS50aHJlYWRzO1xuICAgICAgbWF4RG93bmxvYWRJblByb2dyZXNzID0gdGhyZWFkUnVsZXMuaXRlbXNbaV0uZmlsZXM7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB0aGlzLnN0b3JhZ2UucGFyYW1zLnNldEl0ZW0obWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMub3B0aW9ucywgb3B0aW9ucyk7XG4gIHRoaXMuc3RvcmFnZS5wYXJhbXMuc2V0SXRlbShtYW5pZmVzdElkLCB0aGlzLl9uYW1lcy5tYXhEb3dubG9hZEluUHJvZ3Jlc3MsIG1heERvd25sb2FkSW5Qcm9ncmVzcyk7XG5cbiAgLy9kb3dubG9hZCBvcmRlciBjYW4gaGVscCB0byBzdG9wIGRvd25sb2FkIG9uZSBtYW5pZmVzdCBhbmQgZG93bmxvYWQgYW5vdGhlciBvciBkb3dubG9hZCB0aGVtIGluIHBhcmFsbGVsXG4gIHRoaXMuX2Rvd25sb2FkT3JkZXJBZGRNYW5pZmVzdChtYW5pZmVzdElkKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge2Jvb2xlYW59IC0gaWYgZG93bmxvYWQgaXMgZmluaXNoZWRcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuaXNEb3dubG9hZEZpbmlzaGVkID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuICF0aGlzLnN0b3JhZ2UubGVmdC5jb3VudChtYW5pZmVzdElkKSAmJiAhdGhpcy5zdG9yYWdlLmRvd25sb2FkaW5nLmNvdW50KG1hbmlmZXN0SWQpO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBpZiBkb3dubG9hZCBpcyBmaW5pc2hlZCBhbmQgc3luY2VkIChpbmZvIHdyaXR0ZW4gb24gZGlzaylcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuaXNEb3dubG9hZEZpbmlzaGVkQW5kU3luY2VkID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuICF0aGlzLnN0b3JhZ2UubGVmdC5jb3VudChtYW5pZmVzdElkKSAmJiAhdGhpcy5zdG9yYWdlLmRvd25sb2FkaW5nLmNvdW50KG1hbmlmZXN0SWQpICYmICF0aGlzLnN0b3JhZ2Uua2V5RXhpc3RzKG1hbmlmZXN0SWQpO1xufTtcblxuXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5nZXREb3dubG9hZGluZyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBsb2NhbEZpbGUpIHtcbiAgbGV0IGl0ZW1zID0gdGhpcy5zdG9yYWdlLmRvd25sb2FkaW5nLmdldEl0ZW1zKG1hbmlmZXN0SWQpO1xuICBpZiAoIWl0ZW1zKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cblxuICBmb3IgKHZhciBsaW5rIGluIGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW1zLmhhc093blByb3BlcnR5KGxpbmspKSB7XG4gICAgICBsZXQgZG93bmxvYWQgPSBpdGVtc1tsaW5rXTtcbiAgICAgIGxldCBkb3dubG9hZFBhdGggPSBwYXRoLm5vcm1hbGl6ZShkb3dubG9hZC5sb2NhbFVybCk7XG4gICAgICBsZXQgbG9jYWwgPSBwYXRoLm5vcm1hbGl6ZShsb2NhbEZpbGUpO1xuICAgICAgaWYgKGRvd25sb2FkUGF0aCA9PT0gbG9jYWwpIHtcbiAgICAgICAgcmV0dXJuIGRvd25sb2FkO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUud2FpdEZvckRvd25sb2FkID0gZnVuY3Rpb24gKGRvd25sb2FkLCBjYWxsYmFjaykge1xuICBsZXQgX29uRG93bmxvYWRFbmQ7XG4gIGxldCBfb25Eb3dubG9hZEVycm9yO1xuXG4gIGxldCByZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAgIGRvd25sb2FkLmV2ZW50cy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLCBfb25Eb3dubG9hZEVuZCk7XG4gICAgZG93bmxvYWQuZXZlbnRzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgX29uRG93bmxvYWRFcnJvcik7XG4gIH1cblxuICBfb25Eb3dubG9hZEVuZCA9IGZ1bmN0aW9uIChkb3dubG9hZCkge1xuICAgIHJlbW92ZUxpc3RlbmVyKGRvd25sb2FkKTtcbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgX29uRG93bmxvYWRFcnJvciA9IGZ1bmN0aW9uIChkb3dubG9hZCwgZXJyKSB7XG4gICAgcmVtb3ZlTGlzdGVuZXIoZG93bmxvYWQpO1xuICAgIGNhbGxiYWNrKGVycik7XG4gIH1cblxuICBkb3dubG9hZC5ldmVudHMub24oXCJlbmRcIiwgX29uRG93bmxvYWRFbmQpO1xuICBkb3dubG9hZC5ldmVudHMub24oXCJlcnJvclwiLCBfb25Eb3dubG9hZEVycm9yKTtcbn1cblxuLyoqXG4qIFBlcmZvcm0gYSBzZWVrIC0gdGhpcyBjaGFuZ2VzIG9yZGVyIG9mIGZyYWdtZW50IGRvd25sb2FkIGZvciBhIG1hbmlmZXN0XG4qIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxGaWxlIC0gbG9jYWwgZmlsZVxuKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIGdldCByZXN1bHRcbiogQHJldHVybnMge3ZvaWR9XG4qL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUucGVyZm9ybVNlZWsgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgbG9jYWxGaWxlLCBjYWxsYmFjaykge1xuICBsZXQgc2VsZiA9IHRoaXM7XG4gIGxldCBkb3dubG9hZDtcblxuICBkb3dubG9hZCA9IHNlbGYuZ2V0RG93bmxvYWRpbmcobWFuaWZlc3RJZCwgbG9jYWxGaWxlKTtcbiAgaWYgKGRvd25sb2FkKSB7XG4gICAgc2VsZi53YWl0Rm9yRG93bmxvYWQoZG93bmxvYWQsIGNhbGxiYWNrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBsZXQgaXRlbXMgPSBzZWxmLnN0b3JhZ2UubGVmdC5nZXRJdGVtcyhtYW5pZmVzdElkKTtcbiAgaWYgKCFpdGVtcykge1xuICAgIGNhbGxiYWNrKCdObyBkb3dubG9hZCBmb3VuZCcpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGxldCBpbmRleCA9IGl0ZW1zLmZpbmRJbmRleChmdW5jdGlvbiAoZG93bmxvYWQpIHtcbiAgICBsZXQgZG93bmxvYWRQYXRoID0gcGF0aC5ub3JtYWxpemUoZG93bmxvYWQubG9jYWxVcmwpO1xuICAgIGxldCBsb2NhbCA9IHBhdGgubm9ybWFsaXplKGxvY2FsRmlsZSk7XG4gICAgcmV0dXJuIChkb3dubG9hZFBhdGggPT09IGxvY2FsKVxuICB9KTtcbiAgaWYgKGluZGV4ID4gLTEpIHtcblxuICAgIGxldCBwYXJ0MSA9IGl0ZW1zLnNsaWNlKDAsIGluZGV4KTtcbiAgICBsZXQgcGFydDIgPSBpdGVtcy5zbGljZShpbmRleCk7XG5cbiAgICBzZWxmLnN0b3JhZ2UubGVmdC5jbGVhcihtYW5pZmVzdElkKTtcbiAgICBzZWxmLnN0b3JhZ2UubGVmdC5jb25jYXQobWFuaWZlc3RJZCwgcGFydDIpO1xuICAgIHNlbGYuc3RvcmFnZS5sZWZ0LmNvbmNhdChtYW5pZmVzdElkLCBwYXJ0MSk7XG5cbiAgICBpdGVtcyA9IHNlbGYuc3RvcmFnZS5sZWZ0LmdldEl0ZW1zKG1hbmlmZXN0SWQpO1xuICAgIHNlbGYuc3RhcnRRdWV1ZShzZWxmLl9pbmRleE9mTWFuaWZlc3QobWFuaWZlc3RJZCksIHRydWUpO1xuICAgIGRvd25sb2FkID0gc2VsZi5nZXREb3dubG9hZGluZyhtYW5pZmVzdElkLCBsb2NhbEZpbGUpO1xuICAgIGlmIChkb3dubG9hZCkge1xuICAgICAgc2VsZi53YWl0Rm9yRG93bmxvYWQoZG93bmxvYWQsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgbm90IHF1ZXVlZCwgcmV0dXJuIGFuIGVycm9yXG4gICAgICBjYWxsYmFjaygnTm8gZG93bmxvYWQgZm91bmQnKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY2FsbGJhY2soJ05vIGRvd25sb2FkIGZvdW5kJyk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IHJlcHJlc2VudGF0aW9ucyAtIG9iamVjdCBjb250YWluaW5nIHZpZGVvLCBhdWRpbyBhbmQgdGV4dCByZXByZXNlbnRhdGlvbnMgaWRzXG4gKiBAcGFyYW0ge3N0cmluZ30gZG93bmxvYWRGb2xkZXIgLSBkb3dubG9hZCBmb2xkZXIgZm9yIHZpZGVvLiBJZiB1bmRlZmluZWQsIHRoZW4gZGVmYXVsdCBkb3dubG9hZCBmb2xkZXIgaXMgdXNlZFxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGZhaWxlZFxuICogQHBhcmFtIHtib29sZWFufSBmcm9tUmVzdW1lZCAtIGlmIHN0YXJ0IGhhcyBiZWVuIGNhbGxlZCBmcm9tIHJlc3VtZSBhcGkgbWV0aG9kXG4gKiBAcGFyYW0ge3N0cmluZ30gb2xkc3RhdHVzIC0gaWYgZnJvbSByZXN1bWVkLCB0aGVuIGluZGljYXRlcyB0aGUgb2xkIHN0YXR1cyBvZiBkb3dubG9hZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIHJlcHJlc2VudGF0aW9ucywgZG93bmxvYWRGb2xkZXIsIG9uU3VjY2Vzcywgb25GYWlsdXJlLCBmcm9tUmVzdW1lZCwgb2xkc3RhdHVzKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLmRvd25sb2FkU3RhdHMuc3RhcnQoKTtcbiAgY29uc3QgbWFuaWZlc3QgPSB0aGlzLl9tYW5pZmVzdENvbnRyb2xsZXIuZ2V0TWFuaWZlc3RCeUlkKG1hbmlmZXN0SWQpO1xuXG4gIGlmICghbWFuaWZlc3QpIHtcbiAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJlcHJlc2VudGF0aW9ucyA9IHJlcHJlc2VudGF0aW9ucyB8fCB7fTtcbiAgbGV0IHZpZGVvID0gcmVwcmVzZW50YXRpb25zLnZpZGVvIHx8IFtdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkodmlkZW8pKSB7XG4gICAgdmlkZW8gPSBbdmlkZW9dO1xuICB9XG5cbiAgbGV0IGF1ZGlvID0gcmVwcmVzZW50YXRpb25zLmF1ZGlvIHx8IFtdO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoYXVkaW8pKSB7XG4gICAgYXVkaW8gPSBbYXVkaW9dO1xuICB9XG5cbiAgbGV0IHRleHQgPSByZXByZXNlbnRhdGlvbnMudGV4dCB8fCBbXTtcbiAgaWYgKCFBcnJheS5pc0FycmF5KHRleHQpKSB7XG4gICAgdGV4dCA9IFt0ZXh0XTtcbiAgfVxuXG4gIGNvbnN0IHZpZGVvUiA9IG1hbmlmZXN0LmdldFZpZGVvUmVwcmVzZW50YXRpb25zKCk7XG4gIGNvbnN0IGF1ZGlvUiA9IG1hbmlmZXN0LmdldEF1ZGlvUmVwcmVzZW50YXRpb25zKCk7XG4gIGNvbnN0IHRleHRSID0gbWFuaWZlc3QuZ2V0VGV4dFJlcHJlc2VudGF0aW9ucygpO1xuXG4gIGxldCBsb2NhbERvd25sb2FkRm9sZGVyID0gcGF0aC5yZXNvbHZlKGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzRm9sZGVyUGF0aClcbiAgaWYgKGRvd25sb2FkRm9sZGVyKSB7XG4gICAgbG9jYWxEb3dubG9hZEZvbGRlciA9IHBhdGgucmVzb2x2ZShkb3dubG9hZEZvbGRlcik7XG4gIH1cbiAgY29uc3QgbG9jYWxQYXRoID0gcGF0aC5yZXNvbHZlKGxvY2FsRG93bmxvYWRGb2xkZXIgKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIik7XG4gIGNvbnN0IG1hbmlmZXN0VXJsID0gbWFuaWZlc3QuZ2V0TWFuaWZlc3RVcmwoKTtcbiAgY29uc3QgbWFuaWZlc3ROYW1lID0gbWFuaWZlc3QuZ2V0TWFuaWZlc3ROYW1lKCk7XG5cbiAgZnVuY3Rpb24gZ2V0TWFuaWZlc3RCYXNlVXJsICh4bWwsIG1hbmlmZXN0VXJsRG9tYWluKSB7XG4gICAgbGV0IG1hbmlmZXN0QmFzZVVybDtcbiAgICBjb25zdCBNUEQgPSB4bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJNUERcIilbMF07XG4gICAgaWYgKE1QRCkge1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBNUEQuY2hpbGROb2Rlcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgaWYgKE1QRC5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09PSBcIkJhc2VVUkxcIikge1xuICAgICAgICAgIG1hbmlmZXN0QmFzZVVybCA9IE1QRC5jaGlsZE5vZGVzW2ldLnRleHRDb250ZW50O1xuICAgICAgICAgIGlmICghbWFuaWZlc3RCYXNlVXJsLm1hdGNoKGNvbnN0YW50cy5yZWdleHBQcm90b2NvbFJlbW92ZSkpIHtcbiAgICAgICAgICAgIG1hbmlmZXN0QmFzZVVybCA9IHV0aWxVcmwuam9pblBhdGgobWFuaWZlc3RVcmxEb21haW4sIG1hbmlmZXN0QmFzZVVybCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbWFuaWZlc3RCYXNlVXJsKSB7XG4gICAgICBtYW5pZmVzdEJhc2VVcmwgPSBtYW5pZmVzdFVybERvbWFpbjtcbiAgICB9XG4gICAgcmV0dXJuIG1hbmlmZXN0QmFzZVVybDtcbiAgfVxuXG4gIFByb21pc2UuYWxsKFtcbiAgICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm9Qcm9taXNlKG1hbmlmZXN0SWQsIHRydWUpLFxuICAgIHRoaXMuc3RvcmFnZS5nZXRJdGVtKG1hbmlmZXN0SWQpLFxuICAgIG1rZGlycChsb2NhbFBhdGgpLFxuICBdKVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICBjb25zdCBpbmZvID0gcmVzdWx0c1swXTtcbiAgICAgIGNvbnN0IHN0b3JhZ2VJdGVtID0gcmVzdWx0c1sxXTtcbiAgICAgIGlmIChzdG9yYWdlSXRlbSAmJiAhc2VsZi5pc0Rvd25sb2FkRmluaXNoZWQobWFuaWZlc3RJZCkpIHtcbiAgICAgICAgaWYgKGZyb21SZXN1bWVkKSB7XG4gICAgICAgICAgb25GYWlsdXJlKHRyYW5zbGF0aW9uLmdldEVycm9yKHRyYW5zbGF0aW9uLmUuZG93bmxvYWRzLkFMUkVBRFlfUkVTVU1FRCwgbWFuaWZlc3RJZCkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5BTFJFQURZX1NUQVJURUQsIG1hbmlmZXN0SWQpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vY29sbGVjdCBMaW5rcyAtIHN0YXJ0XG4gICAgICBpZiAoaW5mby5tYW5pZmVzdC52aWRlbykge1xuICAgICAgICB2aWRlbyA9IF8udW5pb24odmlkZW8sIGluZm8ubWFuaWZlc3QudmlkZW8pO1xuICAgICAgfVxuICAgICAgaWYgKGluZm8ubWFuaWZlc3QuYXVkaW8pIHtcbiAgICAgICAgYXVkaW8gPSBfLnVuaW9uKGF1ZGlvLCBpbmZvLm1hbmlmZXN0LmF1ZGlvKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbmZvLm1hbmlmZXN0LnRleHQpIHtcbiAgICAgICAgdGV4dCA9IF8udW5pb24odGV4dCwgaW5mby5tYW5pZmVzdC50ZXh0KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRvd25sb2FkZWQgPSBpbmZvLmRvd25sb2FkZWRGaWxlcyB8fCBbXTtcbiAgICAgIGxldCBkb3dubG9hZGVkSGFzaCA9IHt9O1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBkb3dubG9hZGVkLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBkb3dubG9hZGVkSGFzaFtkb3dubG9hZGVkW2ldLmxvY2FsVXJsXSA9IGRvd25sb2FkZWRbaV07XG4gICAgICB9XG5cbiAgICAgIGxldCByZW1vdGVQYXRoID0gZ2V0TWFuaWZlc3RCYXNlVXJsKG1hbmlmZXN0Lm1hbmlmZXN0WE1MLnhtbCwgbWFuaWZlc3QudXJsX2RvbWFpbik7XG4gICAgICBjb25zdCB2aWRlb0xpbmtzID0gZG93bmxvYWRVdGlsLmdldERvd25sb2FkTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB2aWRlbywgdmlkZW9SLCBkb3dubG9hZGVkSGFzaCk7XG4gICAgICBjb25zdCBhdWRpb0xpbmtzID0gZG93bmxvYWRVdGlsLmdldERvd25sb2FkTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCBhdWRpbywgYXVkaW9SLCBkb3dubG9hZGVkSGFzaCk7XG4gICAgICBjb25zdCB0ZXh0TGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0RG93bmxvYWRMaW5rcyhtYW5pZmVzdElkLCBsb2NhbFBhdGgsIHJlbW90ZVBhdGgsIHRleHQsIHRleHRSLCBkb3dubG9hZGVkSGFzaCk7XG5cbiAgICAgIGNvbnN0IGFsbHZpZGVvTGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0QWxsTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCB2aWRlbywgdmlkZW9SKTtcbiAgICAgIGNvbnN0IGFsbGF1ZGlvTGlua3MgPSBkb3dubG9hZFV0aWwuZ2V0QWxsTGlua3MobWFuaWZlc3RJZCwgbG9jYWxQYXRoLCByZW1vdGVQYXRoLCBhdWRpbywgYXVkaW9SKTtcbiAgICAgIGNvbnN0IGFsbHRleHRMaW5rcyA9IGRvd25sb2FkVXRpbC5nZXRBbGxMaW5rcyhtYW5pZmVzdElkLCBsb2NhbFBhdGgsIHJlbW90ZVBhdGgsIHRleHQsIHRleHRSKTtcbiAgICAgIGNvbnN0IGFsbEZpbGVzID0gYWxsdmlkZW9MaW5rcy5jb25jYXQoYWxsYXVkaW9MaW5rcywgYWxsdGV4dExpbmtzKTtcblxuICAgICAgLy9jb2xsZWN0IExpbmtzIC0gZW5kXG5cbiAgICAgIHNlbGYuc3RvcmFnZS5jcmVhdGVJZk5vdEV4aXN0cyhtYW5pZmVzdElkKVxuICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgICBzZWxmLnN0b3JhZ2UubWFuaWZlc3Quc2V0SXRlbShtYW5pZmVzdElkLCBcInRzXCIsIG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcbiAgICAgICAgICBzZWxmLnN0b3JhZ2UubWFuaWZlc3Quc2V0SXRlbShtYW5pZmVzdElkLCBcInVybFwiLCBtYW5pZmVzdFVybCk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJuYW1lXCIsIG1hbmlmZXN0TmFtZSk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJ2aWRlb1wiLCB2aWRlbyk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJhdWRpb1wiLCBhdWRpbyk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLm1hbmlmZXN0LnNldEl0ZW0obWFuaWZlc3RJZCwgXCJ0ZXh0XCIsIHRleHQpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5tYW5pZmVzdC5zZXRJdGVtKG1hbmlmZXN0SWQsIFwiZmlsZXNcIiwgYWxsRmlsZXMpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5tYW5pZmVzdC5zZXRJdGVtKG1hbmlmZXN0SWQsIFwiZm9sZGVyXCIsIGxvY2FsRG93bmxvYWRGb2xkZXIpO1xuXG4gICAgICAgICAgc2VsZi5zdG9yYWdlLmRvd25sb2FkZWQuY2xlYXIobWFuaWZlc3RJZCk7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLmRvd25sb2FkZWQuY29uY2F0KG1hbmlmZXN0SWQsIGRvd25sb2FkZWQpO1xuICAgICAgICAgIHNlbGYuc3RvcmFnZS5lcnJvcnMuY2xlYXIobWFuaWZlc3RJZCk7XG5cbiAgICAgICAgICBpZiAoIWZyb21SZXN1bWVkKSB7XG4gICAgICAgICAgICAvLyBkbyBub3QgaW5pdGlhbGlzZSBzdGF0ZSBvZiBtYW5pZmVzdCBpcyBzdGFydCBpcyBmcm9tIHJlc3VtZVxuICAgICAgICAgICAgLy8gc3RhdGUgbXVzdCBzdGF5IHRoZSBsYXN0IG9uZVxuICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIFwic3RhdHVzXCIsIFNUQVRVU0VTLkNSRUFURUQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBpbml0IHN0YXR1cyB3aXRoIGxhc3Qgc3RhdHVzXG4gICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgb2xkc3RhdHVzKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3luYyhtYW5pZmVzdElkLCBbXG4gICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuTUFOSUZFU1QsXG4gICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTXG4gICAgICAgICAgICBdKSxcbiAgICAgICAgICAgIHNlbGYuX21hbmlmZXN0Q29udHJvbGxlci5zYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5KG1hbmlmZXN0SWQpLFxuICAgICAgICAgICAgc2VsZi5fbWFuaWZlc3RDb250cm9sbGVyLnNhdmVNYW5pZmVzdFdpdGhDaG9zZW5SZXByZXNlbnRhdGlvbnMobWFuaWZlc3RJZCwge1xuICAgICAgICAgICAgICB2aWRlbzogdmlkZW8sXG4gICAgICAgICAgICAgIGF1ZGlvOiBhdWRpbyxcbiAgICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGxvY2FsUGF0aClcbiAgICAgICAgICBdKVxuICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBzZWxmLl9hZGREb3dubG9hZHMobWFuaWZlc3RJZCwgdmlkZW9MaW5rcywgYXVkaW9MaW5rcywgdGV4dExpbmtzKTtcbiAgICAgICAgICAgICAgaWYgKHNlbGYuX2luZGV4T2ZNYW5pZmVzdChtYW5pZmVzdElkKSA+IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkubnVtYmVyT2ZNYW5pZmVzdHNJblBhcmFsbGVsIC0gMSkge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5RVUVVRUQpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5TVEFSVEVEKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJsZWZ0XCIsIHNlbGYuc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpKTtcbiAgICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN5bmMobWFuaWZlc3RJZCwgW1xuICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdG9yZXMuRE9XTkxPQURTLkRPV05MT0FERUQsXG4gICAgICAgICAgICAgICAgc2VsZi5zdG9yYWdlLnN0b3Jlcy5TVEFUVVNcbiAgICAgICAgICAgICAgXSlcbiAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICBzZWxmLmRvd25sb2FkU3RhdHMucmVmcmVzaCgpO1xuICAgICAgICAgICAgICAgICAgaWYgKHNlbGYuaXNEb3dubG9hZEZpbmlzaGVkKG1hbmlmZXN0SWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5GSU5JU0hFRCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3RvcmFnZS5zeW5jKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTKVxuICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuX2ZpbmlzaChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSk7XG4gICAgICAgICAgICAgICAgICAgICAgfSwgb25GYWlsdXJlKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuZG93bmxvYWRTdGF0cy5zdGFydCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnN0YXJ0UXVldWUoKTtcbiAgICAgICAgICAgICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgb25GYWlsdXJlKTtcbiAgICAgICAgICAgIH0sIG9uRmFpbHVyZSk7XG4gICAgICAgIH0sIG9uRmFpbHVyZSk7XG4gICAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXByZXNlbnRhdGlvbnMgLSBvYmplY3QgY29udGFpbmluZyB2aWRlbywgYXVkaW8gYW5kIHRleHQgcmVwcmVzZW50YXRpb25zIGlkc1xuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnJlc3VtZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIG9uU3VjY2Vzcywgb25GYWlsdXJlKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLl9vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5SRVNVTUlOR19GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgZm9sZGVyID0gaW5mby5tYW5pZmVzdC5mb2xkZXI7XG4gICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAvLyB1c2UgZGVmYXVsdCBkb3dubG9hZCBmb2xkZXIgcGF0aFxuICAgICAgICBmb2xkZXIgPSBwYXRoLnJlc29sdmUoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZHNGb2xkZXJQYXRoKVxuICAgICAgfVxuICAgICAgc2VsZi5zdGFydChtYW5pZmVzdElkLCByZXByZXNlbnRhdGlvbnMsIGZvbGRlciwgb25TdWNjZXNzLCBvbkZhaWx1cmUsIHRydWUsIGluZm8uc3RhdHVzKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLyoqXG4gKiBVcGRhdGUgZG93bmxvYWQgZm9sZGVyIHBhdGhcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IGRvd25sb2FkRm9sZGVyIC0gbmV3IGRvd25sb2FkIGZvbGRlclxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25TdWNjZXNzIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0YXJ0IGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnVwZGF0ZURvd25sb2FkRm9sZGVyID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGRvd25sb2FkRm9sZGVyLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBQcm9taXNlLmFsbChbXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLk1BTklGRVNUKSxcbiAgXSlcbiAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgY29uc3QgbWFuaWZlc3RTZXR0aW5ncyA9IHJlc3VsdHNbMF1cbiAgICAgIGlmICghbWFuaWZlc3RTZXR0aW5ncykge1xuICAgICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgbWFuaWZlc3RTZXR0aW5ncy5mb2xkZXIgPSBkb3dubG9hZEZvbGRlclxuICAgICAgY29uc3QgZmx1c2hJdGVtID0gbmV3IEZsdXNoSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5NQU5JRkVTVCwgbWFuaWZlc3RTZXR0aW5ncyk7XG4gICAgICBmbHVzaEl0ZW0uc2F2ZSgpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIG9uRmFpbHVyZSh0cmFuc2xhdGlvbi5nZXRFcnJvcih0cmFuc2xhdGlvbi5lLmRvd25sb2Fkcy5TQVZJTkdfREFUQV9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkZhaWx1cmUodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5kb3dubG9hZHMuVVBEQVRFX0RPV05MT0FEX0ZPTERFUl9GQUlMRUQsIG1hbmlmZXN0SWQpLCBlcnIpO1xuICAgIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzdG9wIGhhcyBiZWVuIHN1Y2Nlc3NmdWxseVxuICogQHBhcmFtIHtmdW5jdGlvbn0gb25GYWlsdXJlIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIHN0b3AgZmFpbGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICB0aGlzLl9zdG9wV2l0aFN0YXR1cyhtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSwgU1RBVFVTRVMuU1RPUFBFRClcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtib29sZWFufSBpZ25vcmVTdG9wcGVkIC0gZG9uJ3QgZmFpbCBpZiBkb3dubG9hZCBoYXMgYmVlbiBhbHJlYWR5IHN0b3BwZWRcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuRG93bmxvYWRzQ29udHJvbGxlci5wcm90b3R5cGUuc3RvcFByb21pc2UgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgaWdub3JlU3RvcHBlZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLnN0b3AobWFuaWZlc3RJZCwgcmVzb2x2ZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpZiAoaWdub3JlU3RvcHBlZCAmJiBlcnIuY29kZSA9PT0gQ09ERVMuRVJST1JTLlNUT1BQRUQpIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZSgpXG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZVByb21pc2UgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLnN0b3BQcm9taXNlKG1hbmlmZXN0SWQpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuc3RvcmFnZS5yZW1vdmVJdGVtKG1hbmlmZXN0SWQpXG4gICAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgLy9hbHJlYWR5IHN0b3BwZWQsIGNvbnRpbnVlXG4gICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09IENPREVTLkVSUk9SUy5TVE9QUEVEKSB7XG4gICAgICAgICAgc2VsZi5zdG9yYWdlLnJlbW92ZUl0ZW0obWFuaWZlc3RJZClcbiAgICAgICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IGxpbmsgLSBvYmplY3QgbGluayB0byBiZSBkb3dubG9hZGVkXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc0NvbnRyb2xsZXIucHJvdG90eXBlLl9hZGRMaW5rVG9Eb3dubG9hZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBsaW5rKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBwYXJhbXMgPSBPYmplY3QuYXNzaWduKHt9LCBsaW5rKTtcbiAgY29uc3QgZG93bmxvYWQgPSBuZXcgRG93bmxvYWQocGFyYW1zLCBzZWxmLnN0b3JhZ2UucGFyYW1zLmdldEl0ZW0obWFuaWZlc3RJZCwgc2VsZi5fbmFtZXMub3B0aW9ucykpO1xuICBjb25zdCBkb3dubG9hZEhhc2ggPSBzZWxmLl9nZXREb3dubG9hZEhhc2gobGluayk7XG4gIHNlbGYuc3RvcmFnZS5kb3dubG9hZGluZy5zZXRJdGVtKG1hbmlmZXN0SWQsIGRvd25sb2FkSGFzaCwgZG93bmxvYWQpO1xuICBzZWxmLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJsZWZ0XCIsIHNlbGYuc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpICsgc2VsZi5zdG9yYWdlLmVycm9ycy5jb3VudChtYW5pZmVzdElkKSk7XG4gIHNlbGYuc3RvcmFnZS5zeW5jKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmFnZS5zdG9yZXMuU1RBVFVTKTtcbiAgZG93bmxvYWQuZXZlbnRzLm9uKFwiZW5kXCIsIHNlbGYuX29uRG93bmxvYWRFbmQpO1xuICBkb3dubG9hZC5ldmVudHMub24oXCJlcnJvclwiLCBzZWxmLl9vbkRvd25sb2FkRXJyb3IpO1xuICBkb3dubG9hZC5zdGFydCgpO1xuXG4gIHJldHVybiBkb3dubG9hZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7bnVtYmVyfSBbbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5XSAtIGluZGV4IGZyb20gYXJyYXkgdG8gZGVjaWRlIHdoaWNoIG1hbmlmZXN0IHNob3VsZCBiZSBkb3dubG9hZGVkIG5leHRcbiAqICAgKHF1ZXVlKVxuICogQHBhcmFtIHtib29sZWFufSBmb3JjZURvd25sb2FkIHRydWUgdG8gZm9yY2UgbmV4dCBkb3dubG9hZCB0byBiZSBxdWV1ZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNDb250cm9sbGVyLnByb3RvdHlwZS5zdGFydFF1ZXVlID0gZnVuY3Rpb24gKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSwgZm9yY2VEb3dubG9hZCkge1xuICBsZXQgY291bnQsIGRvd25sb2Fkc0luUHJvZ3Jlc3MsIGxpbmssIG1hbmlmZXN0SWQsIG1heERvd25sb2FkcztcbiAgaWYgKHR5cGVvZiBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkgPSAwO1xuICB9XG5cbiAgbWFuaWZlc3RJZCA9IHRoaXMuX2Rvd25sb2FkT3JkZXJHZXRNYW5pZmVzdElkKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSk7XG4gIGlmIChtYW5pZmVzdElkICYmIHRoaXMuaXNEb3dubG9hZEZpbmlzaGVkKG1hbmlmZXN0SWQpKSB7XG4gICAgLy8gdGhlIG1hbmlmZXN0IGlkIHdpbGwgYmUgcmVtb3ZlZCBmcm9tIHF1ZXVlLCB3YWl0IG5leHQgdGltZS4gVGh1cywgZG8gbm90IGNoYW5nZSBzdGF0dXNcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSA+PSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCkge1xuICAgIGlmIChtYW5pZmVzdElkKSB7XG4gICAgICB0aGlzLnN0b3JhZ2Uuc3RhdHVzLnNldEl0ZW0obWFuaWZlc3RJZCwgXCJzdGF0dXNcIiwgU1RBVFVTRVMuUVVFVUVEKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9IGVsc2Uge1xuICAgIHRoaXMuc3RvcmFnZS5zdGF0dXMuc2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiLCBTVEFUVVNFUy5TVEFSVEVEKTtcbiAgfVxuXG4gIGlmICghbWFuaWZlc3RJZCkge1xuICAgIGNvdW50ID0gMDtcbiAgICBsZXQgaSwgaiwgaXRlbXM7XG4gICAgaXRlbXMgPSB0aGlzLnN0b3JhZ2UuZ2V0S2V5cygpO1xuICAgIGZvciAoaSA9IDAsIGogPSBpdGVtcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGNvdW50ICs9IHRoaXMuc3RvcmFnZS5wYXJhbXMuY291bnQoaXRlbXNbaV0sIHRoaXMuX25hbWVzLmRvd25sb2FkSW5Qcm9ncmVzcyk7XG4gICAgfVxuICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgdGhpcy5kb3dubG9hZFN0YXRzLnN0b3AoKTtcbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG4gIGRvd25sb2Fkc0luUHJvZ3Jlc3MgPSB0aGlzLnN0b3JhZ2UucGFyYW1zLmdldEl0ZW0obWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMuZG93bmxvYWRJblByb2dyZXNzKTtcbiAgbWF4RG93bmxvYWRzID0gdGhpcy5zdG9yYWdlLnBhcmFtcy5nZXRJdGVtKG1hbmlmZXN0SWQsIHRoaXMuX25hbWVzLm1heERvd25sb2FkSW5Qcm9ncmVzcyk7XG4gIGlmICgoZG93bmxvYWRzSW5Qcm9ncmVzcyA8IG1heERvd25sb2FkcyAtIDEpIHx8IGZvcmNlRG93bmxvYWQpIHtcbiAgICBsaW5rID0gdGhpcy5zdG9yYWdlLmxlZnQuc2hpZnQobWFuaWZlc3RJZCk7XG4gICAgaWYgKGxpbmspIHtcbiAgICAgIHRoaXMuc3RvcmFnZS5wYXJhbXMuaW5jcmVhc2UobWFuaWZlc3RJZCwgdGhpcy5fbmFtZXMuZG93bmxvYWRJblByb2dyZXNzKTtcbiAgICAgIHRoaXMuX2FkZExpbmtUb0Rvd25sb2FkKG1hbmlmZXN0SWQsIGxpbmspO1xuICAgIH0gZWxzZSB7XG4gICAgICAvL2NoZWNrIG5leHQgbWFuaWZlc3RcbiAgICAgIG5leHRNYW5pZmVzdFBvc2l0aW9uSW5BcnJheSsrO1xuICAgIH1cbiAgICB0aGlzLnN0YXJ0UXVldWUobmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5KTtcbiAgfSBlbHNlIGlmIChhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCA+IDEgJiYgbmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5IDwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5udW1iZXJPZk1hbmlmZXN0c0luUGFyYWxsZWwpIHtcbiAgICBuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkrKztcbiAgICB0aGlzLnN0YXJ0UXVldWUobmV4dE1hbmlmZXN0UG9zaXRpb25JbkFycmF5KTtcbiAgfVxufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZHNDb250cm9sbGVyO1xuIl0sIm5hbWVzIjpbIl8iLCJyZXF1aXJlIiwibWtkaXJwIiwiYXBwU2V0dGluZ3MiLCJ0cmFuc2xhdGlvbiIsIkRvd25sb2FkIiwiRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIiLCJkb3dubG9hZFV0aWwiLCJEb3dubG9hZFN0YXRzIiwiU1RBVFVTRVMiLCJDT0RFUyIsImNvbnN0YW50cyIsInV0aWxVcmwiLCJwYXRoIiwiUmVhZEl0ZW0iLCJGbHVzaEl0ZW0iLCJkb3dubG9hZEZpbGVVdGlsIiwiRG93bmxvYWRzQ29udHJvbGxlciIsIm1hbmlmZXN0Q29udHJvbGxlciIsIm9mZmxpbmVDb250cm9sbGVyIiwiX21hbmlmZXN0c0Rvd25sb2FkT3JkZXIiLCJfbWFuaWZlc3RzRG93bmxvYWRPcmRlck9iaiIsIl9tYW5pZmVzdENvbnRyb2xsZXIiLCJfb2ZmbGluZUNvbnRyb2xsZXIiLCJzdG9yYWdlIiwic2V0RG93bmxvYWRTdG9yYWdlIiwiX25hbWVzIiwiZG93bmxvYWRJblByb2dyZXNzIiwib3B0aW9ucyIsIm1heERvd25sb2FkSW5Qcm9ncmVzcyIsIl9TVEFUU19USU1FX0dFTkVSQVRJT04iLCJkb3dubG9hZFN0YXRzIiwiYmluZEFsbCIsInByb3RvdHlwZSIsIl9hZGREb3dubG9hZHMiLCJtYW5pZmVzdElkIiwidmlkZW9MaW5rcyIsImF1ZGlvTGlua3MiLCJ0ZXh0TGlua3MiLCJ3b3JraW5nIiwiX3ByZXBhcmVTdGFydE9wdGlvbnMiLCJyYXRpb0F1ZGlvVmlkZW8iLCJsZW5ndGgiLCJNYXRoIiwicm91bmQiLCJyYXRpb1RleHRWaWRlbyIsIl9hZGROZXh0SXRlbVRvUXVldWUiLCJsaW5rcyIsIm5iSXRlbXMiLCJsaW5rIiwic2hpZnQiLCJsZWZ0IiwicHVzaCIsIl9kb3dubG9hZE9yZGVyQWRkTWFuaWZlc3QiLCJhc0ZpcnN0IiwiX2Rvd25sb2FkT3JkZXJNYW5pZmVzdEV4aXN0cyIsInVuc2hpZnQiLCJfZG93bmxvYWRPcmRlckdldE1hbmlmZXN0SWQiLCJuZXh0TWFuaWZlc3RQb3NpdGlvbkluQXJyYXkiLCJfaW5kZXhPZk1hbmlmZXN0IiwiaW5kZXhPZiIsIl9kb3dubG9hZE9yZGVyUmVtb3ZlTWFuaWZlc3QiLCJmb3VuZCIsImkiLCJqIiwic3BsaWNlIiwiX2ZpbmlzaCIsIm9uU3VjY2VzcyIsIm9uRmFpbHVyZSIsInJlZnJlc2giLCJzdG9wIiwicmVtb3ZlSXRlbSIsInRoZW4iLCJfZ2V0RG93bmxvYWRIYXNoIiwicmVtb3RlVXJsIiwibG9jYWxVcmwiLCJfbWFya0Rvd25sb2FkSXRlbSIsImRvd25sb2FkIiwic2VsZiIsImRvd25sb2FkSGFzaCIsInN5bmNTdG9yYWdlS2V5cyIsImxhc3RJdGVtIiwiZXZlbnRzIiwicmVtb3ZlTGlzdGVuZXIiLCJfb25Eb3dubG9hZEVuZCIsIl9vbkRvd25sb2FkRXJyb3IiLCJkb3dubG9hZGluZyIsImNvdW50Iiwic3RhdHVzIiwiRklOSVNIRUQiLCJkb3dubG9hZGVkIiwic3RvcmVzIiwiRE9XTkxPQURTIiwiRE9XTkxPQURFRCIsImVycm9ycyIsImlzRG93bmxvYWRGaW5pc2hlZCIsInNldEl0ZW0iLCJFUlJPUiIsIlNUQVRVUyIsInN5bmMiLCJwYXJhbXMiLCJkZWNyZWFzZSIsInN0YXJ0UXVldWUiLCJjb25zb2xlIiwiaW5mbyIsImVyciIsImVycm9yIiwiX3N0b3BXaXRoU3RhdHVzIiwic3RhdHVzRGV0YWlscyIsImdldEl0ZW0iLCJyZXN1bHQiLCJnZXRFcnJvciIsImUiLCJkb3dubG9hZHMiLCJBTFJFQURZX1NUT1BQRUQiLCJpdGVtc1RvU3RvcCIsImdldEtleXMiLCJpdGVtVG9TdG9wIiwicHJvbWlzZXMiLCJzdG9wUHJvbWlzZSIsIlByb21pc2UiLCJhbGwiLCJTVE9QUElOR19GQUlMRUQiLCJOT19TUEFDRV9MRUZUX0VSUk9SIiwiZ2V0U2V0dGluZ3MiLCJzdG9wT25FcnJvciIsImZhaWx1cmUiLCJ0aHJlYWRSdWxlcyIsImRvd25sb2FkaW5nVGhyZWFkc1J1bGVzIiwiaXRlbXMiLCJtYXgiLCJ0aHJlYWROYW1lIiwidGhyZWFkcyIsImZpbGVzIiwiaXNEb3dubG9hZEZpbmlzaGVkQW5kU3luY2VkIiwia2V5RXhpc3RzIiwiZ2V0RG93bmxvYWRpbmciLCJsb2NhbEZpbGUiLCJnZXRJdGVtcyIsImhhc093blByb3BlcnR5IiwiZG93bmxvYWRQYXRoIiwibm9ybWFsaXplIiwibG9jYWwiLCJ3YWl0Rm9yRG93bmxvYWQiLCJjYWxsYmFjayIsIm9uIiwicGVyZm9ybVNlZWsiLCJpbmRleCIsImZpbmRJbmRleCIsInBhcnQxIiwic2xpY2UiLCJwYXJ0MiIsImNsZWFyIiwiY29uY2F0Iiwic3RhcnQiLCJyZXByZXNlbnRhdGlvbnMiLCJkb3dubG9hZEZvbGRlciIsImZyb21SZXN1bWVkIiwib2xkc3RhdHVzIiwibWFuaWZlc3QiLCJnZXRNYW5pZmVzdEJ5SWQiLCJtYW5pZmVzdHMiLCJOT1RfRk9VTkQiLCJ2aWRlbyIsIkFycmF5IiwiaXNBcnJheSIsImF1ZGlvIiwidGV4dCIsInZpZGVvUiIsImdldFZpZGVvUmVwcmVzZW50YXRpb25zIiwiYXVkaW9SIiwiZ2V0QXVkaW9SZXByZXNlbnRhdGlvbnMiLCJ0ZXh0UiIsImdldFRleHRSZXByZXNlbnRhdGlvbnMiLCJsb2NhbERvd25sb2FkRm9sZGVyIiwicmVzb2x2ZSIsImRvd25sb2Fkc0ZvbGRlclBhdGgiLCJsb2NhbFBhdGgiLCJtYW5pZmVzdFVybCIsImdldE1hbmlmZXN0VXJsIiwibWFuaWZlc3ROYW1lIiwiZ2V0TWFuaWZlc3ROYW1lIiwiZ2V0TWFuaWZlc3RCYXNlVXJsIiwieG1sIiwibWFuaWZlc3RVcmxEb21haW4iLCJtYW5pZmVzdEJhc2VVcmwiLCJNUEQiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNoaWxkTm9kZXMiLCJub2RlTmFtZSIsInRleHRDb250ZW50IiwibWF0Y2giLCJyZWdleHBQcm90b2NvbFJlbW92ZSIsImpvaW5QYXRoIiwiZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZSIsInJlc3VsdHMiLCJzdG9yYWdlSXRlbSIsIkFMUkVBRFlfUkVTVU1FRCIsIkFMUkVBRFlfU1RBUlRFRCIsInVuaW9uIiwiZG93bmxvYWRlZEZpbGVzIiwiZG93bmxvYWRlZEhhc2giLCJyZW1vdGVQYXRoIiwibWFuaWZlc3RYTUwiLCJ1cmxfZG9tYWluIiwiZ2V0RG93bmxvYWRMaW5rcyIsImFsbHZpZGVvTGlua3MiLCJnZXRBbGxMaW5rcyIsImFsbGF1ZGlvTGlua3MiLCJhbGx0ZXh0TGlua3MiLCJhbGxGaWxlcyIsImNyZWF0ZUlmTm90RXhpc3RzIiwiRGF0ZSIsImdldFRpbWUiLCJDUkVBVEVEIiwiTUFOSUZFU1QiLCJzYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5Iiwic2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyIsIm51bWJlck9mTWFuaWZlc3RzSW5QYXJhbGxlbCIsIlFVRVVFRCIsIlNUQVJURUQiLCJyZXN1bWUiLCJnZXRNYW5pZmVzdEluZm8iLCJSRVNVTUlOR19GQUlMRUQiLCJmb2xkZXIiLCJ1cGRhdGVEb3dubG9hZEZvbGRlciIsIm1hbmlmZXN0U2V0dGluZ3MiLCJmbHVzaEl0ZW0iLCJzYXZlIiwiU0FWSU5HX0RBVEFfRkFJTEVEIiwiVVBEQVRFX0RPV05MT0FEX0ZPTERFUl9GQUlMRUQiLCJTVE9QUEVEIiwiaWdub3JlU3RvcHBlZCIsInJlamVjdCIsImNvZGUiLCJFUlJPUlMiLCJyZW1vdmVQcm9taXNlIiwiX2FkZExpbmtUb0Rvd25sb2FkIiwiT2JqZWN0IiwiYXNzaWduIiwiZm9yY2VEb3dubG9hZCIsImRvd25sb2Fkc0luUHJvZ3Jlc3MiLCJtYXhEb3dubG9hZHMiLCJpbmNyZWFzZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4612\n')},2381:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\nvar appSettings = __webpack_require__(9277);\nvar ArrayStorage = __webpack_require__(9567);\nvar ArrayStorageBridge = __webpack_require__(8048);\nvar FlushItem = __webpack_require__(1789);\nvar Storage = __webpack_require__(1396);\nvar StorageBridge = __webpack_require__(3890);\nvar SyncItem = __webpack_require__(6716);\n\n/**\n *\n * @constructor\n */\nfunction DownloadsStorageController() {\n  this.stores = appSettings.getSettings().stores;\n  this._items = {};\n  this._syncItems = [];\n  this._FLUSH_TIME = 50; //in miliseconds\n  this._flushThrottled = _.throttle(this._flush, this._FLUSH_TIME, {\n    leading: false\n  });\n  this._createDummyStorageBridge();\n}\n\n/**\n *\n * @private\n * @param {string} manifestId - manifest identifier\n * @param {string} key - key identifier\n * @returns {void}\n */\nDownloadsStorageController.prototype._createArrayStorage = function (manifestId, key) {\n  if (!this[key]) {\n    this._createArrayStorageBridge(key);\n  }\n  this._items[manifestId][key] = new ArrayStorage();\n};\n\n/**\n *\n * @private\n * @param {string} key - key identifier\n * @returns {void}\n */\nDownloadsStorageController.prototype._createArrayStorageBridge = function (key) {\n  this[key] = new ArrayStorageBridge(this, key);\n};\nDownloadsStorageController.prototype._createDummyStorageBridge = function () {\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.LEFT);\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.DOWNLOADED);\n  this._createStorageBridge(this.stores.DOWNLOADS.DOWNLOADING);\n  this._createArrayStorageBridge(this.stores.DOWNLOADS.ERRORS);\n  this._createStorageBridge(this.stores.PARAMS);\n  this._createStorageBridge(this.stores.MANIFEST);\n  this._createStorageBridge(this.stores.STATUS);\n};\n\n/**\n *\n * @private\n * @param {string} manifestId - manifest identifier\n * @param {string} key - key identifier\n * @returns {void}\n */\nDownloadsStorageController.prototype._createStorage = function (manifestId, key) {\n  if (!this[key]) {\n    this._createStorageBridge(key);\n  }\n  this._items[manifestId][key] = new Storage();\n};\n\n/**\n *\n * @private\n * @param {string} key - key identifier\n * @returns {void}\n */\nDownloadsStorageController.prototype._createStorageBridge = function (key) {\n  this[key] = new StorageBridge(this, key);\n};\n\n/**\n *\n * @private\n * @returns {void}\n */\nDownloadsStorageController.prototype._flush = function () {\n  var self = this;\n  var items = this._syncItems.splice(0, this._syncItems.length);\n  var flushItem, flushItems, i, item, j, k, l, manifestId, storageKey, storageKeys, storagesToFlush;\n  storagesToFlush = {};\n  function getItems(manifestId, storageKey) {\n    if (self._items[manifestId] && self._items[manifestId][storageKey]) {\n      return self._items[manifestId][storageKey].getItems();\n    } else {\n      return [];\n    }\n  }\n\n  //collect information which storages needs to be saved\n  for (i = 0, j = items.length; i < j; i++) {\n    item = items[i];\n    storagesToFlush[item.manifestId] = storagesToFlush[item.manifestId] || {};\n    for (k = 0, l = item.storageKeys.length; k < l; k++) {\n      storagesToFlush[item.manifestId][item.storageKeys[k]] = true;\n    }\n  }\n  flushItems = [];\n\n  //create flush items - promises that needs to be resolved together in parallel\n  for (manifestId in storagesToFlush) {\n    storageKeys = storagesToFlush[manifestId];\n    for (storageKey in storageKeys) {\n      try {\n        flushItem = new FlushItem(manifestId, storageKey, getItems(manifestId, storageKey));\n        flushItems.push(flushItem.save());\n      } catch (e) {\n        console.error("ERROR", storageKey);\n      }\n    }\n  }\n  Promise.all(flushItems).then(function () {\n    var i, j;\n    for (i = 0, j = items.length; i < j; i++) {\n      items[i].resolve();\n    }\n  }, function () {\n    var i, j;\n    for (i = 0, j = items.length; i < j; i++) {\n      items[i].reject();\n    }\n  });\n};\n\n/**\n *\n * @private\n * @param {Array} [storageKey] storage key\n * @returns {Array} keys for all storages\n */\nDownloadsStorageController.prototype._getAllStorageKeys = function (storageKey) {\n  var keys = [];\n  storageKey = storageKey || this.stores;\n  for (var key in storageKey) {\n    if (storageKey.hasOwnProperty(key)) {\n      if (typeof storageKey[key] === "string") {\n        //params don\'t need to be stored to disk\n        if (key !== this.stores.PARAMS) {\n          keys.push(storageKey[key]);\n        }\n      } else {\n        keys = keys.concat(this._getAllStorageKeys(storageKey[key]));\n      }\n    }\n  }\n  return keys;\n};\n\n/**\n *\n * @private\n * @param {string} storageKey storage key identifier\n * @param {string} bridgeMethodName method name to be called\n * @param {string} manifestId - manifest identifier\n * @returns {*} items\n */\nDownloadsStorageController.prototype._itemAction = function (storageKey, bridgeMethodName, manifestId) {\n  var args = [],\n    i,\n    j;\n\n  //collect all other parameters except those already listed\n  for (i = 3, j = arguments.length; i < j; i++) {\n    args.push(arguments[i]);\n  }\n  if (this._items[manifestId] && this._items[manifestId][storageKey] && this._items[manifestId][storageKey][bridgeMethodName]) {\n    return this._items[manifestId][storageKey][bridgeMethodName].apply(this._items[manifestId][storageKey], args);\n  } else {\n    //if manifest still exists\n    if (this._items[manifestId]) {\n      console.error("ERROR", manifestId, storageKey, bridgeMethodName, args);\n    }\n    return undefined;\n  }\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} [storageKeys] storage keys that will be cleared\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.clear = function (manifestId, storageKeys) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    storageKeys = storageKeys || self._getAllStorageKeys();\n    if (self._items[manifestId]) {\n      for (var i = 0, j = storageKeys.length; i < j; i++) {\n        var storage = self._items[manifestId][storageKeys[i]];\n        if (storage) {\n          storage.clear();\n        }\n      }\n    }\n    delete self._items[manifestId];\n    self.sync(manifestId, storageKeys).then(resolve, reject);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.create = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self._items[manifestId] = {};\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.LEFT);\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.DOWNLOADED);\n    self._createStorage(manifestId, self.stores.DOWNLOADS.DOWNLOADING);\n    self._createArrayStorage(manifestId, self.stores.DOWNLOADS.ERRORS);\n    self._createStorage(manifestId, self.stores.PARAMS);\n    self._createStorage(manifestId, self.stores.MANIFEST);\n    self._createStorage(manifestId, self.stores.STATUS);\n    self.sync(manifestId, [self.stores.DOWNLOADS.DOWNLOADED, self.stores.MANIFEST, self.stores.STATUS]).then(resolve, reject);\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.createIfNotExists = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.getItem(manifestId).then(function (result) {\n      if (result) {\n        resolve();\n      } else {\n        self.create(manifestId).then(resolve, reject);\n      }\n    }, reject);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.getItem = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve) {\n    resolve(self._items[manifestId]);\n  });\n};\n\n/**\n *\n * @returns {string[]} keys of all items\n */\nDownloadsStorageController.prototype.getKeys = function () {\n  return Object.keys(this._items);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {boolean} if certain manifest id exists\n */\nDownloadsStorageController.prototype.keyExists = function (manifestId) {\n  return !!this._items[manifestId];\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.removeItem = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve) {\n    delete self._items[manifestId];\n    resolve();\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Array} [storageKeys] storage keys that will be synced\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.sync = function (manifestId, storageKeys) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    if (typeof storageKeys === "undefined") {\n      reject("Storage key is missing");\n      return;\n    }\n    if (typeof storageKeys === "string") {\n      storageKeys = [storageKeys];\n    }\n    if (appSettings.getSettings().saveToDisk) {\n      self._syncItems.push(new SyncItem(resolve, reject, manifestId, storageKeys));\n      self._flushThrottled();\n    } else {\n      resolve();\n    }\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nDownloadsStorageController.prototype.syncAll = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    if (appSettings.getSettings().saveToDisk) {\n      var storageKeys = self._getAllStorageKeys();\n      self._syncItems.push(new SyncItem(resolve, reject, manifestId, storageKeys));\n      self._flushThrottled();\n    } else {\n      resolve();\n    }\n  });\n};\nmodule.exports = DownloadsStorageController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUksQ0FBQyxJQUFJMUMsUUFBUSxDQUFDa0QsT0FBTyxFQUFFQyxNQUFNLEVBQUVyQyxVQUFVLEVBQUV5QixXQUFXLENBQUMsQ0FBQztNQUM1RVosSUFBSSxDQUFDcEIsZUFBZSxFQUFFO0lBQ3hCLENBQUMsTUFBTTtNQUNMMkMsT0FBTyxFQUFFO0lBQ1g7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWpELDBCQUEwQixDQUFDVyxTQUFTLENBQUM4RCxPQUFPLEdBQUcsVUFBVTVELFVBQVUsRUFBRTtFQUNuRSxJQUFNYSxJQUFJLEdBQUcsSUFBSTtFQUNqQixPQUFPLElBQUlvQixPQUFPLENBQUMsVUFBVUcsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsSUFBSXpELFdBQVcsQ0FBQ1MsV0FBVyxFQUFFLENBQUNzRSxVQUFVLEVBQUU7TUFDeEMsSUFBSWxDLFdBQVcsR0FBR1osSUFBSSxDQUFDeUIsa0JBQWtCLEVBQUU7TUFDM0N6QixJQUFJLENBQUN0QixVQUFVLENBQUNxQyxJQUFJLENBQUMsSUFBSTFDLFFBQVEsQ0FBQ2tELE9BQU8sRUFBRUMsTUFBTSxFQUFFckMsVUFBVSxFQUFFeUIsV0FBVyxDQUFDLENBQUM7TUFDNUVaLElBQUksQ0FBQ3BCLGVBQWUsRUFBRTtJQUN4QixDQUFDLE1BQU07TUFDTDJDLE9BQU8sRUFBRTtJQUNYO0VBQ0YsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEeUIsTUFBTSxDQUFDQyxPQUFPLEdBQUczRSwwQkFBMEIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL2Rvd25sb2Fkcy1zdG9yYWdlLWNvbnRyb2xsZXIuanM/NjUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKmVzbGludCBuby1jb25zb2xlOiBbXCJlcnJvclwiLCB7IGFsbG93OiBbXCJ3YXJuXCIsIFwiZXJyb3JcIiwgXCJpbmZvXCJdIH1dICovXG5cInVzZSBzdHJpY3RcIjtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi9hcHAtc2V0dGluZ3MnKTtcbmNvbnN0IEFycmF5U3RvcmFnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvYXJyYXktc3RvcmFnZVwiKTtcbmNvbnN0IEFycmF5U3RvcmFnZUJyaWRnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvYXJyYXktc3RvcmFnZS1icmlkZ2VcIik7XG5jb25zdCBGbHVzaEl0ZW0gPSByZXF1aXJlKFwiLi4vZG93bmxvYWRzL2ZsdXNoLWl0ZW1cIik7XG5jb25zdCBTdG9yYWdlID0gcmVxdWlyZShcIi4vLi4vdXRpbC9zdG9yYWdlXCIpO1xuY29uc3QgU3RvcmFnZUJyaWRnZSA9IHJlcXVpcmUoXCIuLy4uL3V0aWwvc3RvcmFnZS1icmlkZ2VcIik7XG5jb25zdCBTeW5jSXRlbSA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvc3luYy1pdGVtXCIpO1xuXG4vKipcbiAqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIgKCkge1xuICB0aGlzLnN0b3JlcyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzO1xuICB0aGlzLl9pdGVtcyA9IHt9O1xuICB0aGlzLl9zeW5jSXRlbXMgPSBbXTtcbiAgdGhpcy5fRkxVU0hfVElNRSA9IDUwOy8vaW4gbWlsaXNlY29uZHNcbiAgdGhpcy5fZmx1c2hUaHJvdHRsZWQgPSBfLnRocm90dGxlKHRoaXMuX2ZsdXNoLCB0aGlzLl9GTFVTSF9USU1FLCB7bGVhZGluZzogZmFsc2V9KTtcbiAgdGhpcy5fY3JlYXRlRHVtbXlTdG9yYWdlQnJpZGdlKCk7XG59XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgLSBrZXkgaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlQXJyYXlTdG9yYWdlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGtleSkge1xuICBpZiAoIXRoaXNba2V5XSkge1xuICAgIHRoaXMuX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZShrZXkpO1xuICB9XG4gIHRoaXMuX2l0ZW1zW21hbmlmZXN0SWRdW2tleV0gPSBuZXcgQXJyYXlTdG9yYWdlKCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHRoaXNba2V5XSA9IG5ldyBBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcywga2V5KTtcbn07XG5cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fY3JlYXRlRHVtbXlTdG9yYWdlQnJpZGdlID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcy5zdG9yZXMuRE9XTkxPQURTLkxFRlQpO1xuICB0aGlzLl9jcmVhdGVBcnJheVN0b3JhZ2VCcmlkZ2UodGhpcy5zdG9yZXMuRE9XTkxPQURTLkRPV05MT0FERUQpO1xuICB0aGlzLl9jcmVhdGVTdG9yYWdlQnJpZGdlKHRoaXMuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BRElORyk7XG4gIHRoaXMuX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5ET1dOTE9BRFMuRVJST1JTKTtcbiAgdGhpcy5fY3JlYXRlU3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5QQVJBTVMpO1xuICB0aGlzLl9jcmVhdGVTdG9yYWdlQnJpZGdlKHRoaXMuc3RvcmVzLk1BTklGRVNUKTtcbiAgdGhpcy5fY3JlYXRlU3RvcmFnZUJyaWRnZSh0aGlzLnN0b3Jlcy5TVEFUVVMpO1xufTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLl9jcmVhdGVTdG9yYWdlID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGtleSkge1xuICBpZiAoIXRoaXNba2V5XSkge1xuICAgIHRoaXMuX2NyZWF0ZVN0b3JhZ2VCcmlkZ2Uoa2V5KTtcbiAgfVxuICB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtrZXldID0gbmV3IFN0b3JhZ2UoKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30ga2V5IC0ga2V5IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuX2NyZWF0ZVN0b3JhZ2VCcmlkZ2UgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHRoaXNba2V5XSA9IG5ldyBTdG9yYWdlQnJpZGdlKHRoaXMsIGtleSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5fZmx1c2ggPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjb25zdCBpdGVtcyA9IHRoaXMuX3N5bmNJdGVtcy5zcGxpY2UoMCwgdGhpcy5fc3luY0l0ZW1zLmxlbmd0aCk7XG4gIGxldCBmbHVzaEl0ZW0sIGZsdXNoSXRlbXMsIGksIGl0ZW0sIGosIGssIGwsIG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXksIHN0b3JhZ2VLZXlzLCBzdG9yYWdlc1RvRmx1c2g7XG4gIHN0b3JhZ2VzVG9GbHVzaCA9IHt9O1xuXG4gIGZ1bmN0aW9uIGdldEl0ZW1zIChtYW5pZmVzdElkLCBzdG9yYWdlS2V5KSB7XG4gICAgaWYgKHNlbGYuX2l0ZW1zW21hbmlmZXN0SWRdICYmIHNlbGYuX2l0ZW1zW21hbmlmZXN0SWRdW3N0b3JhZ2VLZXldKSB7XG4gICAgICByZXR1cm4gc2VsZi5faXRlbXNbbWFuaWZlc3RJZF1bc3RvcmFnZUtleV0uZ2V0SXRlbXMoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIC8vY29sbGVjdCBpbmZvcm1hdGlvbiB3aGljaCBzdG9yYWdlcyBuZWVkcyB0byBiZSBzYXZlZFxuICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgaXRlbSA9IGl0ZW1zW2ldO1xuICAgIHN0b3JhZ2VzVG9GbHVzaFtpdGVtLm1hbmlmZXN0SWRdID0gc3RvcmFnZXNUb0ZsdXNoW2l0ZW0ubWFuaWZlc3RJZF0gfHwge307XG4gICAgZm9yIChrID0gMCwgbCA9IGl0ZW0uc3RvcmFnZUtleXMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBzdG9yYWdlc1RvRmx1c2hbaXRlbS5tYW5pZmVzdElkXVtpdGVtLnN0b3JhZ2VLZXlzW2tdXSA9IHRydWU7XG4gICAgfVxuICB9XG4gIGZsdXNoSXRlbXMgPSBbXTtcblxuICAvL2NyZWF0ZSBmbHVzaCBpdGVtcyAtIHByb21pc2VzIHRoYXQgbmVlZHMgdG8gYmUgcmVzb2x2ZWQgdG9nZXRoZXIgaW4gcGFyYWxsZWxcbiAgZm9yIChtYW5pZmVzdElkIGluIHN0b3JhZ2VzVG9GbHVzaCkge1xuICAgIHN0b3JhZ2VLZXlzID0gc3RvcmFnZXNUb0ZsdXNoW21hbmlmZXN0SWRdO1xuICAgIGZvciAoc3RvcmFnZUtleSBpbiBzdG9yYWdlS2V5cykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgZmx1c2hJdGVtID0gbmV3IEZsdXNoSXRlbShtYW5pZmVzdElkLCBzdG9yYWdlS2V5LCBnZXRJdGVtcyhtYW5pZmVzdElkLCBzdG9yYWdlS2V5KSk7XG4gICAgICAgIGZsdXNoSXRlbXMucHVzaChmbHVzaEl0ZW0uc2F2ZSgpKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIHN0b3JhZ2VLZXkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFByb21pc2UuYWxsKGZsdXNoSXRlbXMpXG4gICAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpLCBqO1xuICAgICAgICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaXRlbXNbaV0ucmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9LCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBpLCBqO1xuICAgICAgICBmb3IgKGkgPSAwLCBqID0gaXRlbXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgICAgaXRlbXNbaV0ucmVqZWN0KCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIHtBcnJheX0gW3N0b3JhZ2VLZXldIHN0b3JhZ2Uga2V5XG4gKiBAcmV0dXJucyB7QXJyYXl9IGtleXMgZm9yIGFsbCBzdG9yYWdlc1xuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuX2dldEFsbFN0b3JhZ2VLZXlzID0gZnVuY3Rpb24gKHN0b3JhZ2VLZXkpIHtcbiAgbGV0IGtleXMgPSBbXTtcbiAgc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXkgfHwgdGhpcy5zdG9yZXM7XG4gIGZvciAobGV0IGtleSBpbiBzdG9yYWdlS2V5KSB7XG4gICAgaWYgKHN0b3JhZ2VLZXkuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgaWYgKHR5cGVvZiBzdG9yYWdlS2V5W2tleV0gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgLy9wYXJhbXMgZG9uJ3QgbmVlZCB0byBiZSBzdG9yZWQgdG8gZGlza1xuICAgICAgICBpZiAoa2V5ICE9PSB0aGlzLnN0b3Jlcy5QQVJBTVMpIHtcbiAgICAgICAgICBrZXlzLnB1c2goc3RvcmFnZUtleVtrZXldKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAga2V5cyA9IGtleXMuY29uY2F0KHRoaXMuX2dldEFsbFN0b3JhZ2VLZXlzKHN0b3JhZ2VLZXlba2V5XSkpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ga2V5cztcbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmFnZUtleSBzdG9yYWdlIGtleSBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gYnJpZGdlTWV0aG9kTmFtZSBtZXRob2QgbmFtZSB0byBiZSBjYWxsZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IGl0ZW1zXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5faXRlbUFjdGlvbiA9IGZ1bmN0aW9uIChzdG9yYWdlS2V5LCBicmlkZ2VNZXRob2ROYW1lLCBtYW5pZmVzdElkKSB7XG4gIGxldCBhcmdzID0gW10sIGksIGo7XG5cbiAgLy9jb2xsZWN0IGFsbCBvdGhlciBwYXJhbWV0ZXJzIGV4Y2VwdCB0aG9zZSBhbHJlYWR5IGxpc3RlZFxuICBmb3IgKGkgPSAzLCBqID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB9XG4gIGlmICh0aGlzLl9pdGVtc1ttYW5pZmVzdElkXSAmJiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XSAmJiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XVticmlkZ2VNZXRob2ROYW1lXSkge1xuICAgIHJldHVybiB0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XVticmlkZ2VNZXRob2ROYW1lXS5hcHBseSh0aGlzLl9pdGVtc1ttYW5pZmVzdElkXVtzdG9yYWdlS2V5XSwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgLy9pZiBtYW5pZmVzdCBzdGlsbCBleGlzdHNcbiAgICBpZiAodGhpcy5faXRlbXNbbWFuaWZlc3RJZF0pIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXCJFUlJPUlwiLCBtYW5pZmVzdElkLCBzdG9yYWdlS2V5LCBicmlkZ2VNZXRob2ROYW1lLCBhcmdzKTtcbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0FycmF5fSBbc3RvcmFnZUtleXNdIHN0b3JhZ2Uga2V5cyB0aGF0IHdpbGwgYmUgY2xlYXJlZFxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXlzKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHN0b3JhZ2VLZXlzID0gc3RvcmFnZUtleXMgfHwgc2VsZi5fZ2V0QWxsU3RvcmFnZUtleXMoKTtcbiAgICBpZiAoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gc3RvcmFnZUtleXMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBzdG9yYWdlID0gc2VsZi5faXRlbXNbbWFuaWZlc3RJZF1bc3RvcmFnZUtleXNbaV1dO1xuICAgICAgICBpZiAoc3RvcmFnZSkge1xuICAgICAgICAgIHN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBkZWxldGUoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pO1xuICAgIHNlbGYuc3luYyhtYW5pZmVzdElkLCBzdG9yYWdlS2V5cylcbiAgICAgICAgLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5jcmVhdGUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLl9pdGVtc1ttYW5pZmVzdElkXSA9IHt9O1xuICAgIHNlbGYuX2NyZWF0ZUFycmF5U3RvcmFnZShtYW5pZmVzdElkLCBzZWxmLnN0b3Jlcy5ET1dOTE9BRFMuTEVGVCk7XG4gICAgc2VsZi5fY3JlYXRlQXJyYXlTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BREVEKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5ET1dOTE9BRElORyk7XG4gICAgc2VsZi5fY3JlYXRlQXJyYXlTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLkRPV05MT0FEUy5FUlJPUlMpO1xuICAgIHNlbGYuX2NyZWF0ZVN0b3JhZ2UobWFuaWZlc3RJZCwgc2VsZi5zdG9yZXMuUEFSQU1TKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLk1BTklGRVNUKTtcbiAgICBzZWxmLl9jcmVhdGVTdG9yYWdlKG1hbmlmZXN0SWQsIHNlbGYuc3RvcmVzLlNUQVRVUyk7XG4gICAgc2VsZi5zeW5jKG1hbmlmZXN0SWQsIFtcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5ET1dOTE9BRFMuRE9XTkxPQURFRCxcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5NQU5JRkVTVCxcbiAgICAgICAgICBzZWxmLnN0b3Jlcy5TVEFUVVMsXG4gICAgICAgIF0pXG4gICAgICAgIC50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH0pO1xufTtcbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmNyZWF0ZUlmTm90RXhpc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgc2VsZi5nZXRJdGVtKG1hbmlmZXN0SWQpXG4gICAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICByZXNvbHZlKClcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5jcmVhdGUobWFuaWZlc3RJZClcbiAgICAgICAgICAgICAgICAudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSwgcmVqZWN0KTtcbiAgfSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHJlc29sdmUoc2VsZi5faXRlbXNbbWFuaWZlc3RJZF0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0ga2V5cyBvZiBhbGwgaXRlbXNcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLmdldEtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9pdGVtcyk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtib29sZWFufSBpZiBjZXJ0YWluIG1hbmlmZXN0IGlkIGV4aXN0c1xuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUua2V5RXhpc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuICEhdGhpcy5faXRlbXNbbWFuaWZlc3RJZF07XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkRvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIGRlbGV0ZSBzZWxmLl9pdGVtc1ttYW5pZmVzdElkXTtcbiAgICByZXNvbHZlKCk7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0FycmF5fSBbc3RvcmFnZUtleXNdIHN0b3JhZ2Uga2V5cyB0aGF0IHdpbGwgYmUgc3luY2VkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5Eb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlci5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBzdG9yYWdlS2V5cykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAodHlwZW9mIHN0b3JhZ2VLZXlzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICByZWplY3QoXCJTdG9yYWdlIGtleSBpcyBtaXNzaW5nXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHN0b3JhZ2VLZXlzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBzdG9yYWdlS2V5cyA9IFtzdG9yYWdlS2V5c107XG4gICAgfVxuICAgIGlmIChhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNhdmVUb0Rpc2spIHtcbiAgICAgIHNlbGYuX3N5bmNJdGVtcy5wdXNoKG5ldyBTeW5jSXRlbShyZXNvbHZlLCByZWplY3QsIG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXlzKSk7XG4gICAgICBzZWxmLl9mbHVzaFRocm90dGxlZCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xuRG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXIucHJvdG90eXBlLnN5bmNBbGwgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBpZiAoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zYXZlVG9EaXNrKSB7XG4gICAgICBsZXQgc3RvcmFnZUtleXMgPSBzZWxmLl9nZXRBbGxTdG9yYWdlS2V5cygpO1xuICAgICAgc2VsZi5fc3luY0l0ZW1zLnB1c2gobmV3IFN5bmNJdGVtKHJlc29sdmUsIHJlamVjdCwgbWFuaWZlc3RJZCwgc3RvcmFnZUtleXMpKTtcbiAgICAgIHNlbGYuX2ZsdXNoVGhyb3R0bGVkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcjsiXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsIkFycmF5U3RvcmFnZSIsIkFycmF5U3RvcmFnZUJyaWRnZSIsIkZsdXNoSXRlbSIsIlN0b3JhZ2UiLCJTdG9yYWdlQnJpZGdlIiwiU3luY0l0ZW0iLCJEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlciIsInN0b3JlcyIsImdldFNldHRpbmdzIiwiX2l0ZW1zIiwiX3N5bmNJdGVtcyIsIl9GTFVTSF9USU1FIiwiX2ZsdXNoVGhyb3R0bGVkIiwidGhyb3R0bGUiLCJfZmx1c2giLCJsZWFkaW5nIiwiX2NyZWF0ZUR1bW15U3RvcmFnZUJyaWRnZSIsInByb3RvdHlwZSIsIl9jcmVhdGVBcnJheVN0b3JhZ2UiLCJtYW5pZmVzdElkIiwia2V5IiwiX2NyZWF0ZUFycmF5U3RvcmFnZUJyaWRnZSIsIkRPV05MT0FEUyIsIkxFRlQiLCJET1dOTE9BREVEIiwiX2NyZWF0ZVN0b3JhZ2VCcmlkZ2UiLCJET1dOTE9BRElORyIsIkVSUk9SUyIsIlBBUkFNUyIsIk1BTklGRVNUIiwiU1RBVFVTIiwiX2NyZWF0ZVN0b3JhZ2UiLCJzZWxmIiwiaXRlbXMiLCJzcGxpY2UiLCJsZW5ndGgiLCJmbHVzaEl0ZW0iLCJmbHVzaEl0ZW1zIiwiaSIsIml0ZW0iLCJqIiwiayIsImwiLCJzdG9yYWdlS2V5Iiwic3RvcmFnZUtleXMiLCJzdG9yYWdlc1RvRmx1c2giLCJnZXRJdGVtcyIsInB1c2giLCJzYXZlIiwiZSIsImNvbnNvbGUiLCJlcnJvciIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwicmVzb2x2ZSIsInJlamVjdCIsIl9nZXRBbGxTdG9yYWdlS2V5cyIsImtleXMiLCJoYXNPd25Qcm9wZXJ0eSIsImNvbmNhdCIsIl9pdGVtQWN0aW9uIiwiYnJpZGdlTWV0aG9kTmFtZSIsImFyZ3MiLCJhcmd1bWVudHMiLCJhcHBseSIsInVuZGVmaW5lZCIsImNsZWFyIiwic3RvcmFnZSIsInN5bmMiLCJjcmVhdGUiLCJjcmVhdGVJZk5vdEV4aXN0cyIsImdldEl0ZW0iLCJyZXN1bHQiLCJnZXRLZXlzIiwiT2JqZWN0Iiwia2V5RXhpc3RzIiwicmVtb3ZlSXRlbSIsInNhdmVUb0Rpc2siLCJzeW5jQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2381\n')},42:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar XMLSerializer = (__webpack_require__(678).XMLSerializer);\nvar appSettings = __webpack_require__(9277);\nvar parseManifestWithChoosenRepresentations = __webpack_require__(4803);\nvar downloadFileUtil = __webpack_require__(2777);\nvar saveFile = __webpack_require__(1349);\nvar translation = __webpack_require__(817);\n\n/**\n *\n * @constructor\n */\nfunction ManifestController() {\n  this._manifests = {};\n}\n\n/**\n *\n * @param {object} manifest manifest object\n * @returns {void}\n */\nManifestController.prototype.cacheManifest = function (manifest) {\n  this._manifests[manifest.id] = manifest;\n};\n\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {*} manifests\n */\nManifestController.prototype.getManifests = function (manifestIds) {\n  var selectedManifests;\n  if (typeof manifestIds === "undefined") {\n    selectedManifests = this._manifests;\n  } else if (typeof manifestIds === "number" || typeof manifestIds === "string") {\n    selectedManifests = [this._manifests[String(manifestIds)]];\n  } else {\n    selectedManifests = [];\n    for (var i = 0, j = manifestIds.length; i < j; i++) {\n      if (this._manifests[manifestIds[i]]) {\n        selectedManifests.push(this._manifests[manifestIds[i]]);\n      }\n    }\n  }\n  return selectedManifests;\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} manifest\n */\nManifestController.prototype.getManifestById = function (manifestId) {\n  if (typeof manifestId === "number" || typeof manifestId === "string") {\n    return this._manifests[String(manifestId)];\n  }\n};\n\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {Array} manifests infomrations\n */\nManifestController.prototype.getManifestsInfo = function (manifestIds) {\n  var manifests = [];\n  var selectedManifests = this.getManifests(manifestIds);\n  for (var i = 0, j = selectedManifests.length; i < j; i++) {\n    manifests.push(selectedManifests[i].getJsonInfo());\n  }\n  return manifests;\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {string} local path for manifest files\n */\nManifestController.prototype.getOriginalManifestLocalPath = function (manifestId) {\n  return appSettings.getSettings().settingsFolder + manifestId + "/";\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {*} manifest info\n */\nManifestController.prototype.getManifestInfoById = function (manifestId) {\n  var manifest = this.getManifestById(manifestId);\n  if (manifest) {\n    return manifest.getJsonInfo();\n  }\n};\n\n/**\n *\n * @param {Array|number|string} [manifestIds] manifests identifiers\n * @returns {void}\n */\nManifestController.prototype.removeFromCache = function (manifestIds) {\n  if (typeof manifestIds === "number" || typeof manifestIds === "string") {\n    manifestIds = [String(manifestIds)];\n  }\n  manifestIds = manifestIds || [];\n  for (var i = 0, j = manifestIds.length; i < j; i++) {\n    delete this._manifests[manifestIds[i]];\n  }\n};\nManifestController.prototype.removeFromCacheAll = function () {\n  this._manifests = [];\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} promise\n */\nManifestController.prototype.saveOriginalManifestOnceOnly = function (manifestId) {\n  var localPath = this.getOriginalManifestLocalPath(manifestId);\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var manifest = self.getManifestById(manifestId);\n    if (!manifest) {\n      reject(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n    downloadFileUtil.checkForLocalFile(localPath + manifest.getManifestName(), function (exists) {\n      if (exists) {\n        resolve();\n      } else {\n        var xmlSerializer = new XMLSerializer();\n        var manifestString;\n        try {\n          manifestString = xmlSerializer.serializeToString(manifest.getManifestXML());\n        } catch (err) {\n          reject(err);\n          return;\n        }\n        saveFile(localPath, manifest.getManifestName(), manifestString, function (err) {\n          if (err) {\n            reject(err);\n          } else {\n            resolve();\n          }\n        });\n      }\n    });\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {object} representations representations to be saved\n * @param {string} downloadFolder - folder where all fragments are downloaded\n * @returns {Promise} promise\n */\nManifestController.prototype.saveManifestWithChosenRepresentations = function (manifestId, representations, downloadFolder) {\n  var localPath = downloadFolder;\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var manifest = self.getManifestById(manifestId);\n    if (!manifest) {\n      reject(translation.getError(translation.e.manifests.NOT_FOUND, manifestId));\n      return;\n    }\n    var manifestString;\n    try {\n      manifestString = parseManifestWithChoosenRepresentations(manifest, representations);\n    } catch (err) {\n      reject(err);\n      return;\n    }\n    saveFile(localPath, manifest.getManifestName(), manifestString, function (err) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve();\n      }\n    });\n  });\n};\nmodule.exports = ManifestController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJtYXBwaW5ncyI6IkFBQWE7O0FBRWIsSUFBTUEsYUFBYSxHQUFHQyx3Q0FBK0I7QUFDckQsSUFBTUMsV0FBVyxHQUFHRCxtQkFBTyxDQUFDLElBQWlCLENBQUM7QUFDOUMsSUFBTUUsdUNBQXVDLEdBQUdGLG1CQUFPLENBQUMsSUFBcUQsQ0FBQztBQUM5RyxJQUFNRyxnQkFBZ0IsR0FBR0gsbUJBQU8sQ0FBQyxJQUFpQyxDQUFDO0FBQ25FLElBQU1JLFFBQVEsR0FBR0osbUJBQU8sQ0FBQyxJQUFtQixDQUFDO0FBQzdDLElBQU1LLFdBQVcsR0FBR0wsbUJBQU8sQ0FBQyxHQUFzQixDQUFDOztBQUVuRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNNLGtCQUFrQixHQUFJO0VBQzdCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUMsQ0FBQztBQUN0Qjs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FELGtCQUFrQixDQUFDRSxTQUFTLENBQUNDLGFBQWEsR0FBRyxVQUFVQyxRQUFRLEVBQUU7RUFDL0QsSUFBSSxDQUFDSCxVQUFVLENBQUNHLFFBQVEsQ0FBQ0MsRUFBRSxDQUFDLEdBQUdELFFBQVE7QUFDekMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FKLGtCQUFrQixDQUFDRSxTQUFTLENBQUNJLFlBQVksR0FBRyxVQUFVQyxXQUFXLEVBQUU7RUFDakUsSUFBSUMsaUJBQWlCO0VBQ3JCLElBQUksT0FBT0QsV0FBVyxLQUFLLFdBQVcsRUFBRTtJQUN0Q0MsaUJBQWlCLEdBQUcsSUFBSSxDQUFDUCxVQUFVO0VBQ3JDLENBQUMsTUFBTSxJQUFJLE9BQU9NLFdBQVcsS0FBSyxRQUFRLElBQUksT0FBT0EsV0FBVyxLQUFLLFFBQVEsRUFBRTtJQUM3RUMsaUJBQWlCLEdBQUcsQ0FBQyxJQUFJLENBQUNQLFVBQVUsQ0FBQ1EsTUFBTSxDQUFDRixXQUFXLENBQUMsQ0FBQyxDQUFDO0VBQzVELENBQUMsTUFBTTtJQUNMQyxpQkFBaUIsR0FBRyxFQUFFO0lBQ3RCLEtBQUssSUFBSUUsQ0FBQyxHQUFHLENBQUMsRUFBRUMsQ0FBQyxHQUFHSixXQUFXLENBQUNLLE1BQU0sRUFBRUYsQ0FBQyxHQUFHQyxDQUFDLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQ2xELElBQUksSUFBSSxDQUFDVCxVQUFVLENBQUNNLFdBQVcsQ0FBQ0csQ0FBQyxDQUFDLENBQUMsRUFBRTtRQUNuQ0YsaUJBQWlCLENBQUNLLElBQUksQ0FBQyxJQUFJLENBQUNaLFVBQVUsQ0FBQ00sV0FBVyxDQUFDRyxDQUFDLENBQUMsQ0FBQyxDQUFDO01BQ3pEO0lBQ0Y7RUFDRjtFQUNBLE9BQU9GLGlCQUFpQjtBQUMxQixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsa0JBQWtCLENBQUNFLFNBQVMsQ0FBQ1ksZUFBZSxHQUFHLFVBQVVDLFVBQVUsRUFBRTtFQUNuRSxJQUFJLE9BQU9BLFVBQVUsS0FBSyxRQUFRLElBQUksT0FBT0EsVUFBVSxLQUFLLFFBQVEsRUFBRTtJQUNwRSxPQUFPLElBQUksQ0FBQ2QsVUFBVSxDQUFDUSxNQUFNLENBQUNNLFVBQVUsQ0FBQyxDQUFDO0VBQzVDO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FmLGtCQUFrQixDQUFDRSxTQUFTLENBQUNjLGdCQUFnQixHQUFHLFVBQVVULFdBQVcsRUFBRTtFQUNyRSxJQUFJVSxTQUFTLEdBQUcsRUFBRTtFQUNsQixJQUFNVCxpQkFBaUIsR0FBRyxJQUFJLENBQUNGLFlBQVksQ0FBQ0MsV0FBVyxDQUFDO0VBQ3hELEtBQUssSUFBSUcsQ0FBQyxHQUFHLENBQUMsRUFBRUMsQ0FBQyxHQUFHSCxpQkFBaUIsQ0FBQ0ksTUFBTSxFQUFFRixDQUFDLEdBQUdDLENBQUMsRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDeERPLFNBQVMsQ0FBQ0osSUFBSSxDQUFDTCxpQkFBaUIsQ0FBQ0UsQ0FBQyxDQUFDLENBQUNRLFdBQVcsRUFBRSxDQUFDO0VBQ3BEO0VBQ0EsT0FBT0QsU0FBUztBQUNsQixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQWpCLGtCQUFrQixDQUFDRSxTQUFTLENBQUNpQiw0QkFBNEIsR0FBRyxVQUFVSixVQUFVLEVBQUU7RUFDaEYsT0FBT3BCLFdBQVcsQ0FBQ3lCLFdBQVcsRUFBRSxDQUFDQyxjQUFjLEdBQUdOLFVBQVUsR0FBRyxHQUFHO0FBQ3BFLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBZixrQkFBa0IsQ0FBQ0UsU0FBUyxDQUFDb0IsbUJBQW1CLEdBQUcsVUFBVVAsVUFBVSxFQUFFO0VBQ3ZFLElBQU1YLFFBQVEsR0FBRyxJQUFJLENBQUNVLGVBQWUsQ0FBQ0MsVUFBVSxDQUFDO0VBQ2pELElBQUlYLFFBQVEsRUFBRTtJQUNaLE9BQU9BLFFBQVEsQ0FBQ2MsV0FBVyxFQUFFO0VBQy9CO0FBQ0YsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FsQixrQkFBa0IsQ0FBQ0UsU0FBUyxDQUFDcUIsZUFBZSxHQUFHLFVBQVVoQixXQUFXLEVBQUU7RUFDcEUsSUFBSSxPQUFPQSxXQUFXLEtBQUssUUFBUSxJQUFJLE9BQU9BLFdBQVcsS0FBSyxRQUFRLEVBQUU7SUFDdEVBLFdBQVcsR0FBRyxDQUFDRSxNQUFNLENBQUNGLFdBQVcsQ0FBQyxDQUFDO0VBQ3JDO0VBRUFBLFdBQVcsR0FBR0EsV0FBVyxJQUFJLEVBQUU7RUFDL0IsS0FBSyxJQUFJRyxDQUFDLEdBQUcsQ0FBQyxFQUFFQyxDQUFDLEdBQUdKLFdBQVcsQ0FBQ0ssTUFBTSxFQUFFRixDQUFDLEdBQUdDLENBQUMsRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDbEQsT0FBTyxJQUFJLENBQUNULFVBQVUsQ0FBQ00sV0FBVyxDQUFDRyxDQUFDLENBQUMsQ0FBRTtFQUN6QztBQUNGLENBQUM7QUFFRFYsa0JBQWtCLENBQUNFLFNBQVMsQ0FBQ3NCLGtCQUFrQixHQUFHLFlBQVk7RUFDNUQsSUFBSSxDQUFDdkIsVUFBVSxHQUFHLEVBQUU7QUFDdEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FELGtCQUFrQixDQUFDRSxTQUFTLENBQUN1Qiw0QkFBNEIsR0FBRyxVQUFVVixVQUFVLEVBQUU7RUFDaEYsSUFBTVcsU0FBUyxHQUFHLElBQUksQ0FBQ1AsNEJBQTRCLENBQUNKLFVBQVUsQ0FBQztFQUMvRCxJQUFNWSxJQUFJLEdBQUcsSUFBSTtFQUNqQixPQUFPLElBQUlDLE9BQU8sQ0FBQyxVQUFVQyxPQUFPLEVBQUVDLE1BQU0sRUFBRTtJQUM1QyxJQUFNMUIsUUFBUSxHQUFHdUIsSUFBSSxDQUFDYixlQUFlLENBQUNDLFVBQVUsQ0FBQztJQUNqRCxJQUFJLENBQUNYLFFBQVEsRUFBRTtNQUNiMEIsTUFBTSxDQUFDL0IsV0FBVyxDQUFDZ0MsUUFBUSxDQUFDaEMsV0FBVyxDQUFDaUMsQ0FBQyxDQUFDZixTQUFTLENBQUNnQixTQUFTLEVBQUVsQixVQUFVLENBQUMsQ0FBQztNQUMzRTtJQUNGO0lBQ0FsQixnQkFBZ0IsQ0FBQ3FDLGlCQUFpQixDQUFFUixTQUFTLEdBQUd0QixRQUFRLENBQUMrQixlQUFlLEVBQUUsRUFBRyxVQUFVQyxNQUFNLEVBQUU7TUFDN0YsSUFBSUEsTUFBTSxFQUFFO1FBQ1ZQLE9BQU8sRUFBRTtNQUNYLENBQUMsTUFBTTtRQUNMLElBQU1RLGFBQWEsR0FBRyxJQUFJNUMsYUFBYSxFQUFFO1FBQ3pDLElBQUk2QyxjQUFjO1FBQ2xCLElBQUk7VUFDRkEsY0FBYyxHQUFHRCxhQUFhLENBQUNFLGlCQUFpQixDQUFDbkMsUUFBUSxDQUFDb0MsY0FBYyxFQUFFLENBQUM7UUFDN0UsQ0FBQyxDQUFDLE9BQU9DLEdBQUcsRUFBRTtVQUNaWCxNQUFNLENBQUNXLEdBQUcsQ0FBQztVQUNYO1FBQ0Y7UUFDQTNDLFFBQVEsQ0FBQzRCLFNBQVMsRUFBRXRCLFFBQVEsQ0FBQytCLGVBQWUsRUFBRSxFQUFFRyxjQUFjLEVBQUUsVUFBVUcsR0FBRyxFQUFFO1VBQzdFLElBQUlBLEdBQUcsRUFBRTtZQUNQWCxNQUFNLENBQUNXLEdBQUcsQ0FBQztVQUNiLENBQUMsTUFBTTtZQUNMWixPQUFPLEVBQUU7VUFDWDtRQUNGLENBQUMsQ0FBQztNQUNKO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBN0Isa0JBQWtCLENBQUNFLFNBQVMsQ0FBQ3dDLHFDQUFxQyxHQUFHLFVBQVUzQixVQUFVLEVBQUU0QixlQUFlLEVBQUVDLGNBQWMsRUFBRTtFQUMxSCxJQUFNbEIsU0FBUyxHQUFHa0IsY0FBYztFQUNoQyxJQUFNakIsSUFBSSxHQUFHLElBQUk7RUFDakIsT0FBTyxJQUFJQyxPQUFPLENBQUMsVUFBVUMsT0FBTyxFQUFFQyxNQUFNLEVBQUU7SUFDNUMsSUFBTTFCLFFBQVEsR0FBR3VCLElBQUksQ0FBQ2IsZUFBZSxDQUFDQyxVQUFVLENBQUM7SUFDakQsSUFBSSxDQUFDWCxRQUFRLEVBQUU7TUFDYjBCLE1BQU0sQ0FBQy9CLFdBQVcsQ0FBQ2dDLFFBQVEsQ0FBQ2hDLFdBQVcsQ0FBQ2lDLENBQUMsQ0FBQ2YsU0FBUyxDQUFDZ0IsU0FBUyxFQUFFbEIsVUFBVSxDQUFDLENBQUM7TUFDM0U7SUFDRjtJQUNBLElBQUl1QixjQUFjO0lBQ2xCLElBQUk7TUFDRkEsY0FBYyxHQUFHMUMsdUNBQXVDLENBQUNRLFFBQVEsRUFBRXVDLGVBQWUsQ0FBQztJQUNyRixDQUFDLENBQUMsT0FBT0YsR0FBRyxFQUFFO01BQ1pYLE1BQU0sQ0FBQ1csR0FBRyxDQUFDO01BQ1g7SUFDRjtJQUNBM0MsUUFBUSxDQUFDNEIsU0FBUyxFQUFFdEIsUUFBUSxDQUFDK0IsZUFBZSxFQUFFLEVBQUVHLGNBQWMsRUFBRSxVQUFVRyxHQUFHLEVBQUU7TUFDN0UsSUFBSUEsR0FBRyxFQUFFO1FBQ1BYLE1BQU0sQ0FBQ1csR0FBRyxDQUFDO01BQ2IsQ0FBQyxNQUFNO1FBQ0xaLE9BQU8sRUFBRTtNQUNYO0lBQ0YsQ0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEZ0IsTUFBTSxDQUFDQyxPQUFPLEdBQUc5QyxrQkFBa0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL21hbmlmZXN0LWNvbnRyb2xsZXIuanM/Y2QyMyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuY29uc3QgWE1MU2VyaWFsaXplciA9IHJlcXVpcmUoJ3htbGRvbScpLlhNTFNlcmlhbGl6ZXI7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5jb25zdCBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnMgPSByZXF1aXJlKFwiLi4vdXRpbC9wYXJzZS1tYW5pZmVzdC13aXRoLWNob29zZW4tcmVwcmVzZW50YXRpb25zXCIpO1xuY29uc3QgZG93bmxvYWRGaWxlVXRpbCA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvZG93bmxvYWQtZmlsZS11dGlsXCIpO1xuY29uc3Qgc2F2ZUZpbGUgPSByZXF1aXJlKFwiLi4vdXRpbC9zYXZlLWZpbGVcIik7XG5jb25zdCB0cmFuc2xhdGlvbiA9IHJlcXVpcmUoJy4uL3RyYW5zbGF0aW9uL2luZGV4Jyk7XG5cbi8qKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5pZmVzdENvbnRyb2xsZXIgKCkge1xuICB0aGlzLl9tYW5pZmVzdHMgPSB7fTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IG1hbmlmZXN0IG1hbmlmZXN0IG9iamVjdFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuY2FjaGVNYW5pZmVzdCA9IGZ1bmN0aW9uIChtYW5pZmVzdCkge1xuICB0aGlzLl9tYW5pZmVzdHNbbWFuaWZlc3QuaWRdID0gbWFuaWZlc3Q7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7Kn0gbWFuaWZlc3RzXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzID0gZnVuY3Rpb24gKG1hbmlmZXN0SWRzKSB7XG4gIGxldCBzZWxlY3RlZE1hbmlmZXN0cztcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHNlbGVjdGVkTWFuaWZlc3RzID0gdGhpcy5fbWFuaWZlc3RzO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzZWxlY3RlZE1hbmlmZXN0cyA9IFt0aGlzLl9tYW5pZmVzdHNbU3RyaW5nKG1hbmlmZXN0SWRzKV1dO1xuICB9IGVsc2Uge1xuICAgIHNlbGVjdGVkTWFuaWZlc3RzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmICh0aGlzLl9tYW5pZmVzdHNbbWFuaWZlc3RJZHNbaV1dKSB7XG4gICAgICAgIHNlbGVjdGVkTWFuaWZlc3RzLnB1c2godGhpcy5fbWFuaWZlc3RzW21hbmlmZXN0SWRzW2ldXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzZWxlY3RlZE1hbmlmZXN0cztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IG1hbmlmZXN0XG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RCeUlkID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiBtYW5pZmVzdElkID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHRoaXMuX21hbmlmZXN0c1tTdHJpbmcobWFuaWZlc3RJZCldO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7QXJyYXl9IG1hbmlmZXN0cyBpbmZvbXJhdGlvbnNcbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdHNJbmZvID0gZnVuY3Rpb24gKG1hbmlmZXN0SWRzKSB7XG4gIGxldCBtYW5pZmVzdHMgPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWRNYW5pZmVzdHMgPSB0aGlzLmdldE1hbmlmZXN0cyhtYW5pZmVzdElkcyk7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gc2VsZWN0ZWRNYW5pZmVzdHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgbWFuaWZlc3RzLnB1c2goc2VsZWN0ZWRNYW5pZmVzdHNbaV0uZ2V0SnNvbkluZm8oKSk7XG4gIH1cbiAgcmV0dXJuIG1hbmlmZXN0cztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHJldHVybnMge3N0cmluZ30gbG9jYWwgcGF0aCBmb3IgbWFuaWZlc3QgZmlsZXNcbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5nZXRPcmlnaW5hbE1hbmlmZXN0TG9jYWxQYXRoID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQpIHtcbiAgcmV0dXJuIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBtYW5pZmVzdElkICsgXCIvXCI7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHsqfSBtYW5pZmVzdCBpbmZvXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJbmZvQnlJZCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGNvbnN0IG1hbmlmZXN0ID0gdGhpcy5nZXRNYW5pZmVzdEJ5SWQobWFuaWZlc3RJZCk7XG4gIGlmIChtYW5pZmVzdCkge1xuICAgIHJldHVybiBtYW5pZmVzdC5nZXRKc29uSW5mbygpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0FycmF5fG51bWJlcnxzdHJpbmd9IFttYW5pZmVzdElkc10gbWFuaWZlc3RzIGlkZW50aWZpZXJzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuTWFuaWZlc3RDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVGcm9tQ2FjaGUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZHMpIHtcbiAgaWYgKHR5cGVvZiBtYW5pZmVzdElkcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBtYW5pZmVzdElkcyA9IFtTdHJpbmcobWFuaWZlc3RJZHMpXTtcbiAgfVxuXG4gIG1hbmlmZXN0SWRzID0gbWFuaWZlc3RJZHMgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgZGVsZXRlKHRoaXMuX21hbmlmZXN0c1ttYW5pZmVzdElkc1tpXV0pO1xuICB9XG59O1xuXG5NYW5pZmVzdENvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUZyb21DYWNoZUFsbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fbWFuaWZlc3RzID0gW107XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbk1hbmlmZXN0Q29udHJvbGxlci5wcm90b3R5cGUuc2F2ZU9yaWdpbmFsTWFuaWZlc3RPbmNlT25seSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGNvbnN0IGxvY2FsUGF0aCA9IHRoaXMuZ2V0T3JpZ2luYWxNYW5pZmVzdExvY2FsUGF0aChtYW5pZmVzdElkKTtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSBzZWxmLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgICBpZiAoIW1hbmlmZXN0KSB7XG4gICAgICByZWplY3QodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRvd25sb2FkRmlsZVV0aWwuY2hlY2tGb3JMb2NhbEZpbGUoKGxvY2FsUGF0aCArIG1hbmlmZXN0LmdldE1hbmlmZXN0TmFtZSgpKSwgZnVuY3Rpb24gKGV4aXN0cykge1xuICAgICAgaWYgKGV4aXN0cykge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCB4bWxTZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgICAgbGV0IG1hbmlmZXN0U3RyaW5nO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIG1hbmlmZXN0U3RyaW5nID0geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHNhdmVGaWxlKGxvY2FsUGF0aCwgbWFuaWZlc3QuZ2V0TWFuaWZlc3ROYW1lKCksIG1hbmlmZXN0U3RyaW5nLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtvYmplY3R9IHJlcHJlc2VudGF0aW9ucyByZXByZXNlbnRhdGlvbnMgdG8gYmUgc2F2ZWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3dubG9hZEZvbGRlciAtIGZvbGRlciB3aGVyZSBhbGwgZnJhZ21lbnRzIGFyZSBkb3dubG9hZGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5NYW5pZmVzdENvbnRyb2xsZXIucHJvdG90eXBlLnNhdmVNYW5pZmVzdFdpdGhDaG9zZW5SZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zLCBkb3dubG9hZEZvbGRlcikge1xuICBjb25zdCBsb2NhbFBhdGggPSBkb3dubG9hZEZvbGRlcjtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgY29uc3QgbWFuaWZlc3QgPSBzZWxmLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgICBpZiAoIW1hbmlmZXN0KSB7XG4gICAgICByZWplY3QodHJhbnNsYXRpb24uZ2V0RXJyb3IodHJhbnNsYXRpb24uZS5tYW5pZmVzdHMuTk9UX0ZPVU5ELCBtYW5pZmVzdElkKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGxldCBtYW5pZmVzdFN0cmluZztcbiAgICB0cnkge1xuICAgICAgbWFuaWZlc3RTdHJpbmcgPSBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnMobWFuaWZlc3QsIHJlcHJlc2VudGF0aW9ucyk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2F2ZUZpbGUobG9jYWxQYXRoLCBtYW5pZmVzdC5nZXRNYW5pZmVzdE5hbWUoKSwgbWFuaWZlc3RTdHJpbmcsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNvbHZlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBNYW5pZmVzdENvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsiWE1MU2VyaWFsaXplciIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsInBhcnNlTWFuaWZlc3RXaXRoQ2hvb3NlblJlcHJlc2VudGF0aW9ucyIsImRvd25sb2FkRmlsZVV0aWwiLCJzYXZlRmlsZSIsInRyYW5zbGF0aW9uIiwiTWFuaWZlc3RDb250cm9sbGVyIiwiX21hbmlmZXN0cyIsInByb3RvdHlwZSIsImNhY2hlTWFuaWZlc3QiLCJtYW5pZmVzdCIsImlkIiwiZ2V0TWFuaWZlc3RzIiwibWFuaWZlc3RJZHMiLCJzZWxlY3RlZE1hbmlmZXN0cyIsIlN0cmluZyIsImkiLCJqIiwibGVuZ3RoIiwicHVzaCIsImdldE1hbmlmZXN0QnlJZCIsIm1hbmlmZXN0SWQiLCJnZXRNYW5pZmVzdHNJbmZvIiwibWFuaWZlc3RzIiwiZ2V0SnNvbkluZm8iLCJnZXRPcmlnaW5hbE1hbmlmZXN0TG9jYWxQYXRoIiwiZ2V0U2V0dGluZ3MiLCJzZXR0aW5nc0ZvbGRlciIsImdldE1hbmlmZXN0SW5mb0J5SWQiLCJyZW1vdmVGcm9tQ2FjaGUiLCJyZW1vdmVGcm9tQ2FjaGVBbGwiLCJzYXZlT3JpZ2luYWxNYW5pZmVzdE9uY2VPbmx5IiwibG9jYWxQYXRoIiwic2VsZiIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZ2V0RXJyb3IiLCJlIiwiTk9UX0ZPVU5EIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJnZXRNYW5pZmVzdE5hbWUiLCJleGlzdHMiLCJ4bWxTZXJpYWxpemVyIiwibWFuaWZlc3RTdHJpbmciLCJzZXJpYWxpemVUb1N0cmluZyIsImdldE1hbmlmZXN0WE1MIiwiZXJyIiwic2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyIsInJlcHJlc2VudGF0aW9ucyIsImRvd25sb2FkRm9sZGVyIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///42\n')},7094:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar path = __webpack_require__(1017);\nvar getSize = __webpack_require__(6838);\nvar rmdir = __webpack_require__(6951);\nvar appSettings = __webpack_require__(9277);\nvar ReadItem = __webpack_require__(3812);\nvar dirList = __webpack_require__(8494);\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\nvar STATUSES = __webpack_require__(8255);\n\n/**\n *\n * @param {ManifestController} manifestController - reference to existing manifest controller\n * @constructor\n */\nfunction OfflineController(manifestController) {\n  this._manifestController = manifestController;\n}\n\n/**\n *\n * @param {Function} callback - function to be called when list is ready\n * @returns {void}\n */\nOfflineController.prototype.getManifestsList = function (callback) {\n  dirList(appSettings.getSettings().settingsFolder, true, false).then(function (settingsFolderList) {\n    var manifestList = [];\n    for (var i = 0, j = settingsFolderList.length; i < j; i++) {\n      manifestList.push(settingsFolderList[i]);\n    }\n    callback(null, manifestList);\n  }, function (err) {\n    callback(err);\n  });\n};\n\n/**\n *\n * @param {Function} callback - function to be called when list with info is ready\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {void}\n */\nOfflineController.prototype.getManifestsListWithInfo = function (callback, full) {\n  var self = this;\n  this.getManifestsList(function (err, list) {\n    if (err) {\n      callback(err);\n    } else {\n      var infoP = [];\n      for (var i = 0, j = list.length; i < j; i++) {\n        infoP.push(self.getManifestInfoPromise(list[i], full));\n      }\n      Promise.all(infoP).then(function (results) {\n        var newResults = [];\n        for (var _i = 0, _j = results.length; _i < _j; _i++) {\n          if (results[_i]) {\n            newResults.push(results[_i]);\n          }\n        }\n        callback(null, newResults);\n      }, function (promisesError) {\n        callback(promisesError);\n      });\n    }\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - function to be called when info for manifest is ready\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {void}\n */\nOfflineController.prototype.getManifestInfo = function (manifestId, callback, full) {\n  var self = this;\n  function addManifestInfoAndContinue(info) {\n    var manifestName = info.manifest.name;\n    var manifestUrl = info.manifest.url;\n    var manifestLocalUrl = path.resolve(appSettings.getSettings().settingsFolder + "/" + manifestId + "/" + manifestName);\n    var manifest = self._manifestController.getManifestById(manifestId);\n    if (manifest) {\n      info.manifestInfo = manifest.getJsonInfo();\n      callback(null, info);\n    } else {\n      manifest = new Manifest(manifestId);\n      manifest.loadFromLocal(manifestLocalUrl, manifestUrl).then(function () {\n        self._manifestController.cacheManifest(manifest);\n        info.manifestInfo = manifest.getJsonInfo();\n        callback(null, info);\n      }, function (err) {\n        if (err && err.code === "ENOENT") {\n          callback();\n        } else {\n          callback(err);\n        }\n      });\n    }\n  }\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST), new ReadItem(manifestId, appSettings.getSettings().stores.DOWNLOADS.DOWNLOADED), new ReadItem(manifestId, appSettings.getSettings().stores.STATUS), new ReadItem(manifestId, appSettings.getSettings().stores.PERSISTENT), new ReadItem(manifestId, appSettings.getSettings().stores.DATA)]).then(function (results) {\n    var info = {};\n    var manifestSettings = results[0] || {};\n    var downloaded = results[1] || [];\n    var status = results[2] || {};\n    var persistent = results[3] || \'\';\n    var data = results[4] || \'\';\n    info.status = status.status || STATUSES.BROKEN;\n    info.details = status.details || undefined;\n    if (!self.downloadStorage.keyExists(manifestId) && info.status === STATUSES.STARTED) {\n      info.status = STATUSES.BROKEN;\n    }\n    info.manifest = manifestSettings;\n    if (info.manifest.files) {\n      info.manifest.totalFiles = info.manifest.files.length;\n      if (full === false) {\n        delete info.manifest.files;\n      }\n    }\n    info.left = status.left || 0;\n    info.persistent = persistent;\n    info.downloaded = downloaded.length;\n    if (full) {\n      info.downloadedFiles = downloaded;\n    }\n    info.data = data;\n    addManifestInfoAndContinue(info);\n  }, callback);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - function to be called when info for manifest is ready\n * @returns {void}\n */\nOfflineController.prototype.getManifestFolderInfo = function (manifestId, callback) {\n  Promise.all([new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST)]).then(function (results) {\n    var info = {};\n    var manifestSettings = results[0] || {};\n    var downloadFolder = manifestSettings.folder;\n    if (!downloadFolder) {\n      // try to serve from default download folder\n      downloadFolder = appSettings.getSettings().downloadsFolderPath;\n    }\n    var videoFolder = path.join(downloadFolder, manifestId);\n    info.folder = videoFolder;\n\n    // get size of folder\n    getSize(videoFolder, function (err, size) {\n      if (err) {\n        info.size = 0;\n      } else {\n        info.size = size;\n      }\n      callback(null, info);\n    });\n  }, callback);\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Boolean} full - if downloaded info should contain all items or only the length\n * @returns {Promise} - promise\n */\nOfflineController.prototype.getManifestInfoPromise = function (manifestId, full) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.getManifestInfo(manifestId, function (err, result) {\n      if (err) {\n        reject(err);\n      } else {\n        resolve(result);\n      }\n    }, full);\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} callback - callback with resolved info data about manifest - if such exists\n * @returns {void}\n */\nOfflineController.prototype.getManifestDataFile = function (manifestId, callback) {\n  new ReadItem(manifestId, appSettings.getSettings().stores.MANIFEST).then(function (data) {\n    callback(data);\n  }, function () {\n    callback();\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} onSuccess - callback to be invoked when remove has been successfully\n * @param {Function} onFailure - callback to be invoked when remove failed\n * @returns {void}\n */\nOfflineController.prototype.remove = function (manifestId, onSuccess, onFailure) {\n  var settingsFolder = appSettings.getSettings().settingsFolder + manifestId;\n  this.getManifestDataFile(manifestId, function (info) {\n    if (!info) {\n      // no manifest data found for manifest, the download has not been started => just remove settings\n      rmdir(settingsFolder, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(err);\n        } else {\n          onSuccess();\n        }\n      });\n    } else {\n      var folder = info.folder;\n      if (!folder) {\n        // use default download folder path\n        folder = path.resolve(appSettings.getSettings().downloadsFolderPath);\n      }\n      var downloadsFolder = folder + \'/\' + manifestId;\n      rmdir(downloadsFolder, function (err) {\n        if (err && err.code !== "ENOENT") {\n          onFailure(err);\n        } else {\n          rmdir(settingsFolder, function (err) {\n            if (err && err.code !== "ENOENT") {\n              onFailure(err);\n            } else {\n              onSuccess();\n            }\n          });\n        }\n      });\n    }\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {Promise} - promise\n */\nOfflineController.prototype.removePromise = function (manifestId) {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    self.remove(manifestId, resolve, reject);\n  });\n};\n\n/**\n *\n * @returns {Promise} - promise\n */\nOfflineController.prototype.removeAllPromise = function () {\n  var self = this;\n  return new Promise(function (resolve, reject) {\n    var settingsFolder = appSettings.getSettings().settingsFolder;\n    self.getManifestsList(function (err, list) {\n      if (err) {\n        reject(err);\n      } else {\n        var removeP = [];\n        for (var i = 0, j = list.length; i < j; i++) {\n          removeP.push(self.removePromise(list[i]));\n        }\n        Promise.all(removeP).then(function () {\n          rmdir(settingsFolder, function (err) {\n            if (err && err.code !== "ENOENT") {\n              reject(err);\n            } else {\n              resolve();\n            }\n          });\n        }, function (err) {\n          reject(err);\n        });\n      }\n    });\n  });\n};\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {Function} onSuccess - callback to be invoked when restore has been successfully\n * @param {Function} onFailure - callback to be invoked when restore failed\n * @returns {void}\n */\nOfflineController.prototype.restoreLocalManifest = function (manifestId, onSuccess, onFailure) {\n  var self = this;\n  this.getManifestInfo(manifestId, function (err, info) {\n    var representations = {};\n    representations.video = info.manifest.video;\n    representations.audio = info.manifest.audio;\n    representations.text = info.manifest.text;\n    self._manifestController.saveManifestWithChosenRepresentations(manifestId, representations).then(onSuccess, onFailure);\n  });\n};\n\n/**\n *\n * @param {DownloadsStorageController} storage - downloads storage controller\n * @returns {void}\n */\nOfflineController.prototype.setDownloadStorage = function (storage) {\n  this.downloadStorage = storage;\n};\nmodule.exports = OfflineController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksQ0FBQ3FFLFNBQVMsRUFBRUMsU0FBUyxDQUFDO0VBQy9CLENBQUMsQ0FBQztBQUNKLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOUUsaUJBQWlCLENBQUNHLFNBQVMsQ0FBQ3NGLGtCQUFrQixHQUFHLFVBQVVDLE9BQU8sRUFBRTtFQUNsRSxJQUFJLENBQUMvQixlQUFlLEdBQUcrQixPQUFPO0FBQ2hDLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUc1RixpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL29mZmxpbmUtY29udHJvbGxlci5qcz9lNmJmIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuY29uc3QgZ2V0U2l6ZSA9IHJlcXVpcmUoXCJnZXQtZm9sZGVyLXNpemVcIik7XG5jb25zdCBybWRpciA9IHJlcXVpcmUoXCIuLi91dGlsL3JlbW92ZS1kaXJcIik7XG5cbmNvbnN0IGFwcFNldHRpbmdzID0gcmVxdWlyZShcIi4uL2FwcC1zZXR0aW5nc1wiKTtcbmNvbnN0IFJlYWRJdGVtID0gcmVxdWlyZShcIi4uL2Rvd25sb2Fkcy9yZWFkLWl0ZW1cIik7XG5jb25zdCBkaXJMaXN0ID0gcmVxdWlyZShcIi4uL3V0aWwvZGlyLWxpc3RcIik7XG5jb25zdCBNYW5pZmVzdCA9IHJlcXVpcmUoXCIuLi9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3RcIikuTWFuaWZlc3Q7XG5jb25zdCBTVEFUVVNFUyA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvc3RhdHVzZXNcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7TWFuaWZlc3RDb250cm9sbGVyfSBtYW5pZmVzdENvbnRyb2xsZXIgLSByZWZlcmVuY2UgdG8gZXhpc3RpbmcgbWFuaWZlc3QgY29udHJvbGxlclxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE9mZmxpbmVDb250cm9sbGVyIChtYW5pZmVzdENvbnRyb2xsZXIpIHtcbiAgdGhpcy5fbWFuaWZlc3RDb250cm9sbGVyID0gbWFuaWZlc3RDb250cm9sbGVyO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGZ1bmN0aW9uIHRvIGJlIGNhbGxlZCB3aGVuIGxpc3QgaXMgcmVhZHlcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzTGlzdCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBkaXJMaXN0KGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIsIHRydWUsIGZhbHNlKVxuICAgIC50aGVuKGZ1bmN0aW9uIChzZXR0aW5nc0ZvbGRlckxpc3QpIHtcbiAgICAgIGxldCBtYW5pZmVzdExpc3QgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gc2V0dGluZ3NGb2xkZXJMaXN0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBtYW5pZmVzdExpc3QucHVzaChzZXR0aW5nc0ZvbGRlckxpc3RbaV0pO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgbWFuaWZlc3RMaXN0KTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBsaXN0IHdpdGggaW5mbyBpcyByZWFkeVxuICogQHBhcmFtIHtCb29sZWFufSBmdWxsIC0gaWYgZG93bmxvYWRlZCBpbmZvIHNob3VsZCBjb250YWluIGFsbCBpdGVtcyBvciBvbmx5IHRoZSBsZW5ndGhcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RzTGlzdFdpdGhJbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrLCBmdWxsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLmdldE1hbmlmZXN0c0xpc3QoZnVuY3Rpb24gKGVyciwgbGlzdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBpbmZvUCA9IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBsaXN0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBpbmZvUC5wdXNoKHNlbGYuZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZShsaXN0W2ldLCBmdWxsKSlcbiAgICAgIH1cbiAgICAgIFByb21pc2UuYWxsKGluZm9QKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIGxldCBuZXdSZXN1bHRzID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBqID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICBpZiAocmVzdWx0c1tpXSkge1xuICAgICAgICAgICAgbmV3UmVzdWx0cy5wdXNoKHJlc3VsdHNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYWxsYmFjayhudWxsLCBuZXdSZXN1bHRzKTtcbiAgICAgIH0sIGZ1bmN0aW9uIChwcm9taXNlc0Vycm9yKSB7XG4gICAgICAgIGNhbGxiYWNrKHByb21pc2VzRXJyb3IpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBpbmZvIGZvciBtYW5pZmVzdCBpcyByZWFkeVxuICogQHBhcmFtIHtCb29sZWFufSBmdWxsIC0gaWYgZG93bmxvYWRlZCBpbmZvIHNob3VsZCBjb250YWluIGFsbCBpdGVtcyBvciBvbmx5IHRoZSBsZW5ndGhcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJbmZvID0gZnVuY3Rpb24gKG1hbmlmZXN0SWQsIGNhbGxiYWNrLCBmdWxsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGFkZE1hbmlmZXN0SW5mb0FuZENvbnRpbnVlIChpbmZvKSB7XG4gICAgY29uc3QgbWFuaWZlc3ROYW1lID0gaW5mby5tYW5pZmVzdC5uYW1lO1xuICAgIGNvbnN0IG1hbmlmZXN0VXJsID0gaW5mby5tYW5pZmVzdC51cmw7XG4gICAgY29uc3QgbWFuaWZlc3RMb2NhbFVybCA9IHBhdGgucmVzb2x2ZShhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyICsgXCIvXCIgKyBtYW5pZmVzdElkICsgXCIvXCIgKyBtYW5pZmVzdE5hbWUpO1xuXG4gICAgbGV0IG1hbmlmZXN0ID0gc2VsZi5fbWFuaWZlc3RDb250cm9sbGVyLmdldE1hbmlmZXN0QnlJZChtYW5pZmVzdElkKTtcbiAgICBpZiAobWFuaWZlc3QpIHtcbiAgICAgIGluZm8ubWFuaWZlc3RJbmZvID0gbWFuaWZlc3QuZ2V0SnNvbkluZm8oKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICAgIH0gZWxzZSB7XG4gICAgICBtYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChtYW5pZmVzdElkKTtcbiAgICAgIG1hbmlmZXN0LmxvYWRGcm9tTG9jYWwobWFuaWZlc3RMb2NhbFVybCwgbWFuaWZlc3RVcmwpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9tYW5pZmVzdENvbnRyb2xsZXIuY2FjaGVNYW5pZmVzdChtYW5pZmVzdCk7XG4gICAgICAgIGluZm8ubWFuaWZlc3RJbmZvID0gbWFuaWZlc3QuZ2V0SnNvbkluZm8oKTtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgPT09IFwiRU5PRU5UXCIpIHtcbiAgICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIFByb21pc2UuYWxsKFtcbiAgICBuZXcgUmVhZEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuTUFOSUZFU1QpLFxuICAgIG5ldyBSZWFkSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5ET1dOTE9BRFMuRE9XTkxPQURFRCksXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLlNUQVRVUyksXG4gICAgbmV3IFJlYWRJdGVtKG1hbmlmZXN0SWQsIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc3RvcmVzLlBFUlNJU1RFTlQpLFxuICAgIG5ldyBSZWFkSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5EQVRBKSxcbiAgXSkudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgIGxldCBpbmZvID0ge307XG4gICAgY29uc3QgbWFuaWZlc3RTZXR0aW5ncyA9IHJlc3VsdHNbMF0gfHwge307XG5cbiAgICBjb25zdCBkb3dubG9hZGVkID0gcmVzdWx0c1sxXSB8fCBbXTtcbiAgICBjb25zdCBzdGF0dXMgPSByZXN1bHRzWzJdIHx8IHt9O1xuICAgIGNvbnN0IHBlcnNpc3RlbnQgPSByZXN1bHRzWzNdIHx8ICcnO1xuICAgIGNvbnN0IGRhdGEgPSByZXN1bHRzWzRdIHx8ICcnO1xuXG4gICAgaW5mby5zdGF0dXMgPSBzdGF0dXMuc3RhdHVzIHx8IFNUQVRVU0VTLkJST0tFTjtcbiAgICBpbmZvLmRldGFpbHMgPSBzdGF0dXMuZGV0YWlscyB8fCB1bmRlZmluZWQ7XG4gICAgaWYgKCFzZWxmLmRvd25sb2FkU3RvcmFnZS5rZXlFeGlzdHMobWFuaWZlc3RJZCkgJiYgaW5mby5zdGF0dXMgPT09IFNUQVRVU0VTLlNUQVJURUQpIHtcbiAgICAgIGluZm8uc3RhdHVzID0gU1RBVFVTRVMuQlJPS0VOO1xuICAgIH1cbiAgICBpbmZvLm1hbmlmZXN0ID0gbWFuaWZlc3RTZXR0aW5ncztcbiAgICBpZiAoaW5mby5tYW5pZmVzdC5maWxlcykge1xuICAgICAgaW5mby5tYW5pZmVzdC50b3RhbEZpbGVzID0gaW5mby5tYW5pZmVzdC5maWxlcy5sZW5ndGg7XG4gICAgICBpZiAoZnVsbCA9PT0gZmFsc2UpIHtcbiAgICAgICAgZGVsZXRlIGluZm8ubWFuaWZlc3QuZmlsZXM7XG4gICAgICB9XG4gICAgfVxuICAgIGluZm8ubGVmdCA9IHN0YXR1cy5sZWZ0IHx8IDA7XG4gICAgaW5mby5wZXJzaXN0ZW50ID0gcGVyc2lzdGVudDtcbiAgICBpbmZvLmRvd25sb2FkZWQgPSBkb3dubG9hZGVkLmxlbmd0aDtcbiAgICBpZiAoZnVsbCkge1xuICAgICAgaW5mby5kb3dubG9hZGVkRmlsZXMgPSBkb3dubG9hZGVkO1xuICAgIH1cbiAgICBpbmZvLmRhdGEgPSBkYXRhO1xuICAgIGFkZE1hbmlmZXN0SW5mb0FuZENvbnRpbnVlKGluZm8pO1xuXG4gIH0sIGNhbGxiYWNrKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgaWRlbnRpZmllclxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBmdW5jdGlvbiB0byBiZSBjYWxsZWQgd2hlbiBpbmZvIGZvciBtYW5pZmVzdCBpcyByZWFkeVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk9mZmxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5nZXRNYW5pZmVzdEZvbGRlckluZm8gPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgY2FsbGJhY2spIHtcbiAgUHJvbWlzZS5hbGwoW1xuICAgIG5ldyBSZWFkSXRlbShtYW5pZmVzdElkLCBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnN0b3Jlcy5NQU5JRkVTVCksXG4gIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICBsZXQgaW5mbyA9IHt9O1xuICAgIGNvbnN0IG1hbmlmZXN0U2V0dGluZ3MgPSByZXN1bHRzWzBdIHx8IHt9O1xuXG4gICAgbGV0IGRvd25sb2FkRm9sZGVyID0gbWFuaWZlc3RTZXR0aW5ncy5mb2xkZXI7XG4gICAgaWYgKCFkb3dubG9hZEZvbGRlcikge1xuICAgICAgLy8gdHJ5IHRvIHNlcnZlIGZyb20gZGVmYXVsdCBkb3dubG9hZCBmb2xkZXJcbiAgICAgIGRvd25sb2FkRm9sZGVyID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZHNGb2xkZXJQYXRoXG4gICAgfVxuICAgIGxldCB2aWRlb0ZvbGRlciA9IHBhdGguam9pbihkb3dubG9hZEZvbGRlciwgbWFuaWZlc3RJZCk7XG5cbiAgICBpbmZvLmZvbGRlciA9IHZpZGVvRm9sZGVyO1xuXG4gICAgLy8gZ2V0IHNpemUgb2YgZm9sZGVyXG4gICAgZ2V0U2l6ZSh2aWRlb0ZvbGRlciwgKGVyciwgc2l6ZSkgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBpbmZvLnNpemUgPSAwXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbmZvLnNpemUgPSBzaXplO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSk7XG5cbiAgfSwgY2FsbGJhY2spO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0Jvb2xlYW59IGZ1bGwgLSBpZiBkb3dubG9hZGVkIGluZm8gc2hvdWxkIGNvbnRhaW4gYWxsIGl0ZW1zIG9yIG9ubHkgdGhlIGxlbmd0aFxuICogQHJldHVybnMge1Byb21pc2V9IC0gcHJvbWlzZVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBmdWxsKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHNlbGYuZ2V0TWFuaWZlc3RJbmZvKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgfVxuICAgIH0sIGZ1bGwpXG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIHdpdGggcmVzb2x2ZWQgaW5mbyBkYXRhIGFib3V0IG1hbmlmZXN0IC0gaWYgc3VjaCBleGlzdHNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5PZmZsaW5lQ29udHJvbGxlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3REYXRhRmlsZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBjYWxsYmFjaykge1xuICBuZXcgUmVhZEl0ZW0obWFuaWZlc3RJZCwgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zdG9yZXMuTUFOSUZFU1QpLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBjYWxsYmFjayhkYXRhKTtcbiAgfSwgZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uU3VjY2VzcyAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiByZW1vdmUgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvbkZhaWx1cmUgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gcmVtb3ZlIGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk9mZmxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgb25TdWNjZXNzLCBvbkZhaWx1cmUpIHtcbiAgY29uc3Qgc2V0dGluZ3NGb2xkZXIgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyICsgbWFuaWZlc3RJZDtcbiAgdGhpcy5nZXRNYW5pZmVzdERhdGFGaWxlKG1hbmlmZXN0SWQsIGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgaWYgKCFpbmZvKSB7XG4gICAgICAvLyBubyBtYW5pZmVzdCBkYXRhIGZvdW5kIGZvciBtYW5pZmVzdCwgdGhlIGRvd25sb2FkIGhhcyBub3QgYmVlbiBzdGFydGVkID0+IGp1c3QgcmVtb3ZlIHNldHRpbmdzXG4gICAgICBybWRpcihzZXR0aW5nc0ZvbGRlciwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyICYmIGVyci5jb2RlICE9PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgb25GYWlsdXJlKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb25TdWNjZXNzKCk7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBmb2xkZXIgPSBpbmZvLmZvbGRlcjtcbiAgICAgIGlmICghZm9sZGVyKSB7XG4gICAgICAgIC8vIHVzZSBkZWZhdWx0IGRvd25sb2FkIGZvbGRlciBwYXRoXG4gICAgICAgIGZvbGRlciA9IHBhdGgucmVzb2x2ZShhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvd25sb2Fkc0ZvbGRlclBhdGgpO1xuICAgICAgfVxuICAgICAgY29uc3QgZG93bmxvYWRzRm9sZGVyID0gZm9sZGVyICsgJy8nICsgbWFuaWZlc3RJZDtcbiAgICAgIHJtZGlyKGRvd25sb2Fkc0ZvbGRlciwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyICYmIGVyci5jb2RlICE9PSBcIkVOT0VOVFwiKSB7XG4gICAgICAgICAgb25GYWlsdXJlKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcm1kaXIoc2V0dGluZ3NGb2xkZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09IFwiRU5PRU5UXCIpIHtcbiAgICAgICAgICAgICAgb25GYWlsdXJlKGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBvblN1Y2Nlc3MoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZVByb21pc2UgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBzZWxmLnJlbW92ZShtYW5pZmVzdElkLCByZXNvbHZlLCByZWplY3QpO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSAtIHByb21pc2VcbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLnJlbW92ZUFsbFByb21pc2UgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGNvbnN0IHNldHRpbmdzRm9sZGVyID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zZXR0aW5nc0ZvbGRlcjtcblxuICAgIHNlbGYuZ2V0TWFuaWZlc3RzTGlzdChmdW5jdGlvbiAoZXJyLCBsaXN0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IHJlbW92ZVAgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBsaXN0Lmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIHJlbW92ZVAucHVzaChzZWxmLnJlbW92ZVByb21pc2UobGlzdFtpXSkpXG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwocmVtb3ZlUCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcm1kaXIoc2V0dGluZ3NGb2xkZXIsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmIChlcnIgJiYgZXJyLmNvZGUgIT09IFwiRU5PRU5UXCIpIHtcbiAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59O1xuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvblN1Y2Nlc3MgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gcmVzdG9yZSBoYXMgYmVlbiBzdWNjZXNzZnVsbHlcbiAqIEBwYXJhbSB7RnVuY3Rpb259IG9uRmFpbHVyZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiByZXN0b3JlIGZhaWxlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbk9mZmxpbmVDb250cm9sbGVyLnByb3RvdHlwZS5yZXN0b3JlTG9jYWxNYW5pZmVzdCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkLCBvblN1Y2Nlc3MsIG9uRmFpbHVyZSkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGxldCByZXByZXNlbnRhdGlvbnMgPSB7fTtcbiAgICByZXByZXNlbnRhdGlvbnMudmlkZW8gPSBpbmZvLm1hbmlmZXN0LnZpZGVvO1xuICAgIHJlcHJlc2VudGF0aW9ucy5hdWRpbyA9IGluZm8ubWFuaWZlc3QuYXVkaW87XG4gICAgcmVwcmVzZW50YXRpb25zLnRleHQgPSBpbmZvLm1hbmlmZXN0LnRleHQ7XG4gICAgc2VsZi5fbWFuaWZlc3RDb250cm9sbGVyLnNhdmVNYW5pZmVzdFdpdGhDaG9zZW5SZXByZXNlbnRhdGlvbnMobWFuaWZlc3RJZCwgcmVwcmVzZW50YXRpb25zKVxuICAgICAgLnRoZW4ob25TdWNjZXNzLCBvbkZhaWx1cmUpO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7RG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXJ9IHN0b3JhZ2UgLSBkb3dubG9hZHMgc3RvcmFnZSBjb250cm9sbGVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuT2ZmbGluZUNvbnRyb2xsZXIucHJvdG90eXBlLnNldERvd25sb2FkU3RvcmFnZSA9IGZ1bmN0aW9uIChzdG9yYWdlKSB7XG4gIHRoaXMuZG93bmxvYWRTdG9yYWdlID0gc3RvcmFnZTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gT2ZmbGluZUNvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsicGF0aCIsInJlcXVpcmUiLCJnZXRTaXplIiwicm1kaXIiLCJhcHBTZXR0aW5ncyIsIlJlYWRJdGVtIiwiZGlyTGlzdCIsIk1hbmlmZXN0IiwiU1RBVFVTRVMiLCJPZmZsaW5lQ29udHJvbGxlciIsIm1hbmlmZXN0Q29udHJvbGxlciIsIl9tYW5pZmVzdENvbnRyb2xsZXIiLCJwcm90b3R5cGUiLCJnZXRNYW5pZmVzdHNMaXN0IiwiY2FsbGJhY2siLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwidGhlbiIsInNldHRpbmdzRm9sZGVyTGlzdCIsIm1hbmlmZXN0TGlzdCIsImkiLCJqIiwibGVuZ3RoIiwicHVzaCIsImVyciIsImdldE1hbmlmZXN0c0xpc3RXaXRoSW5mbyIsImZ1bGwiLCJzZWxmIiwibGlzdCIsImluZm9QIiwiZ2V0TWFuaWZlc3RJbmZvUHJvbWlzZSIsIlByb21pc2UiLCJhbGwiLCJyZXN1bHRzIiwibmV3UmVzdWx0cyIsInByb21pc2VzRXJyb3IiLCJnZXRNYW5pZmVzdEluZm8iLCJtYW5pZmVzdElkIiwiYWRkTWFuaWZlc3RJbmZvQW5kQ29udGludWUiLCJpbmZvIiwibWFuaWZlc3ROYW1lIiwibWFuaWZlc3QiLCJuYW1lIiwibWFuaWZlc3RVcmwiLCJ1cmwiLCJtYW5pZmVzdExvY2FsVXJsIiwicmVzb2x2ZSIsImdldE1hbmlmZXN0QnlJZCIsIm1hbmlmZXN0SW5mbyIsImdldEpzb25JbmZvIiwibG9hZEZyb21Mb2NhbCIsImNhY2hlTWFuaWZlc3QiLCJjb2RlIiwic3RvcmVzIiwiTUFOSUZFU1QiLCJET1dOTE9BRFMiLCJET1dOTE9BREVEIiwiU1RBVFVTIiwiUEVSU0lTVEVOVCIsIkRBVEEiLCJtYW5pZmVzdFNldHRpbmdzIiwiZG93bmxvYWRlZCIsInN0YXR1cyIsInBlcnNpc3RlbnQiLCJkYXRhIiwiQlJPS0VOIiwiZGV0YWlscyIsInVuZGVmaW5lZCIsImRvd25sb2FkU3RvcmFnZSIsImtleUV4aXN0cyIsIlNUQVJURUQiLCJmaWxlcyIsInRvdGFsRmlsZXMiLCJsZWZ0IiwiZG93bmxvYWRlZEZpbGVzIiwiZ2V0TWFuaWZlc3RGb2xkZXJJbmZvIiwiZG93bmxvYWRGb2xkZXIiLCJmb2xkZXIiLCJkb3dubG9hZHNGb2xkZXJQYXRoIiwidmlkZW9Gb2xkZXIiLCJqb2luIiwic2l6ZSIsInJlamVjdCIsInJlc3VsdCIsImdldE1hbmlmZXN0RGF0YUZpbGUiLCJyZW1vdmUiLCJvblN1Y2Nlc3MiLCJvbkZhaWx1cmUiLCJkb3dubG9hZHNGb2xkZXIiLCJyZW1vdmVQcm9taXNlIiwicmVtb3ZlQWxsUHJvbWlzZSIsInJlbW92ZVAiLCJyZXN0b3JlTG9jYWxNYW5pZmVzdCIsInJlcHJlc2VudGF0aW9ucyIsInZpZGVvIiwiYXVkaW8iLCJ0ZXh0Iiwic2F2ZU1hbmlmZXN0V2l0aENob3NlblJlcHJlc2VudGF0aW9ucyIsInNldERvd25sb2FkU3RvcmFnZSIsInN0b3JhZ2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7094\n')},9256:module=>{"use strict";eval('\n\n/**\n *\n * @constructor\n */\nfunction SubscribersController() {\n  this._subscribers = {};\n}\n\n/**\n *\n * @param {Subscriber} subscriber - subscriber\n * @returns {void}\n */\nSubscribersController.prototype.addSubscriber = function (subscriber) {\n  var id = subscriber.getId();\n  this._subscribers[id] = subscriber;\n  return id;\n};\n\n/**\n *\n * @param {Array|String} subscribersId - subscriber identifier\n * @returns {void}\n */\nSubscribersController.prototype.removeSubscribersById = function (subscribersId) {\n  if (typeof subscribersId === "string") {\n    subscribersId = [subscribersId];\n  }\n  for (var i = 0, j = subscribersId.length; i < j; i++) {\n    if (this._subscribers[subscribersId[i]]) {\n      this._subscribers[subscribersId[i]].remove();\n      delete this._subscribers[subscribersId[i]];\n    }\n  }\n};\n\n/**\n *\n * Remove all subscribers for certain manifest based on any subscriberId that belongs to this manifest\n * @param {Array|String} subscriberId - subscriber identifier\n * @returns {void}\n */\nSubscribersController.prototype.removeAllManifestSubscribersById = function (subscriberId) {\n  var subscriber = subscriberId && this._subscribers[subscriberId];\n  if (subscriber) {\n    this.unsubscribe(subscriber.getManifestId());\n  }\n};\n\n/**\n *\n * @param {Array|String} manifestIds - manifest or manifests identifier\n * @returns {void}\n */\nSubscribersController.prototype.unsubscribe = function (manifestIds) {\n  var subscribersId = [];\n  var manifestIdsHash = {};\n  if (typeof manifestIds === "string") {\n    manifestIds = [manifestIds];\n  }\n  manifestIds = manifestIds || [];\n  for (var i = 0, j = manifestIds.length; i < j; i++) {\n    manifestIdsHash[manifestIds[i]] = true;\n  }\n  for (var key in this._subscribers) {\n    if (this._subscribers.hasOwnProperty(key)) {\n      if (manifestIdsHash[this._subscribers[key].getManifestId()]) {\n        subscribersId.push(key);\n      }\n    }\n  }\n  this.removeSubscribersById(subscribersId);\n};\n\n/**\n * @returns {void}\n */\nSubscribersController.prototype.unsubscribeAll = function () {\n  for (var key in this._subscribers) {\n    if (this._subscribers.hasOwnProperty(key)) {\n      this._subscribers[key].remove();\n    }\n  }\n  this._subscribers = {};\n};\nmodule.exports = SubscribersController;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXFCLENBQUNFLFNBQVMsQ0FBQ29CLGNBQWMsR0FBRyxZQUFZO0VBQzNELEtBQUssSUFBSUgsR0FBRyxJQUFJLElBQUksQ0FBQ2xCLFlBQVksRUFBRTtJQUNqQyxJQUFJLElBQUksQ0FBQ0EsWUFBWSxDQUFDbUIsY0FBYyxDQUFDRCxHQUFHLENBQUMsRUFBRTtNQUN6QyxJQUFJLENBQUNsQixZQUFZLENBQUNrQixHQUFHLENBQUMsQ0FBQ1AsTUFBTSxFQUFFO0lBQ2pDO0VBQ0Y7RUFDQSxJQUFJLENBQUNYLFlBQVksR0FBRyxDQUFDLENBQUM7QUFDeEIsQ0FBQztBQUVEc0IsTUFBTSxDQUFDQyxPQUFPLEdBQUd4QixxQkFBcUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2NvbnRyb2xsZXJzL3N1YnNjcmliZXJzLWNvbnRyb2xsZXIuanM/YTg0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbi8qKlxuICpcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTdWJzY3JpYmVyc0NvbnRyb2xsZXIgKCkge1xuICB0aGlzLl9zdWJzY3JpYmVycyA9IHt9O1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge1N1YnNjcmliZXJ9IHN1YnNjcmliZXIgLSBzdWJzY3JpYmVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS5hZGRTdWJzY3JpYmVyID0gZnVuY3Rpb24gKHN1YnNjcmliZXIpIHtcbiAgY29uc3QgaWQgPSBzdWJzY3JpYmVyLmdldElkKCk7XG4gIHRoaXMuX3N1YnNjcmliZXJzW2lkXSA9IHN1YnNjcmliZXI7XG4gIHJldHVybiBpZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBzdWJzY3JpYmVyc0lkIC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS5yZW1vdmVTdWJzY3JpYmVyc0J5SWQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcnNJZCkge1xuICBpZiAodHlwZW9mIHN1YnNjcmliZXJzSWQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBzdWJzY3JpYmVyc0lkID0gW3N1YnNjcmliZXJzSWRdO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBqID0gc3Vic2NyaWJlcnNJZC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAodGhpcy5fc3Vic2NyaWJlcnNbc3Vic2NyaWJlcnNJZFtpXV0pIHtcbiAgICAgIHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJzSWRbaV1dLnJlbW92ZSgpO1xuICAgICAgZGVsZXRlKHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJzSWRbaV1dKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIFJlbW92ZSBhbGwgc3Vic2NyaWJlcnMgZm9yIGNlcnRhaW4gbWFuaWZlc3QgYmFzZWQgb24gYW55IHN1YnNjcmliZXJJZCB0aGF0IGJlbG9uZ3MgdG8gdGhpcyBtYW5pZmVzdFxuICogQHBhcmFtIHtBcnJheXxTdHJpbmd9IHN1YnNjcmliZXJJZCAtIHN1YnNjcmliZXIgaWRlbnRpZmllclxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXJzQ29udHJvbGxlci5wcm90b3R5cGUucmVtb3ZlQWxsTWFuaWZlc3RTdWJzY3JpYmVyc0J5SWQgPSBmdW5jdGlvbiAoc3Vic2NyaWJlcklkKSB7XG4gIGxldCBzdWJzY3JpYmVyID0gc3Vic2NyaWJlcklkICYmIHRoaXMuX3N1YnNjcmliZXJzW3N1YnNjcmliZXJJZF07XG4gIGlmIChzdWJzY3JpYmVyKSB7XG4gICAgdGhpcy51bnN1YnNjcmliZShzdWJzY3JpYmVyLmdldE1hbmlmZXN0SWQoKSk7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7QXJyYXl8U3RyaW5nfSBtYW5pZmVzdElkcyAtIG1hbmlmZXN0IG9yIG1hbmlmZXN0cyBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3Vic2NyaWJlcnNDb250cm9sbGVyLnByb3RvdHlwZS51bnN1YnNjcmliZSA9IGZ1bmN0aW9uIChtYW5pZmVzdElkcykge1xuICBsZXQgc3Vic2NyaWJlcnNJZCA9IFtdO1xuICBsZXQgbWFuaWZlc3RJZHNIYXNoID0ge307XG4gIGlmICh0eXBlb2YgbWFuaWZlc3RJZHMgPT09IFwic3RyaW5nXCIpIHtcbiAgICBtYW5pZmVzdElkcyA9IFttYW5pZmVzdElkc107XG4gIH1cbiAgbWFuaWZlc3RJZHMgPSBtYW5pZmVzdElkcyB8fCBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdElkcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBtYW5pZmVzdElkc0hhc2hbbWFuaWZlc3RJZHNbaV1dID0gdHJ1ZTtcbiAgfVxuXG4gIGZvciAobGV0IGtleSBpbiB0aGlzLl9zdWJzY3JpYmVycykge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICBpZiAobWFuaWZlc3RJZHNIYXNoW3RoaXMuX3N1YnNjcmliZXJzW2tleV0uZ2V0TWFuaWZlc3RJZCgpXSkge1xuICAgICAgICBzdWJzY3JpYmVyc0lkLnB1c2goa2V5KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICB0aGlzLnJlbW92ZVN1YnNjcmliZXJzQnlJZChzdWJzY3JpYmVyc0lkKTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXJzQ29udHJvbGxlci5wcm90b3R5cGUudW5zdWJzY3JpYmVBbGwgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGtleSBpbiB0aGlzLl9zdWJzY3JpYmVycykge1xuICAgIGlmICh0aGlzLl9zdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICB0aGlzLl9zdWJzY3JpYmVyc1trZXldLnJlbW92ZSgpO1xuICAgIH1cbiAgfVxuICB0aGlzLl9zdWJzY3JpYmVycyA9IHt9O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBTdWJzY3JpYmVyc0NvbnRyb2xsZXI7XG4iXSwibmFtZXMiOlsiU3Vic2NyaWJlcnNDb250cm9sbGVyIiwiX3N1YnNjcmliZXJzIiwicHJvdG90eXBlIiwiYWRkU3Vic2NyaWJlciIsInN1YnNjcmliZXIiLCJpZCIsImdldElkIiwicmVtb3ZlU3Vic2NyaWJlcnNCeUlkIiwic3Vic2NyaWJlcnNJZCIsImkiLCJqIiwibGVuZ3RoIiwicmVtb3ZlIiwicmVtb3ZlQWxsTWFuaWZlc3RTdWJzY3JpYmVyc0J5SWQiLCJzdWJzY3JpYmVySWQiLCJ1bnN1YnNjcmliZSIsImdldE1hbmlmZXN0SWQiLCJtYW5pZmVzdElkcyIsIm1hbmlmZXN0SWRzSGFzaCIsImtleSIsImhhc093blByb3BlcnR5IiwicHVzaCIsInVuc3Vic2NyaWJlQWxsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9256\n')},6999:module=>{"use strict";eval("\n\nvar codes = {\n  GENERAL: -1,\n  ERRORS: {\n    INTERNAL_ERROR: 1,\n    BROKEN: 11,\n    FINISHED: 12,\n    UNFINISHED: 13,\n    STOPPED: 14,\n    CREATED: 15,\n    MISSING: 16,\n    RESUMED: 17,\n    STARTED: 18,\n    LOADING: 19,\n    REMOVED: 20,\n    INFO: 21,\n    EXISTS: 22,\n    NOT_FOUND: 100\n  }\n};\nmodule.exports = codes;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjk5OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxLQUFLLEdBQUc7RUFDWkMsT0FBTyxFQUFFLENBQUMsQ0FBQztFQUNYQyxNQUFNLEVBQUU7SUFDTkMsY0FBYyxFQUFFLENBQUM7SUFDakJDLE1BQU0sRUFBRSxFQUFFO0lBQ1ZDLFFBQVEsRUFBRSxFQUFFO0lBQ1pDLFVBQVUsRUFBRSxFQUFFO0lBQ2RDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLE9BQU8sRUFBRSxFQUFFO0lBQ1hDLElBQUksRUFBRSxFQUFFO0lBQ1JDLE1BQU0sRUFBRSxFQUFFO0lBQ1ZDLFNBQVMsRUFBRTtFQUNiO0FBQ0YsQ0FBQztBQUNEQyxNQUFNLENBQUNDLE9BQU8sR0FBR2xCLEtBQUsiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25sb2Fkcy9jb2Rlcy5qcz84ZWMwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgY29kZXMgPSB7XG4gIEdFTkVSQUw6IC0xLFxuICBFUlJPUlM6IHtcbiAgICBJTlRFUk5BTF9FUlJPUjogMSxcbiAgICBCUk9LRU46IDExLFxuICAgIEZJTklTSEVEOiAxMixcbiAgICBVTkZJTklTSEVEOiAxMyxcbiAgICBTVE9QUEVEOiAxNCxcbiAgICBDUkVBVEVEOiAxNSxcbiAgICBNSVNTSU5HOiAxNixcbiAgICBSRVNVTUVEOiAxNyxcbiAgICBTVEFSVEVEOiAxOCxcbiAgICBMT0FESU5HOiAxOSxcbiAgICBSRU1PVkVEOiAyMCxcbiAgICBJTkZPOiAyMSxcbiAgICBFWElTVFM6IDIyLFxuICAgIE5PVF9GT1VORDogMTAwLFxuICB9XG59O1xubW9kdWxlLmV4cG9ydHMgPSBjb2RlcztcblxuIl0sIm5hbWVzIjpbImNvZGVzIiwiR0VORVJBTCIsIkVSUk9SUyIsIklOVEVSTkFMX0VSUk9SIiwiQlJPS0VOIiwiRklOSVNIRUQiLCJVTkZJTklTSEVEIiwiU1RPUFBFRCIsIkNSRUFURUQiLCJNSVNTSU5HIiwiUkVTVU1FRCIsIlNUQVJURUQiLCJMT0FESU5HIiwiUkVNT1ZFRCIsIklORk8iLCJFWElTVFMiLCJOT1RfRk9VTkQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6999\n")},6006:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var downloadFileUtil = __webpack_require__(2777);\nvar fs = __webpack_require__(7147);\nvar _require = __webpack_require__(7194),\n  net = _require.net;\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\n\n/**\n *\n * @param {string} url - url\n * @param {object} options - options\n * @returns {Chunk} - chunk object\n * @constructor\n */\nfunction Chunk(url, options) {\n  var self = this;\n  this.url = url;\n  this.options = options;\n  this.endPosition = options.endPosition;\n  this.startPosition = options.startPosition;\n  this.bytesRangeNotAvailable = options.bytesRangeNotAvailable;\n  this.reset();\n  this.events = new EventEmitter();\n  this._promise = new Promise(function (resolve, reject) {\n    self.resolve = resolve;\n    self.reject = reject;\n  });\n  return this;\n}\nChunk.prototype._retry = function (errorType, callback) {\n  var self = this;\n  var maxDownloadRetry;\n  this._errors = this._errors || {};\n  this._errors[errorType] = this._errors[errorType] || 0;\n  this._errors[errorType]++;\n  if (errorType === downloadFileUtil.errors.INTERNET) {\n    maxDownloadRetry = this.options.maxDownloadInternetRetry;\n  } else {\n    maxDownloadRetry = this.options.maxDownloadRetry;\n  }\n  if (this._errors[errorType] <= maxDownloadRetry) {\n    if (self._timer) {\n      clearTimeout(self._timer);\n    }\n    callback(true);\n    self._timer = setTimeout(function () {\n      // console.log("retrying chunk", errorType, self.destFile);\n      self.reset(function () {\n        self.start();\n      });\n    }, self.options.retryTimeout);\n  } else {\n    // console.log("not retrying chunk", errorType, self._errors[errorType]);\n    callback(false);\n  }\n};\nChunk.prototype.createFileStream = function (callback) {\n  var self = this;\n  if (!this.fileStream) {\n    var destFile = this.options.destFile;\n    if (this.options.multiChunks) {\n      destFile = destFile + "." + this.startPosition + "." + this.endPosition;\n    }\n    downloadFileUtil.checkForLocalFile(destFile, function (resumeFile, fileSize) {\n      self.destFile = destFile;\n      if (resumeFile) {\n        if (fileSize <= self.endPosition - self.startPosition) {\n          self.resumeFile = resumeFile;\n          self.available = fileSize;\n          self.offsetStartPosition = fileSize;\n        }\n      }\n      self.fileStream = fs.createWriteStream(destFile, {\n        flags: self.resumeFile ? "a" : "w"\n      });\n      self.fileStream.on("error", callback);\n      self.fileStream.on("open", function () {\n        // for unknown reason from time to time the file descriptor of self.fileStream is null\n        // when event \'open\' is fired then the file descriptor is not a null anymore\n        // this should fix a problem with EBADF error\n        // a bug in fs ?\n        self.fileStream = this;\n        this.removeListener("error", callback);\n        this.on("error", function (error) {\n          if (error.code === "ENOSPC") {\n            // no space left on disk, do not retry downloading\n            self.resolve(downloadFileUtil.errors.NO_SPACE_LEFT_ERROR, error);\n          } else {\n            self._retry(downloadFileUtil.errors.FILE_WRITING_ERROR, function (retried) {\n              if (!retried) {\n                self.resolve(downloadFileUtil.errors.FILE_WRITING_ERROR, error);\n              }\n            });\n          }\n        });\n        this.on("finish", function () {\n          if (!self.isDownloaded()) {\n            self._retry(downloadFileUtil.errors.CHUNK_SIZE_ERROR, function (retried) {\n              if (!retried) {\n                self.closeStreamAndRequest(function () {\n                  self.resolve(downloadFileUtil.errors.CHUNK_SIZE_ERROR);\n                });\n              }\n            });\n          } else {\n            self.closeStreamAndRequest(self.resolve);\n          }\n        });\n        callback();\n      });\n    });\n  } else {\n    callback();\n  }\n};\nChunk.prototype.isDownloaded = function () {\n  return this.endPosition - this.startPosition - this.offsetStartPosition + 1 === this.downloaded;\n};\nChunk.prototype.start = function () {\n  var self = this;\n  var req_options = {\n    timeout: this.options.timeout,\n    url: this.url\n  };\n  self.createFileStream(function (err) {\n    if (err) {\n      self._retry(downloadFileUtil.errors.FILE_CREATING_ERROR, function (retried) {\n        if (!retried) {\n          self.closeStreamAndRequest(function () {\n            self.resolve(downloadFileUtil.errors.FILE_CREATING_ERROR, err);\n          });\n        }\n      });\n      return;\n    }\n    req_options.headers = req_options.headers || {};\n    if (!self.bytesRangeNotAvailable) {\n      req_options.headers.range = "bytes=" + (self.startPosition + self.offsetStartPosition) + "-" + self.endPosition;\n    }\n    self._req = net.request(req_options);\n    self._req.chunkedEncoding = self.options.useChunkedEncoding;\n    self._req.on(\'response\', function (response) {\n      response.on("error", function (error) {\n        if (error.code === "ESOCKETTIMEDOUT" || error.code === "ENOTFOUND" || error.code === "ETIMEDOUT") {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self.closeStreamAndRequest(function () {\n                self.resolve(downloadFileUtil.errors.TIMEOUT, error);\n              });\n            }\n          });\n        } else {\n          self.closeStreamAndRequest(function () {\n            self.resolve(downloadFileUtil.errors.CHUNK_ERROR);\n          });\n        }\n      });\n      response.on("data", function (data) {\n        if (response.statusCode === 200 || response.statusCode === 206) {\n          self.available += data.length;\n          self.downloaded += data.length;\n          self.events.emit("download", data.length);\n        }\n      });\n      response.pipe(self.fileStream);\n    });\n    self._req.end();\n  });\n  return this._promise;\n};\nChunk.prototype.closeStreamAndRequest = function (callback) {\n  var self = this;\n  var timer;\n  var timerTimoutMS = 300;\n  function onClose() {\n    clearTimeout(timer);\n    if (self.fileStream) {\n      self.fileStream.destroy();\n      delete self.fileStream;\n    }\n    delete self._req;\n    callback();\n  }\n  if (this._req) {\n    this._req.removeAllListeners();\n  }\n  if (this.fileStream) {\n    this.fileStream.removeAllListeners();\n  }\n  if (this._req) {\n    this._req.abort();\n    if (this._req.timeoutTimer) {\n      clearTimeout(this._req.timeoutTimer);\n      this._req.timeoutTimer = null;\n    }\n  }\n  if (this.fileStream) {\n    timer = setTimeout(function () {\n      onClose();\n    }, timerTimoutMS);\n    this.fileStream.end();\n    this.fileStream.close(onClose);\n  } else {\n    delete this._req;\n    callback();\n  }\n};\nChunk.prototype.reset = function (callback) {\n  var self = this;\n  callback = callback || function () {};\n  self.closeStreamAndRequest(function () {\n    self.offsetStartPosition = 0;\n    self.available = 0;\n    self.downloaded = 0;\n    self.writeProgress = 0;\n    self.resumeFile = false;\n    callback();\n  });\n};\nChunk.prototype.stop = function () {\n  var self = this;\n  this.reset(function () {\n    self.resolve(downloadFileUtil.errors.ABORTED);\n  });\n};\nmodule.exports = Chunk;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU0xRSxJQUFJLEdBQUcsSUFBSTtFQUNqQixJQUFJLENBQUNJLEtBQUssQ0FBQyxZQUFZO0lBQ3JCSixJQUFJLENBQUNRLE9BQU8sQ0FBQ2hCLGdCQUFnQixDQUFDd0IsTUFBTSxDQUFDMkQsT0FBTyxDQUFDO0VBQy9DLENBQUMsQ0FBQztBQUNKLENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUdoRixLQUFLIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9kb3dubG9hZHMvZG93bmxvYWQtZmlsZS1jaHVuay5qcz9iMTBhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGRvd25sb2FkRmlsZVV0aWwgPSByZXF1aXJlKFwiLi9kb3dubG9hZC1maWxlLXV0aWxcIik7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHtuZXR9ID0gcmVxdWlyZSgnZWxlY3Ryb24nKTtcbmNvbnN0IEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoXCJldmVudHNcIikuRXZlbnRFbWl0dGVyO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gdXJsXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEByZXR1cm5zIHtDaHVua30gLSBjaHVuayBvYmplY3RcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBDaHVuayAodXJsLCBvcHRpb25zKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLnVybCA9IHVybDtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5lbmRQb3NpdGlvbiA9IG9wdGlvbnMuZW5kUG9zaXRpb247XG4gIHRoaXMuc3RhcnRQb3NpdGlvbiA9IG9wdGlvbnMuc3RhcnRQb3NpdGlvbjtcbiAgdGhpcy5ieXRlc1JhbmdlTm90QXZhaWxhYmxlID0gb3B0aW9ucy5ieXRlc1JhbmdlTm90QXZhaWxhYmxlO1xuICB0aGlzLnJlc2V0KCk7XG4gIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICB0aGlzLl9wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHNlbGYucmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgc2VsZi5yZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuICByZXR1cm4gdGhpcztcbn1cblxuQ2h1bmsucHJvdG90eXBlLl9yZXRyeSA9IGZ1bmN0aW9uIChlcnJvclR5cGUsIGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBsZXQgbWF4RG93bmxvYWRSZXRyeTtcbiAgdGhpcy5fZXJyb3JzID0gdGhpcy5fZXJyb3JzIHx8IHt9O1xuICB0aGlzLl9lcnJvcnNbZXJyb3JUeXBlXSA9IHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdIHx8IDA7XG4gIHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdKys7XG4gIGlmIChlcnJvclR5cGUgPT09IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLklOVEVSTkVUKSB7XG4gICAgbWF4RG93bmxvYWRSZXRyeSA9IHRoaXMub3B0aW9ucy5tYXhEb3dubG9hZEludGVybmV0UmV0cnk7XG4gIH0gZWxzZSB7XG4gICAgbWF4RG93bmxvYWRSZXRyeSA9IHRoaXMub3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5O1xuICB9XG4gIGlmICh0aGlzLl9lcnJvcnNbZXJyb3JUeXBlXSA8PSBtYXhEb3dubG9hZFJldHJ5KSB7XG4gICAgaWYgKHNlbGYuX3RpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi5fdGltZXIpO1xuICAgIH1cbiAgICBjYWxsYmFjayh0cnVlKTtcbiAgICBzZWxmLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJyZXRyeWluZyBjaHVua1wiLCBlcnJvclR5cGUsIHNlbGYuZGVzdEZpbGUpO1xuICAgICAgc2VsZi5yZXNldChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuc3RhcnQoKTtcbiAgICAgIH0pO1xuICAgIH0sIHNlbGYub3B0aW9ucy5yZXRyeVRpbWVvdXQpO1xuICB9IGVsc2Uge1xuICAgIC8vIGNvbnNvbGUubG9nKFwibm90IHJldHJ5aW5nIGNodW5rXCIsIGVycm9yVHlwZSwgc2VsZi5fZXJyb3JzW2Vycm9yVHlwZV0pO1xuICAgIGNhbGxiYWNrKGZhbHNlKTtcbiAgfVxufTtcblxuQ2h1bmsucHJvdG90eXBlLmNyZWF0ZUZpbGVTdHJlYW0gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy5maWxlU3RyZWFtKSB7XG4gICAgbGV0IGRlc3RGaWxlID0gdGhpcy5vcHRpb25zLmRlc3RGaWxlO1xuICAgIGlmICh0aGlzLm9wdGlvbnMubXVsdGlDaHVua3MpIHtcbiAgICAgIGRlc3RGaWxlID0gZGVzdEZpbGUgKyBcIi5cIiArIHRoaXMuc3RhcnRQb3NpdGlvbiArIFwiLlwiICsgdGhpcy5lbmRQb3NpdGlvbjtcbiAgICB9XG4gICAgZG93bmxvYWRGaWxlVXRpbC5jaGVja0ZvckxvY2FsRmlsZShkZXN0RmlsZSwgZnVuY3Rpb24gKHJlc3VtZUZpbGUsIGZpbGVTaXplKSB7XG4gICAgICBzZWxmLmRlc3RGaWxlID0gZGVzdEZpbGU7XG4gICAgICBpZiAocmVzdW1lRmlsZSkge1xuICAgICAgICBpZiAoZmlsZVNpemUgPD0gc2VsZi5lbmRQb3NpdGlvbiAtIHNlbGYuc3RhcnRQb3NpdGlvbikge1xuICAgICAgICAgIHNlbGYucmVzdW1lRmlsZSA9IHJlc3VtZUZpbGU7XG4gICAgICAgICAgc2VsZi5hdmFpbGFibGUgPSBmaWxlU2l6ZTtcbiAgICAgICAgICBzZWxmLm9mZnNldFN0YXJ0UG9zaXRpb24gPSBmaWxlU2l6ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZWxmLmZpbGVTdHJlYW0gPSBmcy5jcmVhdGVXcml0ZVN0cmVhbShkZXN0RmlsZSwge2ZsYWdzOiBzZWxmLnJlc3VtZUZpbGUgPyBcImFcIiA6IFwid1wifSk7XG4gICAgICBzZWxmLmZpbGVTdHJlYW0ub24oXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgICBzZWxmLmZpbGVTdHJlYW0ub24oXCJvcGVuXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gZm9yIHVua25vd24gcmVhc29uIGZyb20gdGltZSB0byB0aW1lIHRoZSBmaWxlIGRlc2NyaXB0b3Igb2Ygc2VsZi5maWxlU3RyZWFtIGlzIG51bGxcbiAgICAgICAgLy8gd2hlbiBldmVudCAnb3BlbicgaXMgZmlyZWQgdGhlbiB0aGUgZmlsZSBkZXNjcmlwdG9yIGlzIG5vdCBhIG51bGwgYW55bW9yZVxuICAgICAgICAvLyB0aGlzIHNob3VsZCBmaXggYSBwcm9ibGVtIHdpdGggRUJBREYgZXJyb3JcbiAgICAgICAgLy8gYSBidWcgaW4gZnMgP1xuICAgICAgICBzZWxmLmZpbGVTdHJlYW0gPSB0aGlzO1xuXG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIoXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgICAgIHRoaXMub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJFTk9TUENcIikge1xuICAgICAgICAgICAgLy8gbm8gc3BhY2UgbGVmdCBvbiBkaXNrLCBkbyBub3QgcmV0cnkgZG93bmxvYWRpbmdcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5OT19TUEFDRV9MRUZUX0VSUk9SLCBlcnJvcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICBzZWxmLl9yZXRyeShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX1dSSVRJTkdfRVJST1IsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkZJTEVfV1JJVElOR19FUlJPUiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKFwiZmluaXNoXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoIXNlbGYuaXNEb3dubG9hZGVkKCkpIHtcbiAgICAgICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkNIVU5LX1NJWkVfRVJST1IsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYucmVzb2x2ZShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5DSFVOS19TSVpFX0VSUk9SKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KHNlbGYucmVzb2x2ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG5cbkNodW5rLnByb3RvdHlwZS5pc0Rvd25sb2FkZWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLmVuZFBvc2l0aW9uIC0gdGhpcy5zdGFydFBvc2l0aW9uIC0gdGhpcy5vZmZzZXRTdGFydFBvc2l0aW9uICsgMSA9PT0gdGhpcy5kb3dubG9hZGVkO1xufTtcblxuQ2h1bmsucHJvdG90eXBlLnN0YXJ0ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcblxuICBsZXQgcmVxX29wdGlvbnMgPSB7XG4gICAgdGltZW91dDogdGhpcy5vcHRpb25zLnRpbWVvdXQsXG4gICAgdXJsOiB0aGlzLnVybCxcbiAgfTtcblxuICBzZWxmLmNyZWF0ZUZpbGVTdHJlYW0oZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkZJTEVfQ1JFQVRJTkdfRVJST1IsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYucmVzb2x2ZShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX0NSRUFUSU5HX0VSUk9SLCBlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmVxX29wdGlvbnMuaGVhZGVycyA9IHJlcV9vcHRpb25zLmhlYWRlcnMgfHwge307XG5cbiAgICBpZiAoIXNlbGYuYnl0ZXNSYW5nZU5vdEF2YWlsYWJsZSkge1xuICAgICAgcmVxX29wdGlvbnMuaGVhZGVycy5yYW5nZSA9IFwiYnl0ZXM9XCIgKyAoc2VsZi5zdGFydFBvc2l0aW9uICsgc2VsZi5vZmZzZXRTdGFydFBvc2l0aW9uKSArIFwiLVwiICsgKHNlbGYuZW5kUG9zaXRpb24pO1xuICAgIH1cblxuICAgIHNlbGYuX3JlcSA9IG5ldC5yZXF1ZXN0KHJlcV9vcHRpb25zKTtcbiAgICBzZWxmLl9yZXEuY2h1bmtlZEVuY29kaW5nID0gc2VsZi5vcHRpb25zLnVzZUNodW5rZWRFbmNvZGluZztcblxuICAgIHNlbGYuX3JlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcG9uc2Uub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgIGlmIChlcnJvci5jb2RlID09PSBcIkVTT0NLRVRUSU1FRE9VVFwiIHx8IGVycm9yLmNvZGUgPT09IFwiRU5PVEZPVU5EXCIgfHwgZXJyb3IuY29kZSA9PT0gXCJFVElNRURPVVRcIikge1xuICAgICAgICAgICAgICBzZWxmLl9yZXRyeShkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5JTlRFUk5FVCwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgICAgIHNlbGYuY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLlRJTUVPVVQsIGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzZWxmLmNsb3NlU3RyZWFtQW5kUmVxdWVzdChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5yZXNvbHZlKGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkNIVU5LX0VSUk9SKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzQ29kZSA9PT0gMjAwIHx8IHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwNikge1xuICAgICAgICAgICAgICBzZWxmLmF2YWlsYWJsZSArPSBkYXRhLmxlbmd0aDtcbiAgICAgICAgICAgICAgc2VsZi5kb3dubG9hZGVkICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgICBzZWxmLmV2ZW50cy5lbWl0KFwiZG93bmxvYWRcIiwgZGF0YS5sZW5ndGgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc3BvbnNlLnBpcGUoc2VsZi5maWxlU3RyZWFtKTtcbiAgICB9KTtcbiAgICBzZWxmLl9yZXEuZW5kKCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cbkNodW5rLnByb3RvdHlwZS5jbG9zZVN0cmVhbUFuZFJlcXVlc3QgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGxldCB0aW1lcjtcbiAgY29uc3QgdGltZXJUaW1vdXRNUyA9IDMwMDtcblxuICBmdW5jdGlvbiBvbkNsb3NlICgpIHtcbiAgICBjbGVhclRpbWVvdXQodGltZXIpO1xuICAgIGlmIChzZWxmLmZpbGVTdHJlYW0pIHtcbiAgICAgIHNlbGYuZmlsZVN0cmVhbS5kZXN0cm95KCk7XG4gICAgICBkZWxldGUgc2VsZi5maWxlU3RyZWFtO1xuICAgIH1cbiAgICBkZWxldGUoc2VsZi5fcmVxKTtcbiAgICBjYWxsYmFjaygpO1xuICB9XG5cbiAgaWYgKHRoaXMuX3JlcSkge1xuICAgIHRoaXMuX3JlcS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuICBpZiAodGhpcy5maWxlU3RyZWFtKSB7XG4gICAgdGhpcy5maWxlU3RyZWFtLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICB9XG4gIGlmICh0aGlzLl9yZXEpIHtcbiAgICB0aGlzLl9yZXEuYWJvcnQoKTtcbiAgICBpZiAodGhpcy5fcmVxLnRpbWVvdXRUaW1lcikge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuX3JlcS50aW1lb3V0VGltZXIpO1xuICAgICAgdGhpcy5fcmVxLnRpbWVvdXRUaW1lciA9IG51bGw7XG4gICAgfVxuICB9XG5cbiAgaWYgKHRoaXMuZmlsZVN0cmVhbSkge1xuICAgIHRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICBvbkNsb3NlKCk7XG4gICAgfSwgdGltZXJUaW1vdXRNUyk7XG4gICAgdGhpcy5maWxlU3RyZWFtLmVuZCgpO1xuICAgIHRoaXMuZmlsZVN0cmVhbS5jbG9zZShvbkNsb3NlKTtcbiAgfSBlbHNlIHtcbiAgICBkZWxldGUgdGhpcy5fcmVxO1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG5cbkNodW5rLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBmdW5jdGlvbiAoKSB7fTtcblxuICBzZWxmLmNsb3NlU3RyZWFtQW5kUmVxdWVzdChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5vZmZzZXRTdGFydFBvc2l0aW9uID0gMDtcbiAgICBzZWxmLmF2YWlsYWJsZSA9IDA7XG4gICAgc2VsZi5kb3dubG9hZGVkID0gMDtcbiAgICBzZWxmLndyaXRlUHJvZ3Jlc3MgPSAwO1xuICAgIHNlbGYucmVzdW1lRmlsZSA9IGZhbHNlO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufTtcblxuQ2h1bmsucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLnJlc2V0KGZ1bmN0aW9uICgpIHtcbiAgICBzZWxmLnJlc29sdmUoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQUJPUlRFRCk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBDaHVuaztcbiJdLCJuYW1lcyI6WyJkb3dubG9hZEZpbGVVdGlsIiwicmVxdWlyZSIsImZzIiwibmV0IiwiRXZlbnRFbWl0dGVyIiwiQ2h1bmsiLCJ1cmwiLCJvcHRpb25zIiwic2VsZiIsImVuZFBvc2l0aW9uIiwic3RhcnRQb3NpdGlvbiIsImJ5dGVzUmFuZ2VOb3RBdmFpbGFibGUiLCJyZXNldCIsImV2ZW50cyIsIl9wcm9taXNlIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJwcm90b3R5cGUiLCJfcmV0cnkiLCJlcnJvclR5cGUiLCJjYWxsYmFjayIsIm1heERvd25sb2FkUmV0cnkiLCJfZXJyb3JzIiwiZXJyb3JzIiwiSU5URVJORVQiLCJtYXhEb3dubG9hZEludGVybmV0UmV0cnkiLCJfdGltZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic3RhcnQiLCJyZXRyeVRpbWVvdXQiLCJjcmVhdGVGaWxlU3RyZWFtIiwiZmlsZVN0cmVhbSIsImRlc3RGaWxlIiwibXVsdGlDaHVua3MiLCJjaGVja0ZvckxvY2FsRmlsZSIsInJlc3VtZUZpbGUiLCJmaWxlU2l6ZSIsImF2YWlsYWJsZSIsIm9mZnNldFN0YXJ0UG9zaXRpb24iLCJjcmVhdGVXcml0ZVN0cmVhbSIsImZsYWdzIiwib24iLCJyZW1vdmVMaXN0ZW5lciIsImVycm9yIiwiY29kZSIsIk5PX1NQQUNFX0xFRlRfRVJST1IiLCJGSUxFX1dSSVRJTkdfRVJST1IiLCJyZXRyaWVkIiwiaXNEb3dubG9hZGVkIiwiQ0hVTktfU0laRV9FUlJPUiIsImNsb3NlU3RyZWFtQW5kUmVxdWVzdCIsImRvd25sb2FkZWQiLCJyZXFfb3B0aW9ucyIsInRpbWVvdXQiLCJlcnIiLCJGSUxFX0NSRUFUSU5HX0VSUk9SIiwiaGVhZGVycyIsInJhbmdlIiwiX3JlcSIsInJlcXVlc3QiLCJjaHVua2VkRW5jb2RpbmciLCJ1c2VDaHVua2VkRW5jb2RpbmciLCJyZXNwb25zZSIsIlRJTUVPVVQiLCJDSFVOS19FUlJPUiIsImRhdGEiLCJzdGF0dXNDb2RlIiwibGVuZ3RoIiwiZW1pdCIsInBpcGUiLCJlbmQiLCJ0aW1lciIsInRpbWVyVGltb3V0TVMiLCJvbkNsb3NlIiwiZGVzdHJveSIsInJlbW92ZUFsbExpc3RlbmVycyIsImFib3J0IiwidGltZW91dFRpbWVyIiwiY2xvc2UiLCJ3cml0ZVByb2dyZXNzIiwic3RvcCIsIkFCT1JURUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///6006\n')},5979:(module,__unused_webpack_exports,__webpack_require__)=>{eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\nvar fs = __webpack_require__(7147);\nvar _require = __webpack_require__(7194),\n  net = _require.net;\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\nvar util = __webpack_require__(3837);\nvar downloadFileUtil = __webpack_require__(2777);\n\n/**\n *\n * @param {string} url - remote url\n * @param {string} destFile - local url\n * @param {object} options - options\n * @constructor\n */\nfunction DownloadFileNoHead(url, destFile, options) {\n  this._url = url;\n  this._destFile = destFile;\n  this._options = options;\n  this._resetValues();\n}\nutil.inherits(DownloadFileNoHead, EventEmitter);\nDownloadFileNoHead.prototype._reset = function (callback) {\n  var self = this;\n  callback = callback || function () {};\n  self._closeStreamAndRequest(function () {\n    self._resetValues();\n    callback();\n  });\n};\nDownloadFileNoHead.prototype._resetValues = function () {\n  this.available = 0;\n  this.downloaded = 0;\n  this.file_size = 0;\n  this.writeProgress = 0;\n};\nDownloadFileNoHead.prototype._createFileStream = function (callback) {\n  var self = this;\n  if (!this.fileStream) {\n    var destFile = this._destFile;\n    self.fileStream = fs.createWriteStream(destFile, {\n      flags: "w"\n    });\n    self.fileStream.on("error", callback);\n    self.fileStream.on("open", function () {\n      // for unknown reason from time to time the file descriptor of self.fileStream is null\n      // when event \'open\' is fired then the file descriptor is not a null anymore\n      // this should fix a problem with EBADF error\n      // a bug in fs ?\n      self.fileStream = this;\n      this.removeListener("error", callback);\n      this.on("error", function (error) {\n        if (error.code === "ENOSPC") {\n          // no space left on disk, do not retry downloading\n          self.emit("error", {\n            message: downloadFileUtil.errors.NO_SPACE_LEFT_ERROR,\n            data: error\n          });\n        } else {\n          self._retry(downloadFileUtil.errors.FILE_WRITING_ERROR, function (retried) {\n            if (!retried) {\n              self.emit("error", {\n                message: downloadFileUtil.errors.FILE_WRITING_ERROR,\n                data: error\n              });\n            }\n          });\n        }\n      });\n      this.on("finish", function () {\n        if (!self.isDownloaded()) {\n          self._retry(downloadFileUtil.errors.CHUNK_SIZE_ERROR, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.CHUNK_SIZE_ERROR\n                });\n              });\n            }\n          });\n        } else {\n          self.writeProgress = 1;\n          self.emit("end");\n        }\n      });\n      callback();\n    });\n  } else {\n    callback();\n  }\n};\nDownloadFileNoHead.prototype.isDownloaded = function () {\n  return this.downloaded === this.file_size;\n};\nDownloadFileNoHead.prototype._retry = function (errorType, callback) {\n  var self = this;\n  var maxDownloadRetry;\n  this._errors = this._errors || {};\n  this._errors[errorType] = this._errors[errorType] || 0;\n  this._errors[errorType]++;\n  if (errorType === downloadFileUtil.errors.INTERNET) {\n    maxDownloadRetry = this._options.maxDownloadChunkInternetRetry;\n  } else {\n    maxDownloadRetry = this._options.maxDownloadRetry;\n  }\n  if (this._errors[errorType] <= maxDownloadRetry) {\n    if (self._timer) {\n      clearTimeout(self._timer);\n    }\n    callback(true);\n    self._timer = setTimeout(function () {\n      // console.log("retrying chunk", errorType, self.destFile);\n      self._reset(function () {\n        self.start();\n      });\n    }, self._options.retryTimeout);\n  } else {\n    // console.log("not retrying chunk", errorType, self._errors[errorType]);\n    callback(false);\n  }\n};\nDownloadFileNoHead.prototype._closeStreamAndRequest = function (callback) {\n  var self = this;\n  var timer;\n  var timerTimoutMS = 300;\n  function onClose() {\n    clearTimeout(timer);\n    if (self.fileStream) {\n      self.fileStream.destroy();\n      delete self.fileStream;\n    }\n    delete self._req;\n    callback();\n  }\n  if (this._req) {\n    this._req.removeAllListeners();\n  }\n  if (this.fileStream) {\n    this.fileStream.removeAllListeners();\n  }\n  if (this._req) {\n    this._req.abort();\n    if (this._req.timeoutTimer) {\n      clearTimeout(this._req.timeoutTimer);\n      this._req.timeoutTimer = null;\n    }\n  }\n  if (this.fileStream) {\n    timer = setTimeout(function () {\n      onClose();\n    }, timerTimoutMS);\n    this.fileStream.end();\n    this.fileStream.close(onClose);\n  } else {\n    delete this._req;\n    callback();\n  }\n};\n\n/**\n * starts download\n * @returns {void}\n */\nDownloadFileNoHead.prototype.start = function () {\n  var self = this;\n  var req_options = {\n    timeout: this._options.timeout,\n    url: this._url\n  };\n  if (this._options.noCache) {\n    req_options.headers = {\n      \'Cache-Control\': \'no-cache\'\n    };\n  }\n  self._createFileStream(function (err) {\n    if (err) {\n      self._retry(downloadFileUtil.errors.FILE_CREATING_ERROR, function (retried) {\n        if (!retried) {\n          self._closeStreamAndRequest(function () {\n            self.emit("error", {\n              message: downloadFileUtil.errors.FILE_CREATING_ERROR\n            });\n          });\n        }\n      });\n      return;\n    }\n    req_options.headers = req_options.headers || {};\n    self._req = net.request(req_options);\n    self._req.on(\'response\', function (response) {\n      response.on("error", function (error) {\n        console.error(\'ERROR (\' + self._url + \') :\' + error);\n        if (error.code === "ESOCKETTIMEDOUT" || error.code === "ENOTFOUND" || error.code === "ETIMEDOUT") {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.TIMEOUT,\n                  data: error\n                });\n              });\n            }\n          });\n        } else {\n          self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n            if (!retried) {\n              self._closeStreamAndRequest(function () {\n                self.emit("error", {\n                  message: downloadFileUtil.errors.CHUNK_ERROR,\n                  data: error\n                });\n              });\n            }\n          });\n        }\n      });\n      if (response && response.statusCode >= 400) {\n        self._retry(downloadFileUtil.errors.INTERNET, function (retried) {\n          if (!retried) {\n            self._closeStreamAndRequest(function () {\n              console.error("HTTP DOWNLOAD ERROR url: ".concat(self._url, ", statusCode: ").concat(response.statusCode));\n              self.emit("error", {\n                message: downloadFileUtil.errors.CHUNK_ERROR,\n                data: response\n              });\n            });\n          }\n        });\n      } else {\n        self._headers = response.headers;\n        self.file_size = Number(self._headers["content-length"]);\n        response.on("data", function (data) {\n          if (response.statusCode === 200 || response.statusCode === 206) {\n            self.available += data.length;\n            self.downloaded += data.length;\n          }\n        });\n        response.pipe(self.fileStream);\n      }\n    });\n    self._req.end();\n  });\n  return this._promise;\n};\n\n/**\n * stops download\n * @returns {void}\n */\nDownloadFileNoHead.prototype.stop = function () {\n  var self = this;\n  this._reset(function () {\n    self.emit("error", {\n      message: downloadFileUtil.errors.ABORTED\n    });\n  });\n};\nmodule.exports = DownloadFileNoHead;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTk3OS5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBLElBQU1BLEVBQUUsR0FBR0MsbUJBQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsZUFBY0EsbUJBQU8sQ0FBQyxJQUFVLENBQUM7RUFBMUJDLEdBQUcsWUFBSEEsR0FBRztBQUNWLElBQU1DLFlBQVksR0FBR0Ysd0NBQThCO0FBQ25ELElBQU1HLElBQUksR0FBR0gsbUJBQU8sQ0FBQyxJQUFNLENBQUM7QUFDNUIsSUFBTUksZ0JBQWdCLEdBQUdKLG1CQUFPLENBQUMsSUFBc0IsQ0FBQzs7QUFFeEQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTSyxrQkFBa0IsQ0FBRUMsR0FBRyxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRTtFQUNuRCxJQUFJLENBQUNDLElBQUksR0FBR0gsR0FBRztFQUNmLElBQUksQ0FBQ0ksU0FBUyxHQUFHSCxRQUFRO0VBQ3pCLElBQUksQ0FBQ0ksUUFBUSxHQUFHSCxPQUFPO0VBQ3ZCLElBQUksQ0FBQ0ksWUFBWSxFQUFFO0FBQ3JCO0FBRUFULElBQUksQ0FBQ1UsUUFBUSxDQUFDUixrQkFBa0IsRUFBRUgsWUFBWSxDQUFDO0FBRS9DRyxrQkFBa0IsQ0FBQ1MsU0FBUyxDQUFDQyxNQUFNLEdBQUcsVUFBVUMsUUFBUSxFQUFFO0VBQ3hELElBQU1DLElBQUksR0FBRyxJQUFJO0VBQ2pCRCxRQUFRLEdBQUdBLFFBQVEsSUFBSSxZQUFZLENBQUMsQ0FBQztFQUVyQ0MsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQyxZQUFZO0lBQ3RDRCxJQUFJLENBQUNMLFlBQVksRUFBRTtJQUNuQkksUUFBUSxFQUFFO0VBQ1osQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEWCxrQkFBa0IsQ0FBQ1MsU0FBUyxDQUFDRixZQUFZLEdBQUcsWUFBWTtFQUN0RCxJQUFJLENBQUNPLFNBQVMsR0FBRyxDQUFDO0VBQ2xCLElBQUksQ0FBQ0MsVUFBVSxHQUFHLENBQUM7RUFDbkIsSUFBSSxDQUFDQyxTQUFTLEdBQUcsQ0FBQztFQUNsQixJQUFJLENBQUNDLGFBQWEsR0FBRyxDQUFDO0FBQ3hCLENBQUM7QUFFRGpCLGtCQUFrQixDQUFDUyxTQUFTLENBQUNTLGlCQUFpQixHQUFHLFVBQVVQLFFBQVEsRUFBRTtFQUNuRSxJQUFNQyxJQUFJLEdBQUcsSUFBSTtFQUNqQixJQUFJLENBQUMsSUFBSSxDQUFDTyxVQUFVLEVBQUU7SUFDcEIsSUFBSWpCLFFBQVEsR0FBRyxJQUFJLENBQUNHLFNBQVM7SUFDN0JPLElBQUksQ0FBQ08sVUFBVSxHQUFHekIsRUFBRSxDQUFDMEIsaUJBQWlCLENBQUNsQixRQUFRLEVBQUU7TUFBQ21CLEtBQUssRUFBRTtJQUFHLENBQUMsQ0FBQztJQUM5RFQsSUFBSSxDQUFDTyxVQUFVLENBQUNHLEVBQUUsQ0FBQyxPQUFPLEVBQUVYLFFBQVEsQ0FBQztJQUNyQ0MsSUFBSSxDQUFDTyxVQUFVLENBQUNHLEVBQUUsQ0FBQyxNQUFNLEVBQUUsWUFBWTtNQUNyQztNQUNBO01BQ0E7TUFDQTtNQUNBVixJQUFJLENBQUNPLFVBQVUsR0FBRyxJQUFJO01BRXRCLElBQUksQ0FBQ0ksY0FBYyxDQUFDLE9BQU8sRUFBRVosUUFBUSxDQUFDO01BQ3RDLElBQUksQ0FBQ1csRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVRSxLQUFLLEVBQUU7UUFDaEMsSUFBSUEsS0FBSyxDQUFDQyxJQUFJLEtBQUssUUFBUSxFQUFFO1VBQzNCO1VBQ0FiLElBQUksQ0FBQ2MsSUFBSSxDQUFDLE9BQU8sRUFBRTtZQUFDQyxPQUFPLEVBQUU1QixnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ0MsbUJBQW1CO1lBQUVDLElBQUksRUFBRU47VUFBSyxDQUFDLENBQUM7UUFDekYsQ0FBQyxNQUFNO1VBQ0xaLElBQUksQ0FBQ21CLE1BQU0sQ0FBQ2hDLGdCQUFnQixDQUFDNkIsTUFBTSxDQUFDSSxrQkFBa0IsRUFBRSxVQUFVQyxPQUFPLEVBQUU7WUFDekUsSUFBSSxDQUFDQSxPQUFPLEVBQUU7Y0FDWnJCLElBQUksQ0FBQ2MsSUFBSSxDQUFDLE9BQU8sRUFBRTtnQkFBQ0MsT0FBTyxFQUFFNUIsZ0JBQWdCLENBQUM2QixNQUFNLENBQUNJLGtCQUFrQjtnQkFBRUYsSUFBSSxFQUFFTjtjQUFLLENBQUMsQ0FBQztZQUN4RjtVQUNGLENBQUMsQ0FBQztRQUNKO01BQ0YsQ0FBQyxDQUFDO01BQ0YsSUFBSSxDQUFDRixFQUFFLENBQUMsUUFBUSxFQUFFLFlBQVk7UUFDNUIsSUFBSSxDQUFDVixJQUFJLENBQUNzQixZQUFZLEVBQUUsRUFBRTtVQUN4QnRCLElBQUksQ0FBQ21CLE1BQU0sQ0FBQ2hDLGdCQUFnQixDQUFDNkIsTUFBTSxDQUFDTyxnQkFBZ0IsRUFBRSxVQUFVRixPQUFPLEVBQUU7WUFDdkUsSUFBSSxDQUFDQSxPQUFPLEVBQUU7Y0FDWnJCLElBQUksQ0FBQ0Msc0JBQXNCLENBQUMsWUFBWTtnQkFDdENELElBQUksQ0FBQ2MsSUFBSSxDQUFDLE9BQU8sRUFBRTtrQkFBQ0MsT0FBTyxFQUFFNUIsZ0JBQWdCLENBQUM2QixNQUFNLENBQUNPO2dCQUFnQixDQUFDLENBQUM7Y0FDekUsQ0FBQyxDQUFDO1lBQ0o7VUFDRixDQUFDLENBQUM7UUFDSixDQUFDLE1BQU07VUFDTHZCLElBQUksQ0FBQ0ssYUFBYSxHQUFHLENBQUM7VUFDdEJMLElBQUksQ0FBQ2MsSUFBSSxDQUFDLEtBQUssQ0FBQztRQUNsQjtNQUNGLENBQUMsQ0FBQztNQUNGZixRQUFRLEVBQUU7SUFDWixDQUFDLENBQUM7RUFDSixDQUFDLE1BQU07SUFDTEEsUUFBUSxFQUFFO0VBQ1o7QUFDRixDQUFDO0FBRURYLGtCQUFrQixDQUFDUyxTQUFTLENBQUN5QixZQUFZLEdBQUcsWUFBWTtFQUN0RCxPQUFPLElBQUksQ0FBQ25CLFVBQVUsS0FBSyxJQUFJLENBQUNDLFNBQVM7QUFDM0MsQ0FBQztBQUVEaEIsa0JBQWtCLENBQUNTLFNBQVMsQ0FBQ3NCLE1BQU0sR0FBRyxVQUFVSyxTQUFTLEVBQUV6QixRQUFRLEVBQUU7RUFDbkUsSUFBTUMsSUFBSSxHQUFHLElBQUk7RUFDakIsSUFBSXlCLGdCQUFnQjtFQUNwQixJQUFJLENBQUNDLE9BQU8sR0FBRyxJQUFJLENBQUNBLE9BQU8sSUFBSSxDQUFDLENBQUM7RUFDakMsSUFBSSxDQUFDQSxPQUFPLENBQUNGLFNBQVMsQ0FBQyxHQUFHLElBQUksQ0FBQ0UsT0FBTyxDQUFDRixTQUFTLENBQUMsSUFBSSxDQUFDO0VBQ3RELElBQUksQ0FBQ0UsT0FBTyxDQUFDRixTQUFTLENBQUMsRUFBRTtFQUN6QixJQUFJQSxTQUFTLEtBQUtyQyxnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ1csUUFBUSxFQUFFO0lBQ2xERixnQkFBZ0IsR0FBRyxJQUFJLENBQUMvQixRQUFRLENBQUNrQyw2QkFBNkI7RUFDaEUsQ0FBQyxNQUFNO0lBQ0xILGdCQUFnQixHQUFHLElBQUksQ0FBQy9CLFFBQVEsQ0FBQytCLGdCQUFnQjtFQUNuRDtFQUNBLElBQUksSUFBSSxDQUFDQyxPQUFPLENBQUNGLFNBQVMsQ0FBQyxJQUFJQyxnQkFBZ0IsRUFBRTtJQUMvQyxJQUFJekIsSUFBSSxDQUFDNkIsTUFBTSxFQUFFO01BQ2ZDLFlBQVksQ0FBQzlCLElBQUksQ0FBQzZCLE1BQU0sQ0FBQztJQUMzQjtJQUNBOUIsUUFBUSxDQUFDLElBQUksQ0FBQztJQUNkQyxJQUFJLENBQUM2QixNQUFNLEdBQUdFLFVBQVUsQ0FBQyxZQUFZO01BQ25DO01BQ0EvQixJQUFJLENBQUNGLE1BQU0sQ0FBQyxZQUFZO1FBQ3RCRSxJQUFJLENBQUNnQyxLQUFLLEVBQUU7TUFDZCxDQUFDLENBQUM7SUFDSixDQUFDLEVBQUVoQyxJQUFJLENBQUNOLFFBQVEsQ0FBQ3VDLFlBQVksQ0FBQztFQUNoQyxDQUFDLE1BQU07SUFDTDtJQUNBbEMsUUFBUSxDQUFDLEtBQUssQ0FBQztFQUNqQjtBQUNGLENBQUM7QUFDRFgsa0JBQWtCLENBQUNTLFNBQVMsQ0FBQ0ksc0JBQXNCLEdBQUcsVUFBVUYsUUFBUSxFQUFFO0VBQ3hFLElBQU1DLElBQUksR0FBRyxJQUFJO0VBQ2pCLElBQUlrQyxLQUFLO0VBQ1QsSUFBTUMsYUFBYSxHQUFHLEdBQUc7RUFFekIsU0FBU0MsT0FBTyxHQUFJO0lBQ2xCTixZQUFZLENBQUNJLEtBQUssQ0FBQztJQUNuQixJQUFJbEMsSUFBSSxDQUFDTyxVQUFVLEVBQUU7TUFDbkJQLElBQUksQ0FBQ08sVUFBVSxDQUFDOEIsT0FBTyxFQUFFO01BQ3pCLE9BQU9yQyxJQUFJLENBQUNPLFVBQVU7SUFDeEI7SUFDQSxPQUFPUCxJQUFJLENBQUNzQyxJQUFLO0lBQ2pCdkMsUUFBUSxFQUFFO0VBQ1o7RUFFQSxJQUFJLElBQUksQ0FBQ3VDLElBQUksRUFBRTtJQUNiLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxrQkFBa0IsRUFBRTtFQUNoQztFQUNBLElBQUksSUFBSSxDQUFDaEMsVUFBVSxFQUFFO0lBQ25CLElBQUksQ0FBQ0EsVUFBVSxDQUFDZ0Msa0JBQWtCLEVBQUU7RUFDdEM7RUFDQSxJQUFJLElBQUksQ0FBQ0QsSUFBSSxFQUFFO0lBQ2IsSUFBSSxDQUFDQSxJQUFJLENBQUNFLEtBQUssRUFBRTtJQUNqQixJQUFJLElBQUksQ0FBQ0YsSUFBSSxDQUFDRyxZQUFZLEVBQUU7TUFDMUJYLFlBQVksQ0FBQyxJQUFJLENBQUNRLElBQUksQ0FBQ0csWUFBWSxDQUFDO01BQ3BDLElBQUksQ0FBQ0gsSUFBSSxDQUFDRyxZQUFZLEdBQUcsSUFBSTtJQUMvQjtFQUNGO0VBRUEsSUFBSSxJQUFJLENBQUNsQyxVQUFVLEVBQUU7SUFDbkIyQixLQUFLLEdBQUdILFVBQVUsQ0FBQyxZQUFZO01BQzdCSyxPQUFPLEVBQUU7SUFDWCxDQUFDLEVBQUVELGFBQWEsQ0FBQztJQUNqQixJQUFJLENBQUM1QixVQUFVLENBQUNtQyxHQUFHLEVBQUU7SUFDckIsSUFBSSxDQUFDbkMsVUFBVSxDQUFDb0MsS0FBSyxDQUFDUCxPQUFPLENBQUM7RUFDaEMsQ0FBQyxNQUFNO0lBQ0wsT0FBTyxJQUFJLENBQUNFLElBQUk7SUFDaEJ2QyxRQUFRLEVBQUU7RUFDWjtBQUNGLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQVgsa0JBQWtCLENBQUNTLFNBQVMsQ0FBQ21DLEtBQUssR0FBRyxZQUFZO0VBQy9DLElBQU1oQyxJQUFJLEdBQUcsSUFBSTtFQUNqQixJQUFJNEMsV0FBVyxHQUFHO0lBQ2hCQyxPQUFPLEVBQUUsSUFBSSxDQUFDbkQsUUFBUSxDQUFDbUQsT0FBTztJQUM5QnhELEdBQUcsRUFBRSxJQUFJLENBQUNHO0VBQ1osQ0FBQztFQUVELElBQUksSUFBSSxDQUFDRSxRQUFRLENBQUNvRCxPQUFPLEVBQUU7SUFDekJGLFdBQVcsQ0FBQ0csT0FBTyxHQUFHO01BQ3BCLGVBQWUsRUFBRTtJQUNuQixDQUFDO0VBQ0g7RUFFQS9DLElBQUksQ0FBQ00saUJBQWlCLENBQUMsVUFBVTBDLEdBQUcsRUFBRTtJQUNwQyxJQUFJQSxHQUFHLEVBQUU7TUFDUGhELElBQUksQ0FBQ21CLE1BQU0sQ0FBQ2hDLGdCQUFnQixDQUFDNkIsTUFBTSxDQUFDaUMsbUJBQW1CLEVBQUUsVUFBVTVCLE9BQU8sRUFBRTtRQUMxRSxJQUFJLENBQUNBLE9BQU8sRUFBRTtVQUNackIsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQyxZQUFZO1lBQ3RDRCxJQUFJLENBQUNjLElBQUksQ0FBQyxPQUFPLEVBQUU7Y0FBQ0MsT0FBTyxFQUFFNUIsZ0JBQWdCLENBQUM2QixNQUFNLENBQUNpQztZQUFtQixDQUFDLENBQUM7VUFDNUUsQ0FBQyxDQUFDO1FBQ0o7TUFDRixDQUFDLENBQUM7TUFDRjtJQUNGO0lBQ0FMLFdBQVcsQ0FBQ0csT0FBTyxHQUFHSCxXQUFXLENBQUNHLE9BQU8sSUFBSSxDQUFDLENBQUM7SUFFL0MvQyxJQUFJLENBQUNzQyxJQUFJLEdBQUd0RCxHQUFHLENBQUNrRSxPQUFPLENBQUNOLFdBQVcsQ0FBQztJQUVwQzVDLElBQUksQ0FBQ3NDLElBQUksQ0FBQzVCLEVBQUUsQ0FBQyxVQUFVLEVBQUUsVUFBQ3lDLFFBQVEsRUFBSztNQUNyQ0EsUUFBUSxDQUFDekMsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVRSxLQUFLLEVBQUU7UUFDcEN3QyxPQUFPLENBQUN4QyxLQUFLLENBQUMsU0FBUyxHQUFHWixJQUFJLENBQUNSLElBQUksR0FBRyxLQUFLLEdBQUdvQixLQUFLLENBQUM7UUFDcEQsSUFBSUEsS0FBSyxDQUFDQyxJQUFJLEtBQUssaUJBQWlCLElBQUlELEtBQUssQ0FBQ0MsSUFBSSxLQUFLLFdBQVcsSUFBSUQsS0FBSyxDQUFDQyxJQUFJLEtBQUssV0FBVyxFQUFFO1VBQ2hHYixJQUFJLENBQUNtQixNQUFNLENBQUNoQyxnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ1csUUFBUSxFQUFFLFVBQVVOLE9BQU8sRUFBRTtZQUMvRCxJQUFJLENBQUNBLE9BQU8sRUFBRTtjQUNackIsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQyxZQUFZO2dCQUN0Q0QsSUFBSSxDQUFDYyxJQUFJLENBQUMsT0FBTyxFQUFFO2tCQUFDQyxPQUFPLEVBQUU1QixnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ3FDLE9BQU87a0JBQUVuQyxJQUFJLEVBQUVOO2dCQUFLLENBQUMsQ0FBQztjQUM3RSxDQUFDLENBQUM7WUFDSjtVQUNGLENBQUMsQ0FBQztRQUNKLENBQUMsTUFBTTtVQUNMWixJQUFJLENBQUNtQixNQUFNLENBQUNoQyxnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ1csUUFBUSxFQUFFLFVBQVVOLE9BQU8sRUFBRTtZQUMvRCxJQUFJLENBQUNBLE9BQU8sRUFBRTtjQUNackIsSUFBSSxDQUFDQyxzQkFBc0IsQ0FBQyxZQUFZO2dCQUN0Q0QsSUFBSSxDQUFDYyxJQUFJLENBQUMsT0FBTyxFQUFFO2tCQUFDQyxPQUFPLEVBQUU1QixnQkFBZ0IsQ0FBQzZCLE1BQU0sQ0FBQ3NDLFdBQVc7a0JBQUVwQyxJQUFJLEVBQUVOO2dCQUFLLENBQUMsQ0FBQztjQUNqRixDQUFDLENBQUM7WUFDSjtVQUNGLENBQUMsQ0FBQztRQUNKO01BQ0YsQ0FBQyxDQUFDO01BRUYsSUFBSXVDLFFBQVEsSUFBSUEsUUFBUSxDQUFDSSxVQUFVLElBQUksR0FBRyxFQUFFO1FBQzFDdkQsSUFBSSxDQUFDbUIsTUFBTSxDQUFDaEMsZ0JBQWdCLENBQUM2QixNQUFNLENBQUNXLFFBQVEsRUFBRSxVQUFVTixPQUFPLEVBQUU7VUFDL0QsSUFBSSxDQUFDQSxPQUFPLEVBQUU7WUFDWnJCLElBQUksQ0FBQ0Msc0JBQXNCLENBQUMsWUFBWTtjQUN0Q21ELE9BQU8sQ0FBQ3hDLEtBQUssb0NBQTZCWixJQUFJLENBQUNSLElBQUksMkJBQWlCMkQsUUFBUSxDQUFDSSxVQUFVLEVBQUc7Y0FDMUZ2RCxJQUFJLENBQUNjLElBQUksQ0FBQyxPQUFPLEVBQUU7Z0JBQUNDLE9BQU8sRUFBRTVCLGdCQUFnQixDQUFDNkIsTUFBTSxDQUFDc0MsV0FBVztnQkFBRXBDLElBQUksRUFBRWlDO2NBQVEsQ0FBQyxDQUFDO1lBQ3BGLENBQUMsQ0FBQztVQUNKO1FBQ0YsQ0FBQyxDQUFDO01BQ0osQ0FBQyxNQUFNO1FBQ0xuRCxJQUFJLENBQUN3RCxRQUFRLEdBQUdMLFFBQVEsQ0FBQ0osT0FBTztRQUNoQy9DLElBQUksQ0FBQ0ksU0FBUyxHQUFHcUQsTUFBTSxDQUFDekQsSUFBSSxDQUFDd0QsUUFBUSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFFeERMLFFBQVEsQ0FBQ3pDLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBVVEsSUFBSSxFQUFFO1VBQ2xDLElBQUlpQyxRQUFRLENBQUNJLFVBQVUsS0FBSyxHQUFHLElBQUlKLFFBQVEsQ0FBQ0ksVUFBVSxLQUFLLEdBQUcsRUFBRTtZQUM5RHZELElBQUksQ0FBQ0UsU0FBUyxJQUFJZ0IsSUFBSSxDQUFDd0MsTUFBTTtZQUM3QjFELElBQUksQ0FBQ0csVUFBVSxJQUFJZSxJQUFJLENBQUN3QyxNQUFNO1VBQ2hDO1FBQ0YsQ0FBQyxDQUFDO1FBQ0ZQLFFBQVEsQ0FBQ1EsSUFBSSxDQUFDM0QsSUFBSSxDQUFDTyxVQUFVLENBQUM7TUFDaEM7SUFDRixDQUFDLENBQUM7SUFDRlAsSUFBSSxDQUFDc0MsSUFBSSxDQUFDSSxHQUFHLEVBQUU7RUFDakIsQ0FBQyxDQUFDO0VBQ0YsT0FBTyxJQUFJLENBQUNrQixRQUFRO0FBQ3RCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQXhFLGtCQUFrQixDQUFDUyxTQUFTLENBQUNnRSxJQUFJLEdBQUcsWUFBWTtFQUM5QyxJQUFNN0QsSUFBSSxHQUFHLElBQUk7RUFDakIsSUFBSSxDQUFDRixNQUFNLENBQUMsWUFBWTtJQUN0QkUsSUFBSSxDQUFDYyxJQUFJLENBQUMsT0FBTyxFQUFFO01BQUNDLE9BQU8sRUFBRTVCLGdCQUFnQixDQUFDNkIsTUFBTSxDQUFDOEM7SUFBTyxDQUFDLENBQUM7RUFDaEUsQ0FBQyxDQUFDO0FBQ0osQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBRzVFLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtbm8taGVhZC5qcz9iMmJlIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImluZm9cIl0gfV0gKi9cbmNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3Qge25ldH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5jb25zdCB1dGlsID0gcmVxdWlyZShcInV0aWxcIik7XG5jb25zdCBkb3dubG9hZEZpbGVVdGlsID0gcmVxdWlyZShcIi4vZG93bmxvYWQtZmlsZS11dGlsXCIpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJsIC0gcmVtb3RlIHVybFxuICogQHBhcmFtIHtzdHJpbmd9IGRlc3RGaWxlIC0gbG9jYWwgdXJsXG4gKiBAcGFyYW0ge29iamVjdH0gb3B0aW9ucyAtIG9wdGlvbnNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb3dubG9hZEZpbGVOb0hlYWQgKHVybCwgZGVzdEZpbGUsIG9wdGlvbnMpIHtcbiAgdGhpcy5fdXJsID0gdXJsO1xuICB0aGlzLl9kZXN0RmlsZSA9IGRlc3RGaWxlO1xuICB0aGlzLl9vcHRpb25zID0gb3B0aW9ucztcbiAgdGhpcy5fcmVzZXRWYWx1ZXMoKTtcbn1cblxudXRpbC5pbmhlcml0cyhEb3dubG9hZEZpbGVOb0hlYWQsIEV2ZW50RW1pdHRlcik7XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3Jlc2V0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBjYWxsYmFjayA9IGNhbGxiYWNrIHx8IGZ1bmN0aW9uICgpIHt9O1xuXG4gIHNlbGYuX2Nsb3NlU3RyZWFtQW5kUmVxdWVzdChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5fcmVzZXRWYWx1ZXMoKTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3Jlc2V0VmFsdWVzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmF2YWlsYWJsZSA9IDA7XG4gIHRoaXMuZG93bmxvYWRlZCA9IDA7XG4gIHRoaXMuZmlsZV9zaXplID0gMDtcbiAgdGhpcy53cml0ZVByb2dyZXNzID0gMDtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX2NyZWF0ZUZpbGVTdHJlYW0gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy5maWxlU3RyZWFtKSB7XG4gICAgbGV0IGRlc3RGaWxlID0gdGhpcy5fZGVzdEZpbGU7XG4gICAgc2VsZi5maWxlU3RyZWFtID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZGVzdEZpbGUsIHtmbGFnczogXCJ3XCJ9KTtcbiAgICBzZWxmLmZpbGVTdHJlYW0ub24oXCJlcnJvclwiLCBjYWxsYmFjayk7XG4gICAgc2VsZi5maWxlU3RyZWFtLm9uKFwib3BlblwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBmb3IgdW5rbm93biByZWFzb24gZnJvbSB0aW1lIHRvIHRpbWUgdGhlIGZpbGUgZGVzY3JpcHRvciBvZiBzZWxmLmZpbGVTdHJlYW0gaXMgbnVsbFxuICAgICAgLy8gd2hlbiBldmVudCAnb3BlbicgaXMgZmlyZWQgdGhlbiB0aGUgZmlsZSBkZXNjcmlwdG9yIGlzIG5vdCBhIG51bGwgYW55bW9yZVxuICAgICAgLy8gdGhpcyBzaG91bGQgZml4IGEgcHJvYmxlbSB3aXRoIEVCQURGIGVycm9yXG4gICAgICAvLyBhIGJ1ZyBpbiBmcyA/XG4gICAgICBzZWxmLmZpbGVTdHJlYW0gPSB0aGlzO1xuXG4gICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIiwgY2FsbGJhY2spO1xuICAgICAgdGhpcy5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBpZiAoZXJyb3IuY29kZSA9PT0gXCJFTk9TUENcIikge1xuICAgICAgICAgIC8vIG5vIHNwYWNlIGxlZnQgb24gZGlzaywgZG8gbm90IHJldHJ5IGRvd25sb2FkaW5nXG4gICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwge21lc3NhZ2U6IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9XUklUSU5HX0VSUk9SLCBmdW5jdGlvbiAocmV0cmllZCkge1xuICAgICAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIHttZXNzYWdlOiBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX1dSSVRJTkdfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5vbihcImZpbmlzaFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICghc2VsZi5pc0Rvd25sb2FkZWQoKSkge1xuICAgICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkNIVU5LX1NJWkVfRVJST1IsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfU0laRV9FUlJPUn0pO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLndyaXRlUHJvZ3Jlc3MgPSAxO1xuICAgICAgICAgIHNlbGYuZW1pdChcImVuZFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIGNhbGxiYWNrKCk7XG4gIH1cbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuaXNEb3dubG9hZGVkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5kb3dubG9hZGVkID09PSB0aGlzLmZpbGVfc2l6ZTtcbn07XG5cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuX3JldHJ5ID0gZnVuY3Rpb24gKGVycm9yVHlwZSwgY2FsbGJhY2spIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGxldCBtYXhEb3dubG9hZFJldHJ5O1xuICB0aGlzLl9lcnJvcnMgPSB0aGlzLl9lcnJvcnMgfHwge307XG4gIHRoaXMuX2Vycm9yc1tlcnJvclR5cGVdID0gdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0gfHwgMDtcbiAgdGhpcy5fZXJyb3JzW2Vycm9yVHlwZV0rKztcbiAgaWYgKGVycm9yVHlwZSA9PT0gZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQpIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZENodW5rSW50ZXJuZXRSZXRyeTtcbiAgfSBlbHNlIHtcbiAgICBtYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5O1xuICB9XG4gIGlmICh0aGlzLl9lcnJvcnNbZXJyb3JUeXBlXSA8PSBtYXhEb3dubG9hZFJldHJ5KSB7XG4gICAgaWYgKHNlbGYuX3RpbWVyKSB7XG4gICAgICBjbGVhclRpbWVvdXQoc2VsZi5fdGltZXIpO1xuICAgIH1cbiAgICBjYWxsYmFjayh0cnVlKTtcbiAgICBzZWxmLl90aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgLy8gY29uc29sZS5sb2coXCJyZXRyeWluZyBjaHVua1wiLCBlcnJvclR5cGUsIHNlbGYuZGVzdEZpbGUpO1xuICAgICAgc2VsZi5fcmVzZXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLnN0YXJ0KCk7XG4gICAgICB9KTtcbiAgICB9LCBzZWxmLl9vcHRpb25zLnJldHJ5VGltZW91dCk7XG4gIH0gZWxzZSB7XG4gICAgLy8gY29uc29sZS5sb2coXCJub3QgcmV0cnlpbmcgY2h1bmtcIiwgZXJyb3JUeXBlLCBzZWxmLl9lcnJvcnNbZXJyb3JUeXBlXSk7XG4gICAgY2FsbGJhY2soZmFsc2UpO1xuICB9XG59O1xuRG93bmxvYWRGaWxlTm9IZWFkLnByb3RvdHlwZS5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0ID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBsZXQgdGltZXI7XG4gIGNvbnN0IHRpbWVyVGltb3V0TVMgPSAzMDA7XG5cbiAgZnVuY3Rpb24gb25DbG9zZSAoKSB7XG4gICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICBpZiAoc2VsZi5maWxlU3RyZWFtKSB7XG4gICAgICBzZWxmLmZpbGVTdHJlYW0uZGVzdHJveSgpO1xuICAgICAgZGVsZXRlIHNlbGYuZmlsZVN0cmVhbTtcbiAgICB9XG4gICAgZGVsZXRlKHNlbGYuX3JlcSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfVxuXG4gIGlmICh0aGlzLl9yZXEpIHtcbiAgICB0aGlzLl9yZXEucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gIH1cbiAgaWYgKHRoaXMuZmlsZVN0cmVhbSkge1xuICAgIHRoaXMuZmlsZVN0cmVhbS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgfVxuICBpZiAodGhpcy5fcmVxKSB7XG4gICAgdGhpcy5fcmVxLmFib3J0KCk7XG4gICAgaWYgKHRoaXMuX3JlcS50aW1lb3V0VGltZXIpIHtcbiAgICAgIGNsZWFyVGltZW91dCh0aGlzLl9yZXEudGltZW91dFRpbWVyKTtcbiAgICAgIHRoaXMuX3JlcS50aW1lb3V0VGltZXIgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0aGlzLmZpbGVTdHJlYW0pIHtcbiAgICB0aW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgb25DbG9zZSgpO1xuICAgIH0sIHRpbWVyVGltb3V0TVMpO1xuICAgIHRoaXMuZmlsZVN0cmVhbS5lbmQoKTtcbiAgICB0aGlzLmZpbGVTdHJlYW0uY2xvc2Uob25DbG9zZSk7XG4gIH0gZWxzZSB7XG4gICAgZGVsZXRlIHRoaXMuX3JlcTtcbiAgICBjYWxsYmFjaygpO1xuICB9XG59O1xuXG4vKipcbiAqIHN0YXJ0cyBkb3dubG9hZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZU5vSGVhZC5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICBsZXQgcmVxX29wdGlvbnMgPSB7XG4gICAgdGltZW91dDogdGhpcy5fb3B0aW9ucy50aW1lb3V0LFxuICAgIHVybDogdGhpcy5fdXJsLFxuICB9O1xuXG4gIGlmICh0aGlzLl9vcHRpb25zLm5vQ2FjaGUpIHtcbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0ge1xuICAgICAgJ0NhY2hlLUNvbnRyb2wnOiAnbm8tY2FjaGUnXG4gICAgfVxuICB9XG5cbiAgc2VsZi5fY3JlYXRlRmlsZVN0cmVhbShmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuRklMRV9DUkVBVElOR19FUlJPUiwgZnVuY3Rpb24gKHJldHJpZWQpIHtcbiAgICAgICAgaWYgKCFyZXRyaWVkKSB7XG4gICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIHttZXNzYWdlOiBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5GSUxFX0NSRUFUSU5HX0VSUk9SfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXFfb3B0aW9ucy5oZWFkZXJzID0gcmVxX29wdGlvbnMuaGVhZGVycyB8fCB7fTtcblxuICAgIHNlbGYuX3JlcSA9IG5ldC5yZXF1ZXN0KHJlcV9vcHRpb25zKTtcblxuICAgIHNlbGYuX3JlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcbiAgICAgIHJlc3BvbnNlLm9uKFwiZXJyb3JcIiwgZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0VSUk9SICgnICsgc2VsZi5fdXJsICsgJykgOicgKyBlcnJvcilcbiAgICAgICAgaWYgKGVycm9yLmNvZGUgPT09IFwiRVNPQ0tFVFRJTUVET1VUXCIgfHwgZXJyb3IuY29kZSA9PT0gXCJFTk9URk9VTkRcIiB8fCBlcnJvci5jb2RlID09PSBcIkVUSU1FRE9VVFwiKSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuVElNRU9VVCwgZGF0YTogZXJyb3J9KTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZi5fcmV0cnkoZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuSU5URVJORVQsIGZ1bmN0aW9uIChyZXRyaWVkKSB7XG4gICAgICAgICAgICBpZiAoIXJldHJpZWQpIHtcbiAgICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfRVJST1IsIGRhdGE6IGVycm9yfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gNDAwKSB7XG4gICAgICAgIHNlbGYuX3JldHJ5KGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLklOVEVSTkVULCBmdW5jdGlvbiAocmV0cmllZCkge1xuICAgICAgICAgIGlmICghcmV0cmllZCkge1xuICAgICAgICAgICAgc2VsZi5fY2xvc2VTdHJlYW1BbmRSZXF1ZXN0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgSFRUUCBET1dOTE9BRCBFUlJPUiB1cmw6ICR7c2VsZi5fdXJsfSwgc3RhdHVzQ29kZTogJHtyZXNwb25zZS5zdGF0dXNDb2RlfWApO1xuICAgICAgICAgICAgICBzZWxmLmVtaXQoXCJlcnJvclwiLCB7bWVzc2FnZTogZG93bmxvYWRGaWxlVXRpbC5lcnJvcnMuQ0hVTktfRVJST1IsIGRhdGE6IHJlc3BvbnNlfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi5faGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgIHNlbGYuZmlsZV9zaXplID0gTnVtYmVyKHNlbGYuX2hlYWRlcnNbXCJjb250ZW50LWxlbmd0aFwiXSk7XG5cbiAgICAgICAgcmVzcG9uc2Uub24oXCJkYXRhXCIsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1c0NvZGUgPT09IDIwMCB8fCByZXNwb25zZS5zdGF0dXNDb2RlID09PSAyMDYpIHtcbiAgICAgICAgICAgIHNlbGYuYXZhaWxhYmxlICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgICAgc2VsZi5kb3dubG9hZGVkICs9IGRhdGEubGVuZ3RoO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3BvbnNlLnBpcGUoc2VsZi5maWxlU3RyZWFtKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLl9yZXEuZW5kKCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5fcHJvbWlzZTtcbn07XG5cbi8qKlxuICogc3RvcHMgZG93bmxvYWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGVOb0hlYWQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IHNlbGYgPSB0aGlzO1xuICB0aGlzLl9yZXNldChmdW5jdGlvbiAoKSB7XG4gICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwge21lc3NhZ2U6IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLkFCT1JURUR9KTtcbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERvd25sb2FkRmlsZU5vSGVhZDtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJuZXQiLCJFdmVudEVtaXR0ZXIiLCJ1dGlsIiwiZG93bmxvYWRGaWxlVXRpbCIsIkRvd25sb2FkRmlsZU5vSGVhZCIsInVybCIsImRlc3RGaWxlIiwib3B0aW9ucyIsIl91cmwiLCJfZGVzdEZpbGUiLCJfb3B0aW9ucyIsIl9yZXNldFZhbHVlcyIsImluaGVyaXRzIiwicHJvdG90eXBlIiwiX3Jlc2V0IiwiY2FsbGJhY2siLCJzZWxmIiwiX2Nsb3NlU3RyZWFtQW5kUmVxdWVzdCIsImF2YWlsYWJsZSIsImRvd25sb2FkZWQiLCJmaWxlX3NpemUiLCJ3cml0ZVByb2dyZXNzIiwiX2NyZWF0ZUZpbGVTdHJlYW0iLCJmaWxlU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmbGFncyIsIm9uIiwicmVtb3ZlTGlzdGVuZXIiLCJlcnJvciIsImNvZGUiLCJlbWl0IiwibWVzc2FnZSIsImVycm9ycyIsIk5PX1NQQUNFX0xFRlRfRVJST1IiLCJkYXRhIiwiX3JldHJ5IiwiRklMRV9XUklUSU5HX0VSUk9SIiwicmV0cmllZCIsImlzRG93bmxvYWRlZCIsIkNIVU5LX1NJWkVfRVJST1IiLCJlcnJvclR5cGUiLCJtYXhEb3dubG9hZFJldHJ5IiwiX2Vycm9ycyIsIklOVEVSTkVUIiwibWF4RG93bmxvYWRDaHVua0ludGVybmV0UmV0cnkiLCJfdGltZXIiLCJjbGVhclRpbWVvdXQiLCJzZXRUaW1lb3V0Iiwic3RhcnQiLCJyZXRyeVRpbWVvdXQiLCJ0aW1lciIsInRpbWVyVGltb3V0TVMiLCJvbkNsb3NlIiwiZGVzdHJveSIsIl9yZXEiLCJyZW1vdmVBbGxMaXN0ZW5lcnMiLCJhYm9ydCIsInRpbWVvdXRUaW1lciIsImVuZCIsImNsb3NlIiwicmVxX29wdGlvbnMiLCJ0aW1lb3V0Iiwibm9DYWNoZSIsImhlYWRlcnMiLCJlcnIiLCJGSUxFX0NSRUFUSU5HX0VSUk9SIiwicmVxdWVzdCIsInJlc3BvbnNlIiwiY29uc29sZSIsIlRJTUVPVVQiLCJDSFVOS19FUlJPUiIsInN0YXR1c0NvZGUiLCJfaGVhZGVycyIsIk51bWJlciIsImxlbmd0aCIsInBpcGUiLCJfcHJvbWlzZSIsInN0b3AiLCJBQk9SVEVEIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5979\n')},2777:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var fs = __webpack_require__(7147);\nvar appSettings = __webpack_require__(9277);\n\n/**\n *\n * @type {{start: number, end: null}}\n */\nvar defaultOptions = Object.assign({\n  start: 0,\n  end: null\n}, appSettings.getSettings().defaultManifestRequestOptions);\n\n/**\n *\n * @type {{CHUNK_ERROR: string, CHUNK_SIZE_ERROR: string, FILE_CREATING_ERROR: string, FILE_WRITING_ERROR: string,\n *     ABORTED: string}}\n */\nvar errors = {\n  ABORTED: "ABORTED",\n  CHUNK_ERROR: "CHUNK_ERROR",\n  CHUNK_SIZE_ERROR: "CHUNK_SIZE_ERROR",\n  FILE_CREATING_ERROR: "FILE_CREATING_ERROR",\n  FILE_WRITING_ERROR: "FILE_WRITING_ERROR",\n  NO_SPACE_LEFT_ERROR: "NO_SPACE_LEFT_ERROR",\n  INTERNET: "INTERNET",\n  TIMEOUT: "TIMEOUT"\n};\n\n/**\n * @param {string} fileUrl - file url\n * @param {function} callback - callback to be invoked when check for file has been done\n * @returns {void}\n */\nfunction checkForLocalFile(fileUrl, callback) {\n  fs.stat(fileUrl, function (error, stat) {\n    if (error) {\n      callback(false);\n    } else {\n      callback(true, stat.size);\n    }\n  });\n}\nmodule.exports = {\n  checkForLocalFile: checkForLocalFile,\n  defaultOptions: defaultOptions,\n  errors: errors\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjc3Ny5qcyIsIm1hcHBpbmdzIjoiQUFBQSxJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLElBQU1DLFdBQVcsR0FBR0QsbUJBQU8sQ0FBQyxJQUFpQixDQUFDOztBQUU5QztBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1FLGNBQWMsR0FBR0MsTUFBTSxDQUFDQyxNQUFNLENBQ2xDO0VBQ0VDLEtBQUssRUFBRSxDQUFDO0VBQ1JDLEdBQUcsRUFBRTtBQUNQLENBQUMsRUFDREwsV0FBVyxDQUFDTSxXQUFXLEVBQUUsQ0FBQ0MsNkJBQTZCLENBQ3hEOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFNQyxNQUFNLEdBQUc7RUFDYkMsT0FBTyxFQUFFLFNBQVM7RUFDbEJDLFdBQVcsRUFBRSxhQUFhO0VBQzFCQyxnQkFBZ0IsRUFBRSxrQkFBa0I7RUFDcENDLG1CQUFtQixFQUFFLHFCQUFxQjtFQUMxQ0Msa0JBQWtCLEVBQUUsb0JBQW9CO0VBQ3hDQyxtQkFBbUIsRUFBRSxxQkFBcUI7RUFDMUNDLFFBQVEsRUFBRSxVQUFVO0VBQ3BCQyxPQUFPLEVBQUU7QUFDWCxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTQyxpQkFBaUIsQ0FBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUU7RUFDN0NyQixFQUFFLENBQUNzQixJQUFJLENBQUNGLE9BQU8sRUFBRSxVQUFVRyxLQUFLLEVBQUVELElBQUksRUFBRTtJQUN0QyxJQUFJQyxLQUFLLEVBQUU7TUFDVEYsUUFBUSxDQUFDLEtBQUssQ0FBQztJQUNqQixDQUFDLE1BQU07TUFDTEEsUUFBUSxDQUFDLElBQUksRUFBRUMsSUFBSSxDQUFDRSxJQUFJLENBQUM7SUFDM0I7RUFDRixDQUFDLENBQUM7QUFDSjtBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmUCxpQkFBaUIsRUFBRUEsaUJBQWlCO0VBQ3BDaEIsY0FBYyxFQUFFQSxjQUFjO0VBQzlCTyxNQUFNLEVBQUVBO0FBQ1YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2Rvd25sb2FkLWZpbGUtdXRpbC5qcz8xYjhlIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IGZzID0gcmVxdWlyZShcImZzXCIpO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKCcuLi9hcHAtc2V0dGluZ3MnKTtcblxuLyoqXG4gKlxuICogQHR5cGUge3tzdGFydDogbnVtYmVyLCBlbmQ6IG51bGx9fVxuICovXG5jb25zdCBkZWZhdWx0T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gIHtcbiAgICBzdGFydDogMCxcbiAgICBlbmQ6IG51bGxcbiAgfSxcbiAgYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kZWZhdWx0TWFuaWZlc3RSZXF1ZXN0T3B0aW9uc1xuKTtcblxuLyoqXG4gKlxuICogQHR5cGUge3tDSFVOS19FUlJPUjogc3RyaW5nLCBDSFVOS19TSVpFX0VSUk9SOiBzdHJpbmcsIEZJTEVfQ1JFQVRJTkdfRVJST1I6IHN0cmluZywgRklMRV9XUklUSU5HX0VSUk9SOiBzdHJpbmcsXG4gKiAgICAgQUJPUlRFRDogc3RyaW5nfX1cbiAqL1xuY29uc3QgZXJyb3JzID0ge1xuICBBQk9SVEVEOiBcIkFCT1JURURcIixcbiAgQ0hVTktfRVJST1I6IFwiQ0hVTktfRVJST1JcIixcbiAgQ0hVTktfU0laRV9FUlJPUjogXCJDSFVOS19TSVpFX0VSUk9SXCIsXG4gIEZJTEVfQ1JFQVRJTkdfRVJST1I6IFwiRklMRV9DUkVBVElOR19FUlJPUlwiLFxuICBGSUxFX1dSSVRJTkdfRVJST1I6IFwiRklMRV9XUklUSU5HX0VSUk9SXCIsXG4gIE5PX1NQQUNFX0xFRlRfRVJST1I6IFwiTk9fU1BBQ0VfTEVGVF9FUlJPUlwiLFxuICBJTlRFUk5FVDogXCJJTlRFUk5FVFwiLFxuICBUSU1FT1VUOiBcIlRJTUVPVVRcIixcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGZpbGVVcmwgLSBmaWxlIHVybFxuICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2sgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gY2hlY2sgZm9yIGZpbGUgaGFzIGJlZW4gZG9uZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGNoZWNrRm9yTG9jYWxGaWxlIChmaWxlVXJsLCBjYWxsYmFjaykge1xuICBmcy5zdGF0KGZpbGVVcmwsIGZ1bmN0aW9uIChlcnJvciwgc3RhdCkge1xuICAgIGlmIChlcnJvcikge1xuICAgICAgY2FsbGJhY2soZmFsc2UpXG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKHRydWUsIHN0YXQuc2l6ZSk7XG4gICAgfVxuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGNoZWNrRm9yTG9jYWxGaWxlOiBjaGVja0ZvckxvY2FsRmlsZSxcbiAgZGVmYXVsdE9wdGlvbnM6IGRlZmF1bHRPcHRpb25zLFxuICBlcnJvcnM6IGVycm9yc1xufTtcbiJdLCJuYW1lcyI6WyJmcyIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsImRlZmF1bHRPcHRpb25zIiwiT2JqZWN0IiwiYXNzaWduIiwic3RhcnQiLCJlbmQiLCJnZXRTZXR0aW5ncyIsImRlZmF1bHRNYW5pZmVzdFJlcXVlc3RPcHRpb25zIiwiZXJyb3JzIiwiQUJPUlRFRCIsIkNIVU5LX0VSUk9SIiwiQ0hVTktfU0laRV9FUlJPUiIsIkZJTEVfQ1JFQVRJTkdfRVJST1IiLCJGSUxFX1dSSVRJTkdfRVJST1IiLCJOT19TUEFDRV9MRUZUX0VSUk9SIiwiSU5URVJORVQiLCJUSU1FT1VUIiwiY2hlY2tGb3JMb2NhbEZpbGUiLCJmaWxlVXJsIiwiY2FsbGJhY2siLCJzdGF0IiwiZXJyb3IiLCJzaXplIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2777\n')},4959:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var fs = __webpack_require__(7147);\nvar _require = __webpack_require__(7194),\n  net = _require.net;\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\nvar util = __webpack_require__(3837);\nvar downloadFileUtil = __webpack_require__(2777);\nvar DownloadFileChunk = __webpack_require__(6006);\n\n/**\n *\n * @param {string} url - remote url\n * @param {string} destFile - local url\n * @param {object} options - options\n * @constructor\n */\nfunction DownloadFile(url, destFile, options) {\n  this._url = url;\n  this._destFile = destFile;\n  this._options = options;\n  this._resetValues();\n}\nutil.inherits(DownloadFile, EventEmitter);\n\n/**\n *\n * @param {number} size - size of file\n * @private\n * @returns {*} - number of chunks\n */\nDownloadFile.prototype._calculateChunksNumber = function (size) {\n  var MB = 1024 * 1024;\n  for (var i = 0, j = this._options.threads.length; i < j; i++) {\n    if (size < this._options.threads[i].size * MB) {\n      return this._options.threads[i].number;\n    }\n  }\n  return 1;\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._concatChunks = function () {\n  var self = this;\n  var intervalTime = 500;\n  self._chunks[0].writeProgress = 1;\n  function countWriteProgress() {\n    self.writeProgress = self._chunks.reduce(function (a, b) {\n      return a + b.writeProgress;\n    }, 0) / self._chunksNumber;\n    self.emit("data");\n  }\n  function getWriteStream() {\n    return fs.createWriteStream(self._chunks[0].destFile, {\n      flags: "a"\n    });\n  }\n  function onInterval(writeStream, currentStream) {\n    self._chunks[currentStream].writeProgress = writeStream.bytesWritten / self._chunks[currentStream].available;\n    if (self._chunks[currentStream].writeProgress > 1) {\n      self._chunks[currentStream].writeProgress = 1;\n    }\n    countWriteProgress();\n  }\n  function pipeStream(writeStream, nextStreamNumber) {\n    var chunk = self._chunks[nextStreamNumber];\n    if (chunk) {\n      var interval = setInterval(function () {\n        onInterval(writeStream, nextStreamNumber);\n      }, intervalTime);\n      var readStream = fs.createReadStream(chunk.destFile);\n      readStream.pipe(writeStream);\n      writeStream.on("close", function () {\n        clearInterval(interval);\n        onInterval(writeStream, nextStreamNumber);\n        writeStream.removeAllListeners();\n        readStream.unpipe(writeStream);\n        readStream.destroy();\n        fs.unlink(chunk.destFile, function (err) {\n          if (err) {\n            self.emit("error", err);\n          } else {\n            writeStream.destroy();\n            pipeStream(getWriteStream(), nextStreamNumber + 1);\n          }\n        });\n      });\n    } else {\n      countWriteProgress();\n      writeStream.removeAllListeners();\n      writeStream.destroy();\n      fs.rename(self._chunks[0].destFile, self._destFile, function (err) {\n        if (err) {\n          self.emit("error", err);\n        } else {\n          self.emit("end");\n        }\n      });\n    }\n  }\n  if (self._chunks.length > 1) {\n    pipeStream(getWriteStream(), 1);\n  } else {\n    countWriteProgress();\n    self.emit("end");\n  }\n};\n\n/**\n *\n * @param {number} chunkNumber - chunk number\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._initChunk = function (chunkNumber) {\n  var options = {};\n  options.bytesRangeNotAvailable = this._bytesRangeNotAvailable;\n  options.destFile = this._destFile;\n  options.maxDownloadRetry = this._options.maxDownloadChunkRetry;\n  options.maxDownloadInternetRetry = this._options.maxDownloadChunkInternetRetry;\n  options.timeout = this._options.timeout;\n  options.retryTimeout = this._options.retryTimeout;\n  options.useChunkedEncoding = this._options.useChunkedEncoding;\n  var size = this.file_size;\n  if (this._chunksNumber > 1) {\n    var chunkSize = parseInt(size / this._chunksNumber, 10);\n    options.startPosition = chunkNumber * chunkSize;\n    options.multiChunks = true;\n    if (chunkNumber === this._chunksNumber - 1) {\n      options.endPosition = size - 1;\n    } else {\n      options.endPosition = options.startPosition + chunkSize - 1;\n    }\n  } else {\n    options.startPosition = 0;\n    options.endPosition = size - 1;\n  }\n  var chunk = new DownloadFileChunk(this._url, options);\n  chunk.events.on("download", this._onChunkDownload.bind(this));\n  this._chunks.push(chunk);\n};\n\n/**\n *\n * @param {object} err - error\n * @param {boolean} aborted - if failure has been called because download was aborted\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._onDownloadFailure = function (err, aborted) {\n  this._promises = null;\n  if (!aborted) {\n    this._errors = this._errors || 0;\n    this._errors++;\n    if (this._errors <= this._options.maxDownloadRetry) {\n      this._retryDownload();\n    } else {\n      this.emit("error", err);\n    }\n  } else {\n    var noSpaceLeft = false;\n    for (var i = 0, j = err.length; i < j; i++) {\n      if (err[i]) {\n        if (err[i] === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR) {\n          noSpaceLeft = true;\n          break;\n        }\n      }\n    }\n    if (noSpaceLeft) {\n      err = {\n        message: downloadFileUtil.errors.NO_SPACE_LEFT_ERROR\n      };\n    }\n    this.emit("error", err);\n  }\n};\n\n/**\n *\n * @param {object} err - error\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._onDownloadSuccess = function (err) {\n  var aborted, error;\n  this._promises = null;\n  err = err || [];\n  for (var i = 0, j = err.length; i < j; i++) {\n    if (err[i]) {\n      if (err[i] === downloadFileUtil.errors.ABORTED || err[i] === downloadFileUtil.errors.NO_SPACE_LEFT_ERROR) {\n        aborted = true;\n      }\n      error = true;\n    }\n  }\n  if (!error) {\n    this._concatChunks();\n  } else {\n    this._onDownloadFailure(err, aborted);\n  }\n};\n\n/**\n *\n * @param {number} downloaded - downloaded bytes\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._onChunkDownload = function (downloaded) {\n  this.downloaded += downloaded;\n  this.available = this._chunks.reduce(function (a, b) {\n    return a + b.available;\n  }, 0);\n  this.emit("data");\n};\nDownloadFile.prototype._retryDownload = function () {\n  // console.log("retrying download", this._destFile);\n  this._resetValues();\n  this.start();\n};\nDownloadFile.prototype._resetValues = function () {\n  this.available = 0;\n  this.downloaded = 0;\n  this.progress = 0;\n  this.file_size = 0;\n  this.writeProgress = 0;\n  this._chunks = [];\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownloadFile.prototype._startChunks = function () {\n  var promises = [];\n  for (var i = 0, j = this._chunks.length; i < j; i++) {\n    promises.push(this._chunks[i].start());\n  }\n  this._promises = promises;\n  Promise.all(this._promises).then(this._onDownloadSuccess.bind(this), this._onDownloadFailure.bind(this));\n};\nDownloadFile.prototype._startAllChunks = function () {\n  for (var i = 0, j = this._chunksNumber; i < j; i++) {\n    this._initChunk(i);\n  }\n  this._startChunks();\n};\n\n/**\n * starts download\n * @returns {void}\n */\nDownloadFile.prototype.start = function () {\n  var self = this;\n  var req_options = Object.assign({\n    url: this._url,\n    method: \'HEAD\'\n  }, downloadFileUtil.defaultOptions);\n  if (this._options.noCache) {\n    req_options.headers = req_options.headers || {};\n    req_options.headers[\'Cache-Control\'] = \'no-cache\';\n  }\n  var req = net.request(req_options);\n  req.chunkedEncoding = this._options.useChunkedEncoding;\n  req.on(\'response\', function (response) {\n    if (response && response.statusCode >= 400) {\n      var error = response.statusMessage;\n      if (error) {\n        self._onDownloadFailure(error, false);\n        return;\n      }\n    }\n    response.on("error", function (error) {\n      if (error) {\n        self._onDownloadFailure(error, false);\n      }\n    });\n    self._headers = response.headers;\n    self.file_size = Number(self._headers["content-length"]);\n    self._chunksNumber = self._calculateChunksNumber(self.file_size);\n    downloadFileUtil.checkForLocalFile(self._destFile, function (exists, fileSize) {\n      if (exists) {\n        if (fileSize === self.file_size) {\n          self.emit("end");\n        } else if (fileSize > self.file_size) {\n          fs.unlink(self._destFile, function (err) {\n            if (err) {\n              throw err;\n            }\n          });\n          self._startAllChunks();\n        } else if (fileSize < self.file_size && self._chunksNumber > 1) {\n          fs.unlink(self._destFile, function (err) {\n            if (err) {\n              throw err;\n            }\n          });\n          self._startAllChunks();\n        } else {\n          self._startAllChunks();\n        }\n      } else {\n        self._startAllChunks();\n      }\n    });\n  });\n  req.end();\n};\n\n/**\n * stops download\n * @returns {void}\n */\nDownloadFile.prototype.stop = function () {\n  var promises = [];\n  for (var i = 0, j = this._chunks.length; i < j; i++) {\n    this._chunks[i].stop();\n    if (this._chunks[i]._promise) {\n      promises.push(this._chunks[i]._promise);\n    }\n  }\n  function onStopped() {\n    this.emit("end", \'\');\n  }\n  if (!this._promises) {\n    Promise.all(promises).then(onStopped.bind(this), onStopped.bind(this));\n  }\n};\nmodule.exports = DownloadFile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UixDQUFDLENBQUMsQ0FBQ3NHLFFBQVEsQ0FBQztJQUN6QztFQUNGO0VBQ0EsU0FBU0MsU0FBUyxHQUFJO0lBQ3BCLElBQUksQ0FBQ3hGLElBQUksQ0FBQyxLQUFLLEVBQUUsRUFBRSxDQUFDO0VBQ3RCO0VBQ0EsSUFBSSxDQUFDLElBQUksQ0FBQ2dELFNBQVMsRUFBRTtJQUNuQmUsT0FBTyxDQUFDQyxHQUFHLENBQUNGLFFBQVEsQ0FBQyxDQUFDRyxJQUFJLENBQUN1QixTQUFTLENBQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLEVBQUU0QyxTQUFTLENBQUM1QyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7RUFDeEU7QUFDRixDQUFDO0FBRUQ2QyxNQUFNLENBQUNDLE9BQU8sR0FBR3RILFlBQVkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25sb2Fkcy9kb3dubG9hZC1maWxlLmpzPzIxMjkiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCB7bmV0fSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5jb25zdCBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKFwiZXZlbnRzXCIpLkV2ZW50RW1pdHRlcjtcbmNvbnN0IHV0aWwgPSByZXF1aXJlKFwidXRpbFwiKTtcbmNvbnN0IGRvd25sb2FkRmlsZVV0aWwgPSByZXF1aXJlKFwiLi9kb3dubG9hZC1maWxlLXV0aWxcIik7XG5jb25zdCBEb3dubG9hZEZpbGVDaHVuayA9IHJlcXVpcmUoXCIuL2Rvd25sb2FkLWZpbGUtY2h1bmtcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmwgLSByZW1vdGUgdXJsXG4gKiBAcGFyYW0ge3N0cmluZ30gZGVzdEZpbGUgLSBsb2NhbCB1cmxcbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9uc1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERvd25sb2FkRmlsZSAodXJsLCBkZXN0RmlsZSwgb3B0aW9ucykge1xuICB0aGlzLl91cmwgPSB1cmw7XG4gIHRoaXMuX2Rlc3RGaWxlID0gZGVzdEZpbGU7XG4gIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICB0aGlzLl9yZXNldFZhbHVlcygpO1xufVxuXG51dGlsLmluaGVyaXRzKERvd25sb2FkRmlsZSwgRXZlbnRFbWl0dGVyKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IHNpemUgLSBzaXplIG9mIGZpbGVcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7Kn0gLSBudW1iZXIgb2YgY2h1bmtzXG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX2NhbGN1bGF0ZUNodW5rc051bWJlciA9IGZ1bmN0aW9uIChzaXplKSB7XG4gIGNvbnN0IE1CID0gMTAyNCAqIDEwMjQ7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5fb3B0aW9ucy50aHJlYWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmIChzaXplIDwgdGhpcy5fb3B0aW9ucy50aHJlYWRzW2ldLnNpemUgKiBNQikge1xuICAgICAgcmV0dXJuIHRoaXMuX29wdGlvbnMudGhyZWFkc1tpXS5udW1iZXJcbiAgICB9XG4gIH1cbiAgcmV0dXJuIDE7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fY29uY2F0Q2h1bmtzID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgY29uc3QgaW50ZXJ2YWxUaW1lID0gNTAwO1xuICBzZWxmLl9jaHVua3NbMF0ud3JpdGVQcm9ncmVzcyA9IDE7XG4gIGZ1bmN0aW9uIGNvdW50V3JpdGVQcm9ncmVzcyAoKSB7XG4gICAgc2VsZi53cml0ZVByb2dyZXNzID0gc2VsZi5fY2h1bmtzLnJlZHVjZShmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gYSArIGIud3JpdGVQcm9ncmVzcztcbiAgICAgIH0sIDApIC8gc2VsZi5fY2h1bmtzTnVtYmVyO1xuICAgIHNlbGYuZW1pdChcImRhdGFcIik7XG4gIH1cbiAgZnVuY3Rpb24gZ2V0V3JpdGVTdHJlYW0gKCkge1xuICAgIHJldHVybiBmcy5jcmVhdGVXcml0ZVN0cmVhbShzZWxmLl9jaHVua3NbMF0uZGVzdEZpbGUsIHtmbGFnczogXCJhXCJ9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uSW50ZXJ2YWwgKHdyaXRlU3RyZWFtLCBjdXJyZW50U3RyZWFtKSB7XG4gICAgc2VsZi5fY2h1bmtzW2N1cnJlbnRTdHJlYW1dLndyaXRlUHJvZ3Jlc3MgPSB3cml0ZVN0cmVhbS5ieXRlc1dyaXR0ZW4gLyBzZWxmLl9jaHVua3NbY3VycmVudFN0cmVhbV0uYXZhaWxhYmxlO1xuICAgIGlmIChzZWxmLl9jaHVua3NbY3VycmVudFN0cmVhbV0ud3JpdGVQcm9ncmVzcyA+IDEpIHtcbiAgICAgIHNlbGYuX2NodW5rc1tjdXJyZW50U3RyZWFtXS53cml0ZVByb2dyZXNzID0gMTtcbiAgICB9XG4gICAgY291bnRXcml0ZVByb2dyZXNzKCk7XG4gIH1cblxuICBmdW5jdGlvbiBwaXBlU3RyZWFtICh3cml0ZVN0cmVhbSwgbmV4dFN0cmVhbU51bWJlcikge1xuICAgIGNvbnN0IGNodW5rID0gc2VsZi5fY2h1bmtzW25leHRTdHJlYW1OdW1iZXJdO1xuICAgIGlmIChjaHVuaykge1xuICAgICAgY29uc3QgaW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9uSW50ZXJ2YWwod3JpdGVTdHJlYW0sIG5leHRTdHJlYW1OdW1iZXIpO1xuICAgICAgfSwgaW50ZXJ2YWxUaW1lKTtcbiAgICAgIGNvbnN0IHJlYWRTdHJlYW0gPSBmcy5jcmVhdGVSZWFkU3RyZWFtKGNodW5rLmRlc3RGaWxlKTtcbiAgICAgIHJlYWRTdHJlYW0ucGlwZSh3cml0ZVN0cmVhbSk7XG4gICAgICB3cml0ZVN0cmVhbS5vbihcImNsb3NlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbCk7XG4gICAgICAgIG9uSW50ZXJ2YWwod3JpdGVTdHJlYW0sIG5leHRTdHJlYW1OdW1iZXIpO1xuXG4gICAgICAgIHdyaXRlU3RyZWFtLnJlbW92ZUFsbExpc3RlbmVycygpO1xuXG4gICAgICAgIHJlYWRTdHJlYW0udW5waXBlKHdyaXRlU3RyZWFtKTtcbiAgICAgICAgcmVhZFN0cmVhbS5kZXN0cm95KCk7XG4gICAgICAgIGZzLnVubGluayhjaHVuay5kZXN0RmlsZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHNlbGYuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHdyaXRlU3RyZWFtLmRlc3Ryb3koKTtcbiAgICAgICAgICAgIHBpcGVTdHJlYW0oZ2V0V3JpdGVTdHJlYW0oKSwgbmV4dFN0cmVhbU51bWJlciArIDEpXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb3VudFdyaXRlUHJvZ3Jlc3MoKTtcbiAgICAgIHdyaXRlU3RyZWFtLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgd3JpdGVTdHJlYW0uZGVzdHJveSgpO1xuXG4gICAgICBmcy5yZW5hbWUoc2VsZi5fY2h1bmtzWzBdLmRlc3RGaWxlLCBzZWxmLl9kZXN0RmlsZSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgc2VsZi5lbWl0KFwiZXJyb3JcIiwgZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLmVtaXQoXCJlbmRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzZWxmLl9jaHVua3MubGVuZ3RoID4gMSkge1xuICAgIHBpcGVTdHJlYW0oZ2V0V3JpdGVTdHJlYW0oKSwgMSk7XG4gIH0gZWxzZSB7XG4gICAgY291bnRXcml0ZVByb2dyZXNzKCk7XG4gICAgc2VsZi5lbWl0KFwiZW5kXCIpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gY2h1bmtOdW1iZXIgLSBjaHVuayBudW1iZXJcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5faW5pdENodW5rID0gZnVuY3Rpb24gKGNodW5rTnVtYmVyKSB7XG4gIGxldCBvcHRpb25zID0ge307XG4gIG9wdGlvbnMuYnl0ZXNSYW5nZU5vdEF2YWlsYWJsZSA9IHRoaXMuX2J5dGVzUmFuZ2VOb3RBdmFpbGFibGU7XG4gIG9wdGlvbnMuZGVzdEZpbGUgPSB0aGlzLl9kZXN0RmlsZTtcbiAgb3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZENodW5rUmV0cnk7XG4gIG9wdGlvbnMubWF4RG93bmxvYWRJbnRlcm5ldFJldHJ5ID0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZENodW5rSW50ZXJuZXRSZXRyeTtcbiAgb3B0aW9ucy50aW1lb3V0ID0gdGhpcy5fb3B0aW9ucy50aW1lb3V0O1xuICBvcHRpb25zLnJldHJ5VGltZW91dCA9IHRoaXMuX29wdGlvbnMucmV0cnlUaW1lb3V0O1xuICBvcHRpb25zLnVzZUNodW5rZWRFbmNvZGluZyA9IHRoaXMuX29wdGlvbnMudXNlQ2h1bmtlZEVuY29kaW5nO1xuXG4gIGNvbnN0IHNpemUgPSB0aGlzLmZpbGVfc2l6ZTtcbiAgaWYgKHRoaXMuX2NodW5rc051bWJlciA+IDEpIHtcbiAgICBjb25zdCBjaHVua1NpemUgPSBwYXJzZUludChzaXplIC8gdGhpcy5fY2h1bmtzTnVtYmVyLCAxMCk7XG4gICAgb3B0aW9ucy5zdGFydFBvc2l0aW9uID0gKGNodW5rTnVtYmVyKSAqIGNodW5rU2l6ZTtcbiAgICBvcHRpb25zLm11bHRpQ2h1bmtzID0gdHJ1ZTtcbiAgICBpZiAoY2h1bmtOdW1iZXIgPT09IHRoaXMuX2NodW5rc051bWJlciAtIDEpIHtcbiAgICAgIG9wdGlvbnMuZW5kUG9zaXRpb24gPSBzaXplIC0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0aW9ucy5lbmRQb3NpdGlvbiA9IG9wdGlvbnMuc3RhcnRQb3NpdGlvbiArIGNodW5rU2l6ZSAtIDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuc3RhcnRQb3NpdGlvbiA9IDA7XG4gICAgb3B0aW9ucy5lbmRQb3NpdGlvbiA9IHNpemUgLSAxO1xuICB9XG4gIGNvbnN0IGNodW5rID0gbmV3IERvd25sb2FkRmlsZUNodW5rKHRoaXMuX3VybCwgb3B0aW9ucyk7XG4gIGNodW5rLmV2ZW50cy5vbihcImRvd25sb2FkXCIsIHRoaXMuX29uQ2h1bmtEb3dubG9hZC5iaW5kKHRoaXMpKTtcbiAgdGhpcy5fY2h1bmtzLnB1c2goY2h1bmspO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGVyciAtIGVycm9yXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGFib3J0ZWQgLSBpZiBmYWlsdXJlIGhhcyBiZWVuIGNhbGxlZCBiZWNhdXNlIGRvd25sb2FkIHdhcyBhYm9ydGVkXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX29uRG93bmxvYWRGYWlsdXJlID0gZnVuY3Rpb24gKGVyciwgYWJvcnRlZCkge1xuICB0aGlzLl9wcm9taXNlcyA9IG51bGw7XG4gIGlmICghYWJvcnRlZCkge1xuICAgIHRoaXMuX2Vycm9ycyA9IHRoaXMuX2Vycm9ycyB8fCAwO1xuICAgIHRoaXMuX2Vycm9ycysrO1xuICAgIGlmICh0aGlzLl9lcnJvcnMgPD0gdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5KSB7XG4gICAgICB0aGlzLl9yZXRyeURvd25sb2FkKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGxldCBub1NwYWNlTGVmdCA9IGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gZXJyLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgaWYgKGVycltpXSkge1xuICAgICAgICBpZiAoZXJyW2ldID09PSBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5OT19TUEFDRV9MRUZUX0VSUk9SKSB7XG4gICAgICAgICAgbm9TcGFjZUxlZnQgPSB0cnVlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG5vU3BhY2VMZWZ0KSB7XG4gICAgICBlcnIgPSB7XG4gICAgICAgIG1lc3NhZ2U6IGRvd25sb2FkRmlsZVV0aWwuZXJyb3JzLk5PX1NQQUNFX0xFRlRfRVJST1JcbiAgICAgIH07XG4gICAgfVxuICAgIHRoaXMuZW1pdChcImVycm9yXCIsIGVycik7XG4gIH1cblxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGVyciAtIGVycm9yXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX29uRG93bmxvYWRTdWNjZXNzID0gZnVuY3Rpb24gKGVycikge1xuICBsZXQgYWJvcnRlZCwgZXJyb3I7XG4gIHRoaXMuX3Byb21pc2VzID0gbnVsbDtcbiAgZXJyID0gZXJyIHx8IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IGVyci5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAoZXJyW2ldKSB7XG4gICAgICBpZiAoZXJyW2ldID09PSBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5BQk9SVEVEIHx8XG4gICAgICAgICAgZXJyW2ldID09PSBkb3dubG9hZEZpbGVVdGlsLmVycm9ycy5OT19TUEFDRV9MRUZUX0VSUk9SKSB7XG4gICAgICAgIGFib3J0ZWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZXJyb3IgPSB0cnVlO1xuICAgIH1cbiAgfVxuICBpZiAoIWVycm9yKSB7XG4gICAgdGhpcy5fY29uY2F0Q2h1bmtzKCk7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5fb25Eb3dubG9hZEZhaWx1cmUoZXJyLCBhYm9ydGVkKTtcbiAgfVxufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtudW1iZXJ9IGRvd25sb2FkZWQgLSBkb3dubG9hZGVkIGJ5dGVzXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX29uQ2h1bmtEb3dubG9hZCA9IGZ1bmN0aW9uIChkb3dubG9hZGVkKSB7XG4gIHRoaXMuZG93bmxvYWRlZCArPSBkb3dubG9hZGVkO1xuICB0aGlzLmF2YWlsYWJsZSA9IHRoaXMuX2NodW5rcy5yZWR1Y2UoZnVuY3Rpb24gKGEsIGIpIHtcbiAgICByZXR1cm4gYSArIGIuYXZhaWxhYmxlO1xuICB9LCAwKTtcbiAgdGhpcy5lbWl0KFwiZGF0YVwiKTtcbn07XG5cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuX3JldHJ5RG93bmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIGNvbnNvbGUubG9nKFwicmV0cnlpbmcgZG93bmxvYWRcIiwgdGhpcy5fZGVzdEZpbGUpO1xuICB0aGlzLl9yZXNldFZhbHVlcygpO1xuICB0aGlzLnN0YXJ0KCk7XG59O1xuXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLl9yZXNldFZhbHVlcyA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5hdmFpbGFibGUgPSAwO1xuICB0aGlzLmRvd25sb2FkZWQgPSAwO1xuICB0aGlzLnByb2dyZXNzID0gMDtcbiAgdGhpcy5maWxlX3NpemUgPSAwO1xuICB0aGlzLndyaXRlUHJvZ3Jlc3MgPSAwO1xuICB0aGlzLl9jaHVua3MgPSBbXTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZEZpbGUucHJvdG90eXBlLl9zdGFydENodW5rcyA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHByb21pc2VzID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5fY2h1bmtzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIHByb21pc2VzLnB1c2godGhpcy5fY2h1bmtzW2ldLnN0YXJ0KCkpO1xuICB9XG4gIHRoaXMuX3Byb21pc2VzID0gcHJvbWlzZXM7XG4gIFByb21pc2UuYWxsKHRoaXMuX3Byb21pc2VzKS50aGVuKHRoaXMuX29uRG93bmxvYWRTdWNjZXNzLmJpbmQodGhpcyksIHRoaXMuX29uRG93bmxvYWRGYWlsdXJlLmJpbmQodGhpcykpO1xufTtcblxuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5fc3RhcnRBbGxDaHVua3MgPSBmdW5jdGlvbiAoKSB7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5fY2h1bmtzTnVtYmVyOyBpIDwgajsgaSsrKSB7XG4gICAgdGhpcy5faW5pdENodW5rKGkpXG4gIH1cbiAgdGhpcy5fc3RhcnRDaHVua3MoKTtcbn07XG5cbi8qKlxuICogc3RhcnRzIGRvd25sb2FkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWRGaWxlLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGxldCByZXFfb3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oXG4gICAge1xuICAgICAgdXJsOiB0aGlzLl91cmwsXG4gICAgICBtZXRob2Q6ICdIRUFEJ1xuICAgIH0sXG4gICAgZG93bmxvYWRGaWxlVXRpbC5kZWZhdWx0T3B0aW9uc1xuICApO1xuICBpZiAodGhpcy5fb3B0aW9ucy5ub0NhY2hlKSB7XG4gICAgcmVxX29wdGlvbnMuaGVhZGVycyA9IHJlcV9vcHRpb25zLmhlYWRlcnMgfHwge307XG4gICAgcmVxX29wdGlvbnMuaGVhZGVyc1snQ2FjaGUtQ29udHJvbCddID0gJ25vLWNhY2hlJztcbiAgfVxuXG4gIGxldCByZXEgPSBuZXQucmVxdWVzdChyZXFfb3B0aW9ucyk7XG4gIHJlcS5jaHVua2VkRW5jb2RpbmcgPSB0aGlzLl9vcHRpb25zLnVzZUNodW5rZWRFbmNvZGluZztcblxuICByZXEub24oJ3Jlc3BvbnNlJywgKHJlc3BvbnNlKSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlICYmIHJlc3BvbnNlLnN0YXR1c0NvZGUgPj0gNDAwKSB7XG4gICAgICBsZXQgZXJyb3IgPSByZXNwb25zZS5zdGF0dXNNZXNzYWdlO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHNlbGYuX29uRG93bmxvYWRGYWlsdXJlKGVycm9yLCBmYWxzZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzcG9uc2Uub24oXCJlcnJvclwiLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICBzZWxmLl9vbkRvd25sb2FkRmFpbHVyZShlcnJvciwgZmFsc2UpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgc2VsZi5faGVhZGVycyA9IHJlc3BvbnNlLmhlYWRlcnM7XG4gICAgc2VsZi5maWxlX3NpemUgPSBOdW1iZXIoc2VsZi5faGVhZGVyc1tcImNvbnRlbnQtbGVuZ3RoXCJdKTtcbiAgICBzZWxmLl9jaHVua3NOdW1iZXIgPSBzZWxmLl9jYWxjdWxhdGVDaHVua3NOdW1iZXIoc2VsZi5maWxlX3NpemUpO1xuXG4gICAgZG93bmxvYWRGaWxlVXRpbC5jaGVja0ZvckxvY2FsRmlsZShzZWxmLl9kZXN0RmlsZSwgZnVuY3Rpb24gKGV4aXN0cywgZmlsZVNpemUpIHtcbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgaWYgKGZpbGVTaXplID09PSBzZWxmLmZpbGVfc2l6ZSkge1xuICAgICAgICAgIHNlbGYuZW1pdChcImVuZFwiKTtcbiAgICAgICAgfSBlbHNlIGlmIChmaWxlU2l6ZSA+IHNlbGYuZmlsZV9zaXplKSB7XG4gICAgICAgICAgZnMudW5saW5rKHNlbGYuX2Rlc3RGaWxlLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBzZWxmLl9zdGFydEFsbENodW5rcygpO1xuICAgICAgICB9IGVsc2UgaWYgKGZpbGVTaXplIDwgc2VsZi5maWxlX3NpemUgJiYgc2VsZi5fY2h1bmtzTnVtYmVyID4gMSkge1xuICAgICAgICAgIGZzLnVubGluayhzZWxmLl9kZXN0RmlsZSwgKGVycikgPT4ge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgc2VsZi5fc3RhcnRBbGxDaHVua3MoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxmLl9zdGFydEFsbENodW5rcygpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLl9zdGFydEFsbENodW5rcygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmVxLmVuZCgpO1xufTtcblxuLyoqXG4gKiBzdG9wcyBkb3dubG9hZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkRmlsZS5wcm90b3R5cGUuc3RvcCA9IGZ1bmN0aW9uICgpIHtcbiAgbGV0IHByb21pc2VzID0gW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGhpcy5fY2h1bmtzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIHRoaXMuX2NodW5rc1tpXS5zdG9wKCk7XG4gICAgaWYgKHRoaXMuX2NodW5rc1tpXS5fcHJvbWlzZSkge1xuICAgICAgcHJvbWlzZXMucHVzaCh0aGlzLl9jaHVua3NbaV0uX3Byb21pc2UpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBvblN0b3BwZWQgKCkge1xuICAgIHRoaXMuZW1pdChcImVuZFwiLCAnJyk7XG4gIH1cbiAgaWYgKCF0aGlzLl9wcm9taXNlcykge1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKG9uU3RvcHBlZC5iaW5kKHRoaXMpLCBvblN0b3BwZWQuYmluZCh0aGlzKSk7XG4gIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRG93bmxvYWRGaWxlO1xuIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsIm5ldCIsIkV2ZW50RW1pdHRlciIsInV0aWwiLCJkb3dubG9hZEZpbGVVdGlsIiwiRG93bmxvYWRGaWxlQ2h1bmsiLCJEb3dubG9hZEZpbGUiLCJ1cmwiLCJkZXN0RmlsZSIsIm9wdGlvbnMiLCJfdXJsIiwiX2Rlc3RGaWxlIiwiX29wdGlvbnMiLCJfcmVzZXRWYWx1ZXMiLCJpbmhlcml0cyIsInByb3RvdHlwZSIsIl9jYWxjdWxhdGVDaHVua3NOdW1iZXIiLCJzaXplIiwiTUIiLCJpIiwiaiIsInRocmVhZHMiLCJsZW5ndGgiLCJudW1iZXIiLCJfY29uY2F0Q2h1bmtzIiwic2VsZiIsImludGVydmFsVGltZSIsIl9jaHVua3MiLCJ3cml0ZVByb2dyZXNzIiwiY291bnRXcml0ZVByb2dyZXNzIiwicmVkdWNlIiwiYSIsImIiLCJfY2h1bmtzTnVtYmVyIiwiZW1pdCIsImdldFdyaXRlU3RyZWFtIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJmbGFncyIsIm9uSW50ZXJ2YWwiLCJ3cml0ZVN0cmVhbSIsImN1cnJlbnRTdHJlYW0iLCJieXRlc1dyaXR0ZW4iLCJhdmFpbGFibGUiLCJwaXBlU3RyZWFtIiwibmV4dFN0cmVhbU51bWJlciIsImNodW5rIiwiaW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlYWRTdHJlYW0iLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsIm9uIiwiY2xlYXJJbnRlcnZhbCIsInJlbW92ZUFsbExpc3RlbmVycyIsInVucGlwZSIsImRlc3Ryb3kiLCJ1bmxpbmsiLCJlcnIiLCJyZW5hbWUiLCJfaW5pdENodW5rIiwiY2h1bmtOdW1iZXIiLCJieXRlc1JhbmdlTm90QXZhaWxhYmxlIiwiX2J5dGVzUmFuZ2VOb3RBdmFpbGFibGUiLCJtYXhEb3dubG9hZFJldHJ5IiwibWF4RG93bmxvYWRDaHVua1JldHJ5IiwibWF4RG93bmxvYWRJbnRlcm5ldFJldHJ5IiwibWF4RG93bmxvYWRDaHVua0ludGVybmV0UmV0cnkiLCJ0aW1lb3V0IiwicmV0cnlUaW1lb3V0IiwidXNlQ2h1bmtlZEVuY29kaW5nIiwiZmlsZV9zaXplIiwiY2h1bmtTaXplIiwicGFyc2VJbnQiLCJzdGFydFBvc2l0aW9uIiwibXVsdGlDaHVua3MiLCJlbmRQb3NpdGlvbiIsImV2ZW50cyIsIl9vbkNodW5rRG93bmxvYWQiLCJiaW5kIiwicHVzaCIsIl9vbkRvd25sb2FkRmFpbHVyZSIsImFib3J0ZWQiLCJfcHJvbWlzZXMiLCJfZXJyb3JzIiwiX3JldHJ5RG93bmxvYWQiLCJub1NwYWNlTGVmdCIsImVycm9ycyIsIk5PX1NQQUNFX0xFRlRfRVJST1IiLCJtZXNzYWdlIiwiX29uRG93bmxvYWRTdWNjZXNzIiwiZXJyb3IiLCJBQk9SVEVEIiwiZG93bmxvYWRlZCIsInN0YXJ0IiwicHJvZ3Jlc3MiLCJfc3RhcnRDaHVua3MiLCJwcm9taXNlcyIsIlByb21pc2UiLCJhbGwiLCJ0aGVuIiwiX3N0YXJ0QWxsQ2h1bmtzIiwicmVxX29wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJtZXRob2QiLCJkZWZhdWx0T3B0aW9ucyIsIm5vQ2FjaGUiLCJoZWFkZXJzIiwicmVxIiwicmVxdWVzdCIsImNodW5rZWRFbmNvZGluZyIsInJlc3BvbnNlIiwic3RhdHVzQ29kZSIsInN0YXR1c01lc3NhZ2UiLCJfaGVhZGVycyIsIk51bWJlciIsImNoZWNrRm9yTG9jYWxGaWxlIiwiZXhpc3RzIiwiZmlsZVNpemUiLCJlbmQiLCJzdG9wIiwiX3Byb21pc2UiLCJvblN0b3BwZWQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4959\n')},8158:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar _ = __webpack_require__(4952);\nvar domain = __webpack_require__(3639);\nvar DownloadFileNoHead = __webpack_require__(5979);\nvar DownloadFile = __webpack_require__(4959);\nvar mkdirp = __webpack_require__(9526);\nvar appSettings = __webpack_require__(9277);\nvar EventEmitter = (__webpack_require__(2361).EventEmitter);\nvar STATUSES = __webpack_require__(8255);\n\n/**\n *\n * @param {object} params - parameters connected with download like id, bandwidth, contentType, remoteUrl, localUrl\n * see util class {@link downloadUtil.getDownloadLinks}\n * @param {object} options - options chosen for whole manifest, like number of chunks, retry,\n * @constructor\n */\nfunction Download(params, options) {\n  this._defaults = {};\n  this._defaults.threads = appSettings.getSettings().downloadingThreadsRules.threads;\n  this.status = STATUSES.CREATED;\n  Object.assign(this, params);\n  this._options = Object.assign(this._defaults, options);\n  this._options.maxDownloadRetry = appSettings.getSettings().MAX_ERRORS_DOWNLOAD_RETRY;\n  this._options.maxDownloadChunkRetry = appSettings.getSettings().MAX_ERRORS_DOWNLOAD_CHUNK_RETRY;\n  this._options.maxDownloadChunkInternetRetry = appSettings.getSettings().MAX_INTERNET_ERRORS_DOWNLOAD_CHUNK_RETRY;\n  this._options.timeout = appSettings.getSettings().times.DOWNLOAD_TIMEOUT;\n  this._options.retryTimeout = appSettings.getSettings().times.RETRY_TIMEOUT;\n  this._options.useChunkedEncoding = appSettings.getSettings().useChunkedEncoding;\n  this._options.useHeadRequests = appSettings.getSettings().useHeadRequests;\n  this._options.noCache = appSettings.getSettings().noCache;\n  this.stats = {\n    available: 0,\n    downloaded: 0,\n    file_size: 0,\n    writeProgress: 0\n  };\n  _.bindAll(this, "_onError", "_onEnd", "_onData", "_updateStats", "_attachEvents", "_removeEvents", "_removeEventsOnStop");\n  this.events = new EventEmitter();\n}\n\n/**\n * @private\n * @returns {void}\n */\nDownload.prototype._attachEvents = function () {\n  this._dl.on(\'error\', this._onError);\n  this._dl.on(\'end\', this._onEnd);\n  this._dl.on(\'data\', this._onData);\n};\n\n/**\n *\n * @param {function} callback - callback to be invoked then local path is created\n * @private\n * @returns {void}\n */\nDownload.prototype._createLocalPath = function (callback) {\n  var folders = this.localUrl.split("/");\n  folders = folders.slice(0, folders.length - 1);\n  folders = folders.join("/");\n  mkdirp(folders).then(function () {\n    callback();\n  }, function (error) {\n    callback(error);\n  });\n};\n\n/**\n *\n * @private\n * @returns {void}\n */\nDownload.prototype._onData = function () {\n  this._updateStats();\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownload.prototype._onEnd = function () {\n  this.status = STATUSES.FINISHED;\n  this._updateStats();\n  this._removeEvents();\n  this.events.emit("end", this);\n};\n\n/**\n *\n * @param {object} data - error data\n * @private\n * @returns {void}\n */\nDownload.prototype._onError = function (data) {\n  var self = this;\n  this.status = STATUSES.ERROR;\n  data = data || {};\n  var message = data.message || "";\n  self._removeEvents();\n  self._updateStats();\n\n  // notify only if there exists any error listener (from downloads controller)\n  // otherwise EventEmitter throws an error\n  if (self.events.listeners(\'error\').length) {\n    self.events.emit("error", self, message);\n  }\n};\nDownload.prototype._onDomainError = function (data) {\n  var self = this;\n  data = data || {};\n  var message = data.message || "";\n  if (self._dl) {\n    if (message === \'net::ERR_NETWORK_CHANGED\' || message === \'net::ERR_SPDY_PROTOCOL_ERROR\' || message === \'net::ERR_HTTP2_PROTOCOL_ERROR\') {\n      // network changed during download, retry download\n      self.stop(function () {\n        self.start();\n      });\n    } else {\n      // stop current download to release file stream and notify error\n      self.stop(function () {\n        self._onError(data);\n      });\n    }\n  } else {\n    self._onError(data);\n  }\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownload.prototype._removeEvents = function () {\n  if (typeof this._dl.removeListener === "function") {\n    this._dl.removeListener(\'error\', this._onError);\n    this._dl.removeListener(\'end\', this._onEnd);\n    this._dl.removeListener(\'data\', this._onData);\n  }\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownload.prototype._removeEventsOnStop = function () {\n  if (this._dl && typeof this._dl.removeListener === "function") {\n    this._dl.removeListener(\'error\', this._onError);\n    this._dl.removeListener(\'end\', this._onEnd);\n  }\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownload.prototype._updateStats = function () {\n  if (this.status === STATUSES.FINISHED) {\n    this.stats.available = this._dl.file_size;\n    this.stats.writeProgress = 1;\n  } else {\n    this.stats.available = this._dl.available;\n    this.stats.writeProgress = this._dl.writeProgress;\n  }\n  this.stats.downloaded = this._dl.downloaded;\n  this.stats.file_size = this._dl.file_size;\n};\n\n/**\n * @returns {void}\n */\nDownload.prototype.start = function () {\n  var self = this;\n  this.status = STATUSES.STARTED;\n  this._createLocalPath(function (err) {\n    if (err) {\n      self._onError(err);\n      return;\n    }\n    // NOTE: domain module is marked to be deprecated in the future,\n    //       we will use it until NodeJS will propose alternative or\n    //       rewrite with promises\n    var d = domain.create();\n    d.on(\'error\', function (err) {\n      var message = \'\';\n      if (err) {\n        message = err.code || err.message || "";\n      }\n      // this needs to be disposed otherwise it might complain about unhandled error.\n      if (typeof d.dispose === "function") {\n        d.dispose();\n      }\n      self._onDomainError({\n        message: message\n      });\n    });\n    d.run(function () {\n      self._dl = self.createDownloader(self.remoteUrl, self.localUrl, self._options);\n      self._attachEvents();\n      self._dl.start();\n    });\n  });\n};\n\n/**\n * Creates file downloader\n * @param {string} [remoteUrl] - url of fragment\n * @param {string} [localUrl] - local url where to download fragment\n * @param {object} [options] - some options\n * @returns {void}\n */\nDownload.prototype.createDownloader = function (remoteUrl, localUrl, options) {\n  if (this._options.useHeadRequests) {\n    return new DownloadFile(remoteUrl, localUrl, options);\n  } else {\n    return new DownloadFileNoHead(remoteUrl, localUrl, options);\n  }\n};\n\n/**\n * @param {function} [resolve] - callback to be invoked when stop was successfully\n * @returns {void}\n */\nDownload.prototype.stop = function (resolve) {\n  var self = this;\n  this.status = STATUSES.STOPPED;\n  this._removeEventsOnStop();\n  if (typeof resolve !== "function") {\n    resolve = function resolve() {};\n  }\n  if (this._dl) {\n    var d = domain.create();\n    d.on(\'error\', function () {\n      resolve();\n    });\n    d.run(function () {\n      self._dl.on(\'error\', function () {\n        resolve();\n      });\n      self._dl.on(\'end\', function () {\n        resolve();\n      });\n      self._dl.stop();\n    });\n  } else {\n    resolve();\n  }\n};\n\n/**\n *\n * @returns {Promise} - promise\n */\nDownload.prototype.stopPromise = function () {\n  var self = this;\n  return new Promise(function (resolve) {\n    self.stop(function () {\n      resolve();\n    });\n  });\n};\nmodule.exports = Download;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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ZWFtLWVsZWN0cm9uLy4vYXBpL2Rvd25sb2Fkcy9kb3dubG9hZC5qcz8xODE1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgXyA9IHJlcXVpcmUoXCJ1bmRlcnNjb3JlXCIpO1xuY29uc3QgZG9tYWluID0gcmVxdWlyZSgnZG9tYWluJyk7XG5jb25zdCBEb3dubG9hZEZpbGVOb0hlYWQgPSByZXF1aXJlKFwiLi9kb3dubG9hZC1maWxlLW5vLWhlYWRcIik7XG5jb25zdCBEb3dubG9hZEZpbGUgPSByZXF1aXJlKFwiLi9kb3dubG9hZC1maWxlXCIpO1xuY29uc3QgbWtkaXJwID0gcmVxdWlyZShcIm1rZGlycFwiKTtcblxuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwiLi4vYXBwLXNldHRpbmdzXCIpO1xuY29uc3QgRXZlbnRFbWl0dGVyID0gcmVxdWlyZShcImV2ZW50c1wiKS5FdmVudEVtaXR0ZXI7XG5jb25zdCBTVEFUVVNFUyA9IHJlcXVpcmUoXCIuL3N0YXR1c2VzXCIpO1xuXG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBwYXJhbXMgLSBwYXJhbWV0ZXJzIGNvbm5lY3RlZCB3aXRoIGRvd25sb2FkIGxpa2UgaWQsIGJhbmR3aWR0aCwgY29udGVudFR5cGUsIHJlbW90ZVVybCwgbG9jYWxVcmxcbiAqIHNlZSB1dGlsIGNsYXNzIHtAbGluayBkb3dubG9hZFV0aWwuZ2V0RG93bmxvYWRMaW5rc31cbiAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zIC0gb3B0aW9ucyBjaG9zZW4gZm9yIHdob2xlIG1hbmlmZXN0LCBsaWtlIG51bWJlciBvZiBjaHVua3MsIHJldHJ5LFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIERvd25sb2FkIChwYXJhbXMsIG9wdGlvbnMpIHtcbiAgdGhpcy5fZGVmYXVsdHMgPSB7fTtcbiAgdGhpcy5fZGVmYXVsdHMudGhyZWFkcyA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRpbmdUaHJlYWRzUnVsZXMudGhyZWFkcztcbiAgdGhpcy5zdGF0dXMgPSBTVEFUVVNFUy5DUkVBVEVEO1xuICBPYmplY3QuYXNzaWduKHRoaXMsIHBhcmFtcyk7XG4gIHRoaXMuX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHRoaXMuX2RlZmF1bHRzLCBvcHRpb25zKTtcbiAgdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZFJldHJ5ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5NQVhfRVJST1JTX0RPV05MT0FEX1JFVFJZO1xuICB0aGlzLl9vcHRpb25zLm1heERvd25sb2FkQ2h1bmtSZXRyeSA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWTtcbiAgdGhpcy5fb3B0aW9ucy5tYXhEb3dubG9hZENodW5rSW50ZXJuZXRSZXRyeSA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuTUFYX0lOVEVSTkVUX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWTtcbiAgdGhpcy5fb3B0aW9ucy50aW1lb3V0ID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS50aW1lcy5ET1dOTE9BRF9USU1FT1VUO1xuICB0aGlzLl9vcHRpb25zLnJldHJ5VGltZW91dCA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkudGltZXMuUkVUUllfVElNRU9VVDtcbiAgdGhpcy5fb3B0aW9ucy51c2VDaHVua2VkRW5jb2RpbmcgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnVzZUNodW5rZWRFbmNvZGluZztcbiAgdGhpcy5fb3B0aW9ucy51c2VIZWFkUmVxdWVzdHMgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnVzZUhlYWRSZXF1ZXN0cztcbiAgdGhpcy5fb3B0aW9ucy5ub0NhY2hlID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5ub0NhY2hlO1xuICB0aGlzLnN0YXRzID0ge1xuICAgIGF2YWlsYWJsZTogMCxcbiAgICBkb3dubG9hZGVkOiAwLFxuICAgIGZpbGVfc2l6ZTogMCxcbiAgICB3cml0ZVByb2dyZXNzOiAwXG4gIH07XG4gIF8uYmluZEFsbCh0aGlzLCBcIl9vbkVycm9yXCIsIFwiX29uRW5kXCIsIFwiX29uRGF0YVwiLCBcIl91cGRhdGVTdGF0c1wiLCBcIl9hdHRhY2hFdmVudHNcIiwgXCJfcmVtb3ZlRXZlbnRzXCIsXG4gICAgXCJfcmVtb3ZlRXZlbnRzT25TdG9wXCIpO1xuXG4gIHRoaXMuZXZlbnRzID0gbmV3IEV2ZW50RW1pdHRlcigpO1xufVxuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLl9hdHRhY2hFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2RsLm9uKCdlcnJvcicsIHRoaXMuX29uRXJyb3IpO1xuICB0aGlzLl9kbC5vbignZW5kJywgdGhpcy5fb25FbmQpO1xuICB0aGlzLl9kbC5vbignZGF0YScsIHRoaXMuX29uRGF0YSk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFjayAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgdGhlbiBsb2NhbCBwYXRoIGlzIGNyZWF0ZWRcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLl9jcmVhdGVMb2NhbFBhdGggPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgbGV0IGZvbGRlcnMgPSB0aGlzLmxvY2FsVXJsLnNwbGl0KFwiL1wiKTtcbiAgZm9sZGVycyA9IGZvbGRlcnMuc2xpY2UoMCwgZm9sZGVycy5sZW5ndGggLSAxKTtcbiAgZm9sZGVycyA9IGZvbGRlcnMuam9pbihcIi9cIik7XG4gIG1rZGlycChmb2xkZXJzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjaygpO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjYWxsYmFjayhlcnJvcik7XG4gIH0pO1xufTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX29uRGF0YSA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5fdXBkYXRlU3RhdHMoKTtcbn07XG5cbi8qKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX29uRW5kID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLnN0YXR1cyA9IFNUQVRVU0VTLkZJTklTSEVEO1xuICB0aGlzLl91cGRhdGVTdGF0cygpO1xuICB0aGlzLl9yZW1vdmVFdmVudHMoKTtcbiAgdGhpcy5ldmVudHMuZW1pdChcImVuZFwiLCB0aGlzKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBkYXRhIC0gZXJyb3IgZGF0YVxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3dubG9hZC5wcm90b3R5cGUuX29uRXJyb3IgPSBmdW5jdGlvbiAoZGF0YSkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy5zdGF0dXMgPSBTVEFUVVNFUy5FUlJPUjtcbiAgZGF0YSA9IGRhdGEgfHwge307XG4gIGNvbnN0IG1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2UgfHwgXCJcIjtcblxuICBzZWxmLl9yZW1vdmVFdmVudHMoKTtcbiAgc2VsZi5fdXBkYXRlU3RhdHMoKTtcblxuICAvLyBub3RpZnkgb25seSBpZiB0aGVyZSBleGlzdHMgYW55IGVycm9yIGxpc3RlbmVyIChmcm9tIGRvd25sb2FkcyBjb250cm9sbGVyKVxuICAvLyBvdGhlcndpc2UgRXZlbnRFbWl0dGVyIHRocm93cyBhbiBlcnJvclxuICBpZiAoc2VsZi5ldmVudHMubGlzdGVuZXJzKCdlcnJvcicpLmxlbmd0aCkge1xuICAgIHNlbGYuZXZlbnRzLmVtaXQoXCJlcnJvclwiLCBzZWxmLCBtZXNzYWdlKTtcbiAgfVxufTtcblxuRG93bmxvYWQucHJvdG90eXBlLl9vbkRvbWFpbkVycm9yID0gZnVuY3Rpb24gKGRhdGEpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGRhdGEgPSBkYXRhIHx8IHt9O1xuICBjb25zdCBtZXNzYWdlID0gZGF0YS5tZXNzYWdlIHx8IFwiXCI7XG5cbiAgaWYgKHNlbGYuX2RsKSB7XG4gICAgaWYgKG1lc3NhZ2UgPT09ICduZXQ6OkVSUl9ORVRXT1JLX0NIQU5HRUQnIHx8IG1lc3NhZ2UgPT09ICduZXQ6OkVSUl9TUERZX1BST1RPQ09MX0VSUk9SJyB8fCBtZXNzYWdlID09PSAnbmV0OjpFUlJfSFRUUDJfUFJPVE9DT0xfRVJST1InKSB7XG4gICAgICAvLyBuZXR3b3JrIGNoYW5nZWQgZHVyaW5nIGRvd25sb2FkLCByZXRyeSBkb3dubG9hZFxuICAgICAgc2VsZi5zdG9wKCgpID0+IHtcbiAgICAgICAgc2VsZi5zdGFydCgpO1xuICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gc3RvcCBjdXJyZW50IGRvd25sb2FkIHRvIHJlbGVhc2UgZmlsZSBzdHJlYW0gYW5kIG5vdGlmeSBlcnJvclxuICAgICAgc2VsZi5zdG9wKCgpID0+IHtcbiAgICAgICAgc2VsZi5fb25FcnJvcihkYXRhKTtcbiAgICAgIH0pXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHNlbGYuX29uRXJyb3IoZGF0YSk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5fcmVtb3ZlRXZlbnRzID0gZnVuY3Rpb24gKCkge1xuICBpZiAodHlwZW9mIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aGlzLl9kbC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yKTtcbiAgICB0aGlzLl9kbC5yZW1vdmVMaXN0ZW5lcignZW5kJywgdGhpcy5fb25FbmQpO1xuICAgIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyKCdkYXRhJywgdGhpcy5fb25EYXRhKTtcbiAgfVxufTtcblxuLyoqXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5fcmVtb3ZlRXZlbnRzT25TdG9wID0gZnVuY3Rpb24gKCkge1xuICBpZiAodGhpcy5fZGwgJiYgdHlwZW9mIHRoaXMuX2RsLnJlbW92ZUxpc3RlbmVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB0aGlzLl9kbC5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCB0aGlzLl9vbkVycm9yKTtcbiAgICB0aGlzLl9kbC5yZW1vdmVMaXN0ZW5lcignZW5kJywgdGhpcy5fb25FbmQpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLl91cGRhdGVTdGF0cyA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKHRoaXMuc3RhdHVzID09PSBTVEFUVVNFUy5GSU5JU0hFRCkge1xuICAgIHRoaXMuc3RhdHMuYXZhaWxhYmxlID0gdGhpcy5fZGwuZmlsZV9zaXplO1xuICAgIHRoaXMuc3RhdHMud3JpdGVQcm9ncmVzcyA9IDE7XG4gIH0gZWxzZSB7XG4gICAgdGhpcy5zdGF0cy5hdmFpbGFibGUgPSB0aGlzLl9kbC5hdmFpbGFibGU7XG4gICAgdGhpcy5zdGF0cy53cml0ZVByb2dyZXNzID0gdGhpcy5fZGwud3JpdGVQcm9ncmVzcztcbiAgfVxuICB0aGlzLnN0YXRzLmRvd25sb2FkZWQgPSB0aGlzLl9kbC5kb3dubG9hZGVkO1xuICB0aGlzLnN0YXRzLmZpbGVfc2l6ZSA9IHRoaXMuX2RsLmZpbGVfc2l6ZTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHRoaXMuc3RhdHVzID0gU1RBVFVTRVMuU1RBUlRFRDtcbiAgdGhpcy5fY3JlYXRlTG9jYWxQYXRoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBzZWxmLl9vbkVycm9yKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIE5PVEU6IGRvbWFpbiBtb2R1bGUgaXMgbWFya2VkIHRvIGJlIGRlcHJlY2F0ZWQgaW4gdGhlIGZ1dHVyZSxcbiAgICAvLyAgICAgICB3ZSB3aWxsIHVzZSBpdCB1bnRpbCBOb2RlSlMgd2lsbCBwcm9wb3NlIGFsdGVybmF0aXZlIG9yXG4gICAgLy8gICAgICAgcmV3cml0ZSB3aXRoIHByb21pc2VzXG4gICAgY29uc3QgZCA9IGRvbWFpbi5jcmVhdGUoKTtcbiAgICBkLm9uKCdlcnJvcicsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGxldCBtZXNzYWdlID0gJyc7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIG1lc3NhZ2UgPSBlcnIuY29kZSB8fCBlcnIubWVzc2FnZSB8fCBcIlwiO1xuICAgICAgfVxuICAgICAgLy8gdGhpcyBuZWVkcyB0byBiZSBkaXNwb3NlZCBvdGhlcndpc2UgaXQgbWlnaHQgY29tcGxhaW4gYWJvdXQgdW5oYW5kbGVkIGVycm9yLlxuICAgICAgaWYgKHR5cGVvZiBkLmRpc3Bvc2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBkLmRpc3Bvc2UoKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX29uRG9tYWluRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBtZXNzYWdlXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBkLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLl9kbCA9IHNlbGYuY3JlYXRlRG93bmxvYWRlcihzZWxmLnJlbW90ZVVybCwgc2VsZi5sb2NhbFVybCwgc2VsZi5fb3B0aW9ucyk7XG4gICAgICBzZWxmLl9hdHRhY2hFdmVudHMoKTtcbiAgICAgIHNlbGYuX2RsLnN0YXJ0KCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxuLyoqXG4gKiBDcmVhdGVzIGZpbGUgZG93bmxvYWRlclxuICogQHBhcmFtIHtzdHJpbmd9IFtyZW1vdGVVcmxdIC0gdXJsIG9mIGZyYWdtZW50XG4gKiBAcGFyYW0ge3N0cmluZ30gW2xvY2FsVXJsXSAtIGxvY2FsIHVybCB3aGVyZSB0byBkb3dubG9hZCBmcmFnbWVudFxuICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXSAtIHNvbWUgb3B0aW9uc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5jcmVhdGVEb3dubG9hZGVyID0gZnVuY3Rpb24gKHJlbW90ZVVybCwgbG9jYWxVcmwsIG9wdGlvbnMpIHtcbiAgaWYgKHRoaXMuX29wdGlvbnMudXNlSGVhZFJlcXVlc3RzKSB7XG4gICAgcmV0dXJuIG5ldyBEb3dubG9hZEZpbGUocmVtb3RlVXJsLCBsb2NhbFVybCwgb3B0aW9ucyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG5ldyBEb3dubG9hZEZpbGVOb0hlYWQocmVtb3RlVXJsLCBsb2NhbFVybCwgb3B0aW9ucyk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSBbcmVzb2x2ZV0gLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gc3RvcCB3YXMgc3VjY2Vzc2Z1bGx5XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bmxvYWQucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAocmVzb2x2ZSkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgdGhpcy5zdGF0dXMgPSBTVEFUVVNFUy5TVE9QUEVEO1xuICB0aGlzLl9yZW1vdmVFdmVudHNPblN0b3AoKTtcbiAgaWYgKHR5cGVvZiByZXNvbHZlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICByZXNvbHZlID0gZnVuY3Rpb24gKCkge1xuICAgIH07XG4gIH1cbiAgaWYgKHRoaXMuX2RsKSB7XG4gICAgY29uc3QgZCA9IGRvbWFpbi5jcmVhdGUoKTtcbiAgICBkLm9uKCdlcnJvcicsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJlc29sdmUoKTtcbiAgICB9KTtcbiAgICBkLnJ1bihmdW5jdGlvbiAoKSB7XG4gICAgICBzZWxmLl9kbC5vbignZXJyb3InLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgICAgc2VsZi5fZGwub24oJ2VuZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgfSk7XG4gICAgICBzZWxmLl9kbC5zdG9wKCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmVzb2x2ZSgpO1xuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gLSBwcm9taXNlXG4gKi9cbkRvd25sb2FkLnByb3RvdHlwZS5zdG9wUHJvbWlzZSA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHNlbGYuc3RvcChmdW5jdGlvbiAoKSB7XG4gICAgICByZXNvbHZlKCk7XG4gICAgfSk7XG4gIH0pO1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBEb3dubG9hZDtcbiJdLCJuYW1lcyI6WyJfIiwicmVxdWlyZSIsImRvbWFpbiIsIkRvd25sb2FkRmlsZU5vSGVhZCIsIkRvd25sb2FkRmlsZSIsIm1rZGlycCIsImFwcFNldHRpbmdzIiwiRXZlbnRFbWl0dGVyIiwiU1RBVFVTRVMiLCJEb3dubG9hZCIsInBhcmFtcyIsIm9wdGlvbnMiLCJfZGVmYXVsdHMiLCJ0aHJlYWRzIiwiZ2V0U2V0dGluZ3MiLCJkb3dubG9hZGluZ1RocmVhZHNSdWxlcyIsInN0YXR1cyIsIkNSRUFURUQiLCJPYmplY3QiLCJhc3NpZ24iLCJfb3B0aW9ucyIsIm1heERvd25sb2FkUmV0cnkiLCJNQVhfRVJST1JTX0RPV05MT0FEX1JFVFJZIiwibWF4RG93bmxvYWRDaHVua1JldHJ5IiwiTUFYX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSIsIm1heERvd25sb2FkQ2h1bmtJbnRlcm5ldFJldHJ5IiwiTUFYX0lOVEVSTkVUX0VSUk9SU19ET1dOTE9BRF9DSFVOS19SRVRSWSIsInRpbWVvdXQiLCJ0aW1lcyIsIkRPV05MT0FEX1RJTUVPVVQiLCJyZXRyeVRpbWVvdXQiLCJSRVRSWV9USU1FT1VUIiwidXNlQ2h1bmtlZEVuY29kaW5nIiwidXNlSGVhZFJlcXVlc3RzIiwibm9DYWNoZSIsInN0YXRzIiwiYXZhaWxhYmxlIiwiZG93bmxvYWRlZCIsImZpbGVfc2l6ZSIsIndyaXRlUHJvZ3Jlc3MiLCJiaW5kQWxsIiwiZXZlbnRzIiwicHJvdG90eXBlIiwiX2F0dGFjaEV2ZW50cyIsIl9kbCIsIm9uIiwiX29uRXJyb3IiLCJfb25FbmQiLCJfb25EYXRhIiwiX2NyZWF0ZUxvY2FsUGF0aCIsImNhbGxiYWNrIiwiZm9sZGVycyIsImxvY2FsVXJsIiwic3BsaXQiLCJzbGljZSIsImxlbmd0aCIsImpvaW4iLCJ0aGVuIiwiZXJyb3IiLCJfdXBkYXRlU3RhdHMiLCJGSU5JU0hFRCIsIl9yZW1vdmVFdmVudHMiLCJlbWl0IiwiZGF0YSIsInNlbGYiLCJFUlJPUiIsIm1lc3NhZ2UiLCJsaXN0ZW5lcnMiLCJfb25Eb21haW5FcnJvciIsInN0b3AiLCJzdGFydCIsInJlbW92ZUxpc3RlbmVyIiwiX3JlbW92ZUV2ZW50c09uU3RvcCIsIlNUQVJURUQiLCJlcnIiLCJkIiwiY3JlYXRlIiwiY29kZSIsImRpc3Bvc2UiLCJydW4iLCJjcmVhdGVEb3dubG9hZGVyIiwicmVtb3RlVXJsIiwicmVzb2x2ZSIsIlNUT1BQRUQiLCJzdG9wUHJvbWlzZSIsIlByb21pc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///8158\n')},1789:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar mkdirp = __webpack_require__(9526);\nvar appSettings = __webpack_require__(9277);\nvar jsonfile = __webpack_require__(3480);\nvar LinkSave = __webpack_require__(8798);\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {string} storageKey - storage key\n * @param {object} items - storage items\n * @constructor\n */\nfunction FlushItem(manifestId, storageKey, items) {\n  this.manifestId = manifestId;\n  this.storageKey = storageKey;\n  this.items = items;\n}\n\n/**\n *\n * @param {function} resolve - callback to be invoked when save was successful\n * @param {function} reject - callback to be invoked when save failed\n * @private\n * @returns {void}\n */\nFlushItem.prototype._saveToDisk = function (resolve, reject) {\n  var self = this;\n  var path = appSettings.getSettings().settingsFolder + this.manifestId + "/";\n  var file = "" + this.storageKey + ".json";\n  var fileUrl = path + file;\n  mkdirp(path).then(function () {\n    var data = convertStorage(self.storageKey, self.items);\n    jsonfile.writeFile(fileUrl, data, function (err) {\n      if (!err) {\n        resolve();\n      } else {\n        reject(err);\n      }\n    });\n  }, function (error) {\n    reject(error);\n  });\n};\n\n/**\n *\n * @returns {Promise} promise\n */\nFlushItem.prototype.save = function () {\n  return new Promise(this._saveToDisk.bind(this));\n};\nmodule.exports = FlushItem;\n\n/**\n * Helper function\n * @param {string} storageKey - storage key\n * @param {object} items - storage items\n * @returns {*} data to be stored\n */\nvar convertStorage = function convertStorage(storageKey, items) {\n  var itemsA = [];\n  var data;\n  //only for downloading we want to have an array\n  if (storageKey === "downloading") {\n    itemsA = [];\n    for (var key in items) {\n      itemsA.push(items[key]);\n    }\n    items = itemsA;\n  }\n  if (items instanceof Array) {\n    data = [];\n    for (var i = 0, j = items.length; i < j; i++) {\n      data.push(new LinkSave(items[i]));\n    }\n  } else {\n    data = items;\n  }\n  return data;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBQUksQ0FBQ1ksSUFBSSxDQUFDLElBQUk1QixRQUFRLENBQUNJLEtBQUssQ0FBQzBCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDbkM7RUFDRixDQUFDLE1BQU07SUFDTGQsSUFBSSxHQUFHWixLQUFLO0VBQ2Q7RUFDQSxPQUFPWSxJQUFJO0FBQ2IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL2ZsdXNoLWl0ZW0uanM/NzE0YSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IG1rZGlycCA9IHJlcXVpcmUoJ21rZGlycCcpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2FwcC1zZXR0aW5ncycpO1xuY29uc3QganNvbmZpbGUgPSByZXF1aXJlKCdqc29uZmlsZScpO1xuY29uc3QgTGlua1NhdmUgPSByZXF1aXJlKCcuLi9tYW5pZmVzdC9qc29uL2xpbmstc2F2ZScpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yYWdlS2V5IC0gc3RvcmFnZSBrZXlcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtcyAtIHN0b3JhZ2UgaXRlbXNcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBGbHVzaEl0ZW0gKG1hbmlmZXN0SWQsIHN0b3JhZ2VLZXksIGl0ZW1zKSB7XG4gIHRoaXMubWFuaWZlc3RJZCA9IG1hbmlmZXN0SWQ7XG4gIHRoaXMuc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG4gIHRoaXMuaXRlbXMgPSBpdGVtcztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgd2hlbiBzYXZlIHdhcyBzdWNjZXNzZnVsXG4gKiBAcGFyYW0ge2Z1bmN0aW9ufSByZWplY3QgLSBjYWxsYmFjayB0byBiZSBpbnZva2VkIHdoZW4gc2F2ZSBmYWlsZWRcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRmx1c2hJdGVtLnByb3RvdHlwZS5fc2F2ZVRvRGlzayA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IHBhdGggPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLnNldHRpbmdzRm9sZGVyICsgdGhpcy5tYW5pZmVzdElkICsgXCIvXCI7XG4gIGNvbnN0IGZpbGUgPSBcIlwiICsgdGhpcy5zdG9yYWdlS2V5ICsgXCIuanNvblwiO1xuICBjb25zdCBmaWxlVXJsID0gcGF0aCArIGZpbGU7XG4gIG1rZGlycChwYXRoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgZGF0YSA9IGNvbnZlcnRTdG9yYWdlKHNlbGYuc3RvcmFnZUtleSwgc2VsZi5pdGVtcyk7XG4gICAganNvbmZpbGUud3JpdGVGaWxlKGZpbGVVcmwsIGRhdGEsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmICghZXJyKSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICByZWplY3QoZXJyb3IpO1xuICB9KTtcbn07XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbkZsdXNoSXRlbS5wcm90b3R5cGUuc2F2ZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKHRoaXMuX3NhdmVUb0Rpc2suYmluZCh0aGlzKSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEZsdXNoSXRlbTtcblxuLyoqXG4gKiBIZWxwZXIgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBzdG9yYWdlS2V5IC0gc3RvcmFnZSBrZXlcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtcyAtIHN0b3JhZ2UgaXRlbXNcbiAqIEByZXR1cm5zIHsqfSBkYXRhIHRvIGJlIHN0b3JlZFxuICovXG5jb25zdCBjb252ZXJ0U3RvcmFnZSA9IGZ1bmN0aW9uIGNvbnZlcnRTdG9yYWdlIChzdG9yYWdlS2V5LCBpdGVtcykge1xuICBsZXQgaXRlbXNBID0gW107XG4gIGxldCBkYXRhO1xuICAvL29ubHkgZm9yIGRvd25sb2FkaW5nIHdlIHdhbnQgdG8gaGF2ZSBhbiBhcnJheVxuICBpZiAoc3RvcmFnZUtleSA9PT0gXCJkb3dubG9hZGluZ1wiKSB7XG4gICAgaXRlbXNBID0gW107XG4gICAgZm9yIChsZXQga2V5IGluIGl0ZW1zKSB7XG4gICAgICBpdGVtc0EucHVzaChpdGVtc1trZXldKTtcbiAgICB9XG4gICAgaXRlbXMgPSBpdGVtc0E7XG4gIH1cbiAgaWYgKGl0ZW1zIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICBkYXRhID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSBpdGVtcy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGRhdGEucHVzaChuZXcgTGlua1NhdmUoaXRlbXNbaV0pKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZGF0YSA9IGl0ZW1zO1xuICB9XG4gIHJldHVybiBkYXRhO1xufTtcblxuIl0sIm5hbWVzIjpbIm1rZGlycCIsInJlcXVpcmUiLCJhcHBTZXR0aW5ncyIsImpzb25maWxlIiwiTGlua1NhdmUiLCJGbHVzaEl0ZW0iLCJtYW5pZmVzdElkIiwic3RvcmFnZUtleSIsIml0ZW1zIiwicHJvdG90eXBlIiwiX3NhdmVUb0Rpc2siLCJyZXNvbHZlIiwicmVqZWN0Iiwic2VsZiIsInBhdGgiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwiZmlsZSIsImZpbGVVcmwiLCJ0aGVuIiwiZGF0YSIsImNvbnZlcnRTdG9yYWdlIiwid3JpdGVGaWxlIiwiZXJyIiwiZXJyb3IiLCJzYXZlIiwiUHJvbWlzZSIsImJpbmQiLCJtb2R1bGUiLCJleHBvcnRzIiwiaXRlbXNBIiwia2V5IiwicHVzaCIsIkFycmF5IiwiaSIsImoiLCJsZW5ndGgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1789\n')},3812:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar jsonfile = __webpack_require__(3480);\nvar path = __webpack_require__(1017);\nvar appSettings = __webpack_require__(9277);\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @param {string} itemName - item name\n * @returns {Promise} promise\n * @constructor\n */\nfunction ReadItem(manifestId, itemName) {\n  if (!manifestId) {\n    throw new Error("manifestId is missing");\n  }\n  this._manifestId = manifestId;\n  this._itemName = itemName;\n  return new Promise(this._read.bind(this));\n}\n\n/**\n *\n * @param {function} resolve - callback to be invoked on finish\n * @private\n * @returns {void}\n */\nReadItem.prototype._read = function (resolve) {\n  var fileUrl = path.resolve(appSettings.getSettings().settingsFolder + "/" + this._manifestId + "/" + this._itemName + ".json");\n  jsonfile.readFile(fileUrl, function (err, data) {\n    if (err) {\n      resolve();\n    } else {\n      resolve(data);\n    }\n  });\n};\nmodule.exports = ReadItem;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzgxMi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUdDLG1CQUFPLENBQUMsSUFBVSxDQUFDO0FBQ3BDLElBQU1DLElBQUksR0FBR0QsbUJBQU8sQ0FBQyxJQUFNLENBQUM7QUFFNUIsSUFBTUUsV0FBVyxHQUFHRixtQkFBTyxDQUFDLElBQWlCLENBQUM7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0csUUFBUSxDQUFFQyxVQUFVLEVBQUVDLFFBQVEsRUFBRTtFQUN2QyxJQUFJLENBQUNELFVBQVUsRUFBRTtJQUNmLE1BQU0sSUFBSUUsS0FBSyxDQUFDLHVCQUF1QixDQUFDO0VBQzFDO0VBQ0EsSUFBSSxDQUFDQyxXQUFXLEdBQUdILFVBQVU7RUFDN0IsSUFBSSxDQUFDSSxTQUFTLEdBQUdILFFBQVE7RUFDekIsT0FBTyxJQUFJSSxPQUFPLENBQUMsSUFBSSxDQUFDQyxLQUFLLENBQUNDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztBQUMzQzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsUUFBUSxDQUFDUyxTQUFTLENBQUNGLEtBQUssR0FBRyxVQUFVRyxPQUFPLEVBQUU7RUFDNUMsSUFBTUMsT0FBTyxHQUFHYixJQUFJLENBQUNZLE9BQU8sQ0FBQ1gsV0FBVyxDQUFDYSxXQUFXLEVBQUUsQ0FBQ0MsY0FBYyxHQUFHLEdBQUcsR0FBRyxJQUFJLENBQUNULFdBQVcsR0FBRyxHQUFHLEdBQUcsSUFBSSxDQUFDQyxTQUFTLEdBQUcsT0FBTyxDQUFDO0VBQ2hJVCxRQUFRLENBQUNrQixRQUFRLENBQUNILE9BQU8sRUFBRSxVQUFVSSxHQUFHLEVBQUVDLElBQUksRUFBRTtJQUM5QyxJQUFJRCxHQUFHLEVBQUU7TUFDUEwsT0FBTyxFQUFFO0lBQ1gsQ0FBQyxNQUFNO01BQ0xBLE9BQU8sQ0FBQ00sSUFBSSxDQUFDO0lBQ2Y7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHbEIsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL3JlYWQtaXRlbS5qcz9kMWExIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QganNvbmZpbGUgPSByZXF1aXJlKCdqc29uZmlsZScpO1xuY29uc3QgcGF0aCA9IHJlcXVpcmUoXCJwYXRoXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uL2FwcC1zZXR0aW5ncycpO1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBpdGVtTmFtZSAtIGl0ZW0gbmFtZVxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBSZWFkSXRlbSAobWFuaWZlc3RJZCwgaXRlbU5hbWUpIHtcbiAgaWYgKCFtYW5pZmVzdElkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibWFuaWZlc3RJZCBpcyBtaXNzaW5nXCIpO1xuICB9XG4gIHRoaXMuX21hbmlmZXN0SWQgPSBtYW5pZmVzdElkO1xuICB0aGlzLl9pdGVtTmFtZSA9IGl0ZW1OYW1lO1xuICByZXR1cm4gbmV3IFByb21pc2UodGhpcy5fcmVhZC5iaW5kKHRoaXMpKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcmVzb2x2ZSAtIGNhbGxiYWNrIHRvIGJlIGludm9rZWQgb24gZmluaXNoXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblJlYWRJdGVtLnByb3RvdHlwZS5fcmVhZCA9IGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gIGNvbnN0IGZpbGVVcmwgPSBwYXRoLnJlc29sdmUoYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5zZXR0aW5nc0ZvbGRlciArIFwiL1wiICsgdGhpcy5fbWFuaWZlc3RJZCArIFwiL1wiICsgdGhpcy5faXRlbU5hbWUgKyBcIi5qc29uXCIpO1xuICBqc29uZmlsZS5yZWFkRmlsZShmaWxlVXJsLCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmVzb2x2ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXNvbHZlKGRhdGEpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWRJdGVtOyJdLCJuYW1lcyI6WyJqc29uZmlsZSIsInJlcXVpcmUiLCJwYXRoIiwiYXBwU2V0dGluZ3MiLCJSZWFkSXRlbSIsIm1hbmlmZXN0SWQiLCJpdGVtTmFtZSIsIkVycm9yIiwiX21hbmlmZXN0SWQiLCJfaXRlbU5hbWUiLCJQcm9taXNlIiwiX3JlYWQiLCJiaW5kIiwicHJvdG90eXBlIiwicmVzb2x2ZSIsImZpbGVVcmwiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwicmVhZEZpbGUiLCJlcnIiLCJkYXRhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3812\n')},8255:module=>{"use strict";eval('\n\nvar STATUSES = {\n  "CREATED": "CREATED",\n  "STARTED": "STARTED",\n  "ERROR": "ERROR",\n  "STOPPED": "STOPPED",\n  "FINISHED": "FINISHED",\n  "BROKEN": "BROKEN",\n  "QUEUED": "QUEUED"\n};\nmodule.exports = STATUSES;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI1NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUc7RUFDZixTQUFTLEVBQUUsU0FBUztFQUNwQixTQUFTLEVBQUUsU0FBUztFQUNwQixPQUFPLEVBQUUsT0FBTztFQUNoQixTQUFTLEVBQUUsU0FBUztFQUNwQixVQUFVLEVBQUUsVUFBVTtFQUN0QixRQUFRLEVBQUUsUUFBUTtFQUNsQixRQUFRLEVBQUU7QUFDWixDQUFDO0FBRURDLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHRixRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9kb3dubG9hZHMvc3RhdHVzZXMuanM/OWM1MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IFNUQVRVU0VTID0ge1xuICBcIkNSRUFURURcIjogXCJDUkVBVEVEXCIsXG4gIFwiU1RBUlRFRFwiOiBcIlNUQVJURURcIixcbiAgXCJFUlJPUlwiOiBcIkVSUk9SXCIsXG4gIFwiU1RPUFBFRFwiOiBcIlNUT1BQRURcIixcbiAgXCJGSU5JU0hFRFwiOiBcIkZJTklTSEVEXCIsXG4gIFwiQlJPS0VOXCI6IFwiQlJPS0VOXCIsXG4gIFwiUVVFVUVEXCI6IFwiUVVFVUVEXCJcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU1RBVFVTRVM7Il0sIm5hbWVzIjpbIlNUQVRVU0VTIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8255\n')},6716:module=>{"use strict";eval("\n\nfunction SyncItem(resolve, reject, manifestId, storageKeys) {\n  this.resolve = resolve;\n  this.reject = reject;\n  this.manifestId = manifestId;\n  this.storageKeys = storageKeys;\n}\nmodule.exports = SyncItem;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjcxNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxRQUFRLENBQUVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFQyxVQUFVLEVBQUVDLFdBQVcsRUFBRTtFQUMzRCxJQUFJLENBQUNILE9BQU8sR0FBR0EsT0FBTztFQUN0QixJQUFJLENBQUNDLE1BQU0sR0FBR0EsTUFBTTtFQUNwQixJQUFJLENBQUNDLFVBQVUsR0FBR0EsVUFBVTtFQUM1QixJQUFJLENBQUNDLFdBQVcsR0FBR0EsV0FBVztBQUNoQztBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBR04sUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bmxvYWRzL3N5bmMtaXRlbS5qcz84YjFjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBTeW5jSXRlbSAocmVzb2x2ZSwgcmVqZWN0LCBtYW5pZmVzdElkLCBzdG9yYWdlS2V5cykge1xuICB0aGlzLnJlc29sdmUgPSByZXNvbHZlO1xuICB0aGlzLnJlamVjdCA9IHJlamVjdDtcbiAgdGhpcy5tYW5pZmVzdElkID0gbWFuaWZlc3RJZDtcbiAgdGhpcy5zdG9yYWdlS2V5cyA9IHN0b3JhZ2VLZXlzO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFN5bmNJdGVtO1xuIl0sIm5hbWVzIjpbIlN5bmNJdGVtIiwicmVzb2x2ZSIsInJlamVjdCIsIm1hbmlmZXN0SWQiLCJzdG9yYWdlS2V5cyIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///6716\n")},588:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar _ = __webpack_require__(4952);\nvar Snowflake = __webpack_require__(9499);\nvar appSettings = __webpack_require__(9277);\nvar beMethods = __webpack_require__(9097);\nvar DownloadsController = __webpack_require__(4612);\nvar ManifestController = __webpack_require__(42);\nvar OfflineController = __webpack_require__(7094);\nvar SubscribersController = __webpack_require__(9256);\nvar Server = __webpack_require__(9837);\nvar DownstreamElectronBE;\nfunction deserialize(serializedJavascript) {\n  try {\n    return JSON.parse(serializedJavascript);\n  } catch (err) {\n    return {};\n  }\n}\n\n/**\n * @constructor\n * @namespace DownstreamElectronBE\n * @param {object} configParams - configuration\n * @property {DownstreamElectronBE.init} init - initialize api in main process\n * @description\n * During initialization you can configure your app, [click here]{@link DownstreamElectronBE.configuration}\n *\n * @example\n * //somewhere in the main process\n * const { BrowserWindow, app } = require(\'electron\');\n * const downstreamElectron = require(\'downstream-electron\');\n *\n * const userSettings = {\n *   "appDir": "/Users/admin/myApp",\n *   "settingsName": "settings",\n *   "publicName": "public",\n *   "downloadsName": "movies"\n * };\n *\n * let downstreamInstance;\n * function createWindow() {\n *   downstreamInstance = downstreamElectron.init(userSettings);\n *   const win = new BrowserWindow({\n *     width: 1200,\n *     height: 700,\n *     resizable: true,\n *     webPreferences: {\n *       plugins: true,\n *       nodeIntegration: true\n *     }\n *   });\n *   win.loadURL(\'file://index.html\');\n *   win.webContents.openDevTools();\n * }\n *\n * function onWillQuit() {\n *  downstreamInstance.stop();\n * }\n *\n * app.on(\'ready\', createWindow);\n * app.on(\'will-quit\', onWillQuit);\n * app.on(\'window-all-closed\', function () {\n *  console.log("window-all-closed");\n *  app.quit();\n * });\n */\nDownstreamElectronBE = function DownstreamElectronBE() {\n  this._offlineContentPort = appSettings.getSettings().offlineContentPortStart;\n  _.bindAll(this, "_onApiRequest", "processSubscriber");\n  this._createControllers();\n  this._serveOfflineContent();\n  this._attachEvents();\n  // this.offlineController.restoreLocalManifest("6163760572308389888");\n};\n\nDownstreamElectronBE.prototype.stop = function () {\n  this.server.stop();\n};\n\n/**\n *\n * @param {string} methodName - api function\n * @param {string} promiseId - promise identifier\n * @param {object} args - arguments\n * @param {number} target - target window id\n * @private\n * @returns {void}\n */\nDownstreamElectronBE.prototype._apiMethods = function (methodName, promiseId, args, target) {\n  var self = this;\n  var manifestId = args[0];\n  var response = {};\n  response.promiseId = promiseId;\n  var onSuccess = function onSuccess(result, subscribersId) {\n    response.subscribersId = subscribersId;\n    response.status = "OK";\n    response.result = result;\n    response.manifestId = manifestId;\n    self._send(response, target);\n  };\n  var onFailure = function onFailure(err, internalError) {\n    var errorId = String(Snowflake.SnowflakeId.getUUID());\n    var errorInfo = _.clone({\n      errorId: errorId,\n      methodName: methodName,\n      args: args.slice(4),\n      err: err,\n      internalError: internalError\n    });\n    response.manifestId = manifestId;\n    response.status = "ERROR";\n    response.error = err || {};\n    response.error.errorId = errorId;\n    response.error.details = internalError;\n    self._send(response, target);\n\n    // @TODO log all errors that user have seen, the errorId will help to find stack\n    try {\n      console.error(new Date(), "Error occurred", JSON.stringify(errorInfo));\n    } catch (e) {\n      //do nothing\n    }\n  };\n  args = args || [];\n  args.unshift(target);\n  args.unshift(onFailure);\n  args.unshift(onSuccess);\n  args.unshift(this);\n  var method = this._getMethod(methodName);\n  if (typeof method === "function") {\n    method.apply(null, args);\n  } else {\n    response.status = "ERROR";\n    response.error = "Provided method \'" + methodName + "\' doesn\'t exists";\n    this._send(response, target);\n    console.error("ERROR", "Provided method \'" + methodName + "\' doesn\'t exists");\n  }\n};\n\n/**\n *\n * @private\n * @returns {void}\n */\nDownstreamElectronBE.prototype._attachEvents = function () {\n  var ipcMain = (__webpack_require__(7194).ipcMain);\n  ipcMain.on("downstreamElectronBE", this._onApiRequest);\n};\n\n/**\n *\n * @private\n * @returns {void}\n */\nDownstreamElectronBE.prototype._createControllers = function () {\n  this.manifestController = new ManifestController();\n  this.offlineController = new OfflineController(this.manifestController);\n  this.downloadsController = new DownloadsController(this.manifestController, this.offlineController);\n  this.subscribersController = new SubscribersController();\n};\n\n/**\n *\n * @param {string} methodName - method name\n * @returns {*} - method\n * @private\n */\nDownstreamElectronBE.prototype._getMethod = function (methodName) {\n  var names = methodName.split(".");\n  var i, j, method;\n  method = beMethods[names[0]];\n  for (i = 1, j = names.length; i < j; i++) {\n    method = method[names[i]];\n  }\n  return method;\n};\n\n/**\n *\n * @param {object} evt - event\n * @param {object} data - data from renderer\n * @param {number} target - target window id\n * @private\n * @returns {void}\n */\nDownstreamElectronBE.prototype._onApiRequest = function (evt, data, target) {\n  var promiseId = data.promiseId;\n  var argsObj = deserialize(data.args) || {};\n  var method = data.method;\n  var windowId = data.windowId;\n  target = windowId;\n  var args = [];\n  var i = 0;\n  while (argsObj.hasOwnProperty(i)) {\n    args.push(argsObj[i]);\n    i++;\n  }\n  this._apiMethods(method, promiseId, args, target);\n};\n\n/**\n * @private\n * @param {object} response - response\n * @param {number} target - window target id\n * @returns {void}\n */\nDownstreamElectronBE.prototype._send = function (response, target) {\n  try {\n    var windows = (__webpack_require__(7194).BrowserWindow.getAllWindows)();\n    for (var i = 0, j = windows.length; i < j; i++) {\n      if (windows[i].id === target) {\n        windows[i].webContents.send(\'downstreamElectronFE\', response);\n        break;\n      }\n    }\n  } catch (err) {\n    console.error("internal error ocurred", err);\n  }\n};\n\n/**\n * @private\n * @returns {void}\n */\nDownstreamElectronBE.prototype._serveOfflineContent = function () {\n  var self = this;\n  var maxOfflineContentPortRange = appSettings.getSettings().maxOfflineContentPortRange;\n  this.server = new Server(this.offlineController, this.downloadsController, maxOfflineContentPortRange, this._offlineContentPort);\n  this.server.serveOfflineContent(function (offlinePort) {\n    self._offlineContentPort = offlinePort;\n  });\n};\n\n/**\n *\n * @param {string} manifestId - manifest identifier\n * @returns {string} - offline path\n */\nDownstreamElectronBE.prototype.getOfflinePath = function (manifestId) {\n  var offlinePath = appSettings.getSettings().offlineDomain;\n  var offlineContentPort = this._offlineContentPort;\n  if (offlineContentPort) {\n    offlinePath += ":" + offlineContentPort;\n  }\n  offlinePath += "/" + encodeURIComponent(appSettings.getSettings().downloadsName) + "/" + encodeURIComponent(manifestId) + "/";\n  return offlinePath;\n};\n\n/**\n *\n * @param {string} subscriberId - subscriber identifier\n * @param {object} err - error\n * @param {object} result - result\n * @param {number} target - window target id\n * @param {boolean} subscriberFinished - download finished\n * @returns {void}\n */\nDownstreamElectronBE.prototype.processSubscriber = function (subscriberId, err, result, target, subscriberFinished) {\n  var response = {};\n  response.subscriberId = subscriberId;\n  response.status = err ? "ERROR" : "OK";\n  response.err = err;\n  response.result = result;\n  response.subscriberFinished = subscriberFinished;\n  this._send(response, target);\n  if (subscriberFinished) {\n    this.subscribersController.removeAllManifestSubscribersById(subscriberId);\n  }\n};\n\n//---------------------------\nmodule.exports = {\n  init: function init(userSettings) {\n    appSettings.load(userSettings);\n    return new DownstreamElectronBE();\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RztFQUNsQmtCLFFBQVEsQ0FBQ0UsTUFBTSxHQUFHQSxNQUFNO0VBQ3hCRixRQUFRLENBQUM0RCxrQkFBa0IsR0FBR0Esa0JBQWtCO0VBQ2hELElBQUksQ0FBQ3ZELEtBQUssQ0FBQ0wsUUFBUSxFQUFFSCxNQUFNLENBQUM7RUFDNUIsSUFBSStELGtCQUFrQixFQUFFO0lBQ3RCLElBQUksQ0FBQzdCLHFCQUFxQixDQUFDOEIsZ0NBQWdDLENBQUNGLFlBQVksQ0FBQztFQUMzRTtBQUNGLENBQUM7O0FBRUQ7QUFDQUcsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZkMsSUFBSSxFQUFFLGNBQVVDLFlBQVksRUFBRTtJQUM1Qi9GLFdBQVcsQ0FBQ2dHLElBQUksQ0FBQ0QsWUFBWSxDQUFDO0lBQzlCLE9BQU8sSUFBSXhGLG9CQUFvQixFQUFFO0VBQ25DO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvZG93bnN0cmVhbS1lbGVjdHJvbi1iZS5qcz8wOGYwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImluZm9cIl0gfV0gKi9cblwidXNlIHN0cmljdFwiO1xuY29uc3QgXyA9IHJlcXVpcmUoJ3VuZGVyc2NvcmUnKTtcbmNvbnN0IFNub3dmbGFrZSA9IHJlcXVpcmUoXCIuL3V0aWwvc25vd2ZsYWtlLWlkXCIpO1xuXG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4vYXBwLXNldHRpbmdzJyk7XG5jb25zdCBiZU1ldGhvZHMgPSByZXF1aXJlKCcuL2JlLW1ldGhvZHMtYWxsJyk7XG5jb25zdCBEb3dubG9hZHNDb250cm9sbGVyID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9kb3dubG9hZHMtY29udHJvbGxlcicpO1xuY29uc3QgTWFuaWZlc3RDb250cm9sbGVyID0gcmVxdWlyZSgnLi9jb250cm9sbGVycy9tYW5pZmVzdC1jb250cm9sbGVyJyk7XG5jb25zdCBPZmZsaW5lQ29udHJvbGxlciA9IHJlcXVpcmUoJy4vY29udHJvbGxlcnMvb2ZmbGluZS1jb250cm9sbGVyJyk7XG5jb25zdCBTdWJzY3JpYmVyc0NvbnRyb2xsZXIgPSByZXF1aXJlKCcuL2NvbnRyb2xsZXJzL3N1YnNjcmliZXJzLWNvbnRyb2xsZXInKTtcbmNvbnN0IFNlcnZlciA9IHJlcXVpcmUoJy4vc2VydmVyL3NlcnZlci5qcycpO1xuXG5sZXQgRG93bnN0cmVhbUVsZWN0cm9uQkU7XG5cbmZ1bmN0aW9uIGRlc2VyaWFsaXplIChzZXJpYWxpemVkSmF2YXNjcmlwdCkge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHNlcmlhbGl6ZWRKYXZhc2NyaXB0KTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG59XG5cbi8qKlxuICogQGNvbnN0cnVjdG9yXG4gKiBAbmFtZXNwYWNlIERvd25zdHJlYW1FbGVjdHJvbkJFXG4gKiBAcGFyYW0ge29iamVjdH0gY29uZmlnUGFyYW1zIC0gY29uZmlndXJhdGlvblxuICogQHByb3BlcnR5IHtEb3duc3RyZWFtRWxlY3Ryb25CRS5pbml0fSBpbml0IC0gaW5pdGlhbGl6ZSBhcGkgaW4gbWFpbiBwcm9jZXNzXG4gKiBAZGVzY3JpcHRpb25cbiAqIER1cmluZyBpbml0aWFsaXphdGlvbiB5b3UgY2FuIGNvbmZpZ3VyZSB5b3VyIGFwcCwgW2NsaWNrIGhlcmVde0BsaW5rIERvd25zdHJlYW1FbGVjdHJvbkJFLmNvbmZpZ3VyYXRpb259XG4gKlxuICogQGV4YW1wbGVcbiAqIC8vc29tZXdoZXJlIGluIHRoZSBtYWluIHByb2Nlc3NcbiAqIGNvbnN0IHsgQnJvd3NlcldpbmRvdywgYXBwIH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuICogY29uc3QgZG93bnN0cmVhbUVsZWN0cm9uID0gcmVxdWlyZSgnZG93bnN0cmVhbS1lbGVjdHJvbicpO1xuICpcbiAqIGNvbnN0IHVzZXJTZXR0aW5ncyA9IHtcbiAqICAgXCJhcHBEaXJcIjogXCIvVXNlcnMvYWRtaW4vbXlBcHBcIixcbiAqICAgXCJzZXR0aW5nc05hbWVcIjogXCJzZXR0aW5nc1wiLFxuICogICBcInB1YmxpY05hbWVcIjogXCJwdWJsaWNcIixcbiAqICAgXCJkb3dubG9hZHNOYW1lXCI6IFwibW92aWVzXCJcbiAqIH07XG4gKlxuICogbGV0IGRvd25zdHJlYW1JbnN0YW5jZTtcbiAqIGZ1bmN0aW9uIGNyZWF0ZVdpbmRvdygpIHtcbiAqICAgZG93bnN0cmVhbUluc3RhbmNlID0gZG93bnN0cmVhbUVsZWN0cm9uLmluaXQodXNlclNldHRpbmdzKTtcbiAqICAgY29uc3Qgd2luID0gbmV3IEJyb3dzZXJXaW5kb3coe1xuICogICAgIHdpZHRoOiAxMjAwLFxuICogICAgIGhlaWdodDogNzAwLFxuICogICAgIHJlc2l6YWJsZTogdHJ1ZSxcbiAqICAgICB3ZWJQcmVmZXJlbmNlczoge1xuICogICAgICAgcGx1Z2luczogdHJ1ZSxcbiAqICAgICAgIG5vZGVJbnRlZ3JhdGlvbjogdHJ1ZVxuICogICAgIH1cbiAqICAgfSk7XG4gKiAgIHdpbi5sb2FkVVJMKCdmaWxlOi8vaW5kZXguaHRtbCcpO1xuICogICB3aW4ud2ViQ29udGVudHMub3BlbkRldlRvb2xzKCk7XG4gKiB9XG4gKlxuICogZnVuY3Rpb24gb25XaWxsUXVpdCgpIHtcbiAqICBkb3duc3RyZWFtSW5zdGFuY2Uuc3RvcCgpO1xuICogfVxuICpcbiAqIGFwcC5vbigncmVhZHknLCBjcmVhdGVXaW5kb3cpO1xuICogYXBwLm9uKCd3aWxsLXF1aXQnLCBvbldpbGxRdWl0KTtcbiAqIGFwcC5vbignd2luZG93LWFsbC1jbG9zZWQnLCBmdW5jdGlvbiAoKSB7XG4gKiAgY29uc29sZS5sb2coXCJ3aW5kb3ctYWxsLWNsb3NlZFwiKTtcbiAqICBhcHAucXVpdCgpO1xuICogfSk7XG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLl9vZmZsaW5lQ29udGVudFBvcnQgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm9mZmxpbmVDb250ZW50UG9ydFN0YXJ0O1xuICBfLmJpbmRBbGwodGhpcywgXCJfb25BcGlSZXF1ZXN0XCIsIFwicHJvY2Vzc1N1YnNjcmliZXJcIik7XG4gIHRoaXMuX2NyZWF0ZUNvbnRyb2xsZXJzKCk7XG4gIHRoaXMuX3NlcnZlT2ZmbGluZUNvbnRlbnQoKTtcbiAgdGhpcy5fYXR0YWNoRXZlbnRzKCk7XG4gIC8vIHRoaXMub2ZmbGluZUNvbnRyb2xsZXIucmVzdG9yZUxvY2FsTWFuaWZlc3QoXCI2MTYzNzYwNTcyMzA4Mzg5ODg4XCIpO1xufTtcblxuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuc2VydmVyLnN0b3AoKTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd9IG1ldGhvZE5hbWUgLSBhcGkgZnVuY3Rpb25cbiAqIEBwYXJhbSB7c3RyaW5nfSBwcm9taXNlSWQgLSBwcm9taXNlIGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBhcmdzIC0gYXJndW1lbnRzXG4gKiBAcGFyYW0ge251bWJlcn0gdGFyZ2V0IC0gdGFyZ2V0IHdpbmRvdyBpZFxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX2FwaU1ldGhvZHMgPSBmdW5jdGlvbiAobWV0aG9kTmFtZSwgcHJvbWlzZUlkLCBhcmdzLCB0YXJnZXQpIHtcbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gIGNvbnN0IG1hbmlmZXN0SWQgPSBhcmdzWzBdO1xuICBsZXQgcmVzcG9uc2UgPSB7fTtcbiAgcmVzcG9uc2UucHJvbWlzZUlkID0gcHJvbWlzZUlkO1xuICBjb25zdCBvblN1Y2Nlc3MgPSBmdW5jdGlvbiAocmVzdWx0LCBzdWJzY3JpYmVyc0lkKSB7XG4gICAgcmVzcG9uc2Uuc3Vic2NyaWJlcnNJZCA9IHN1YnNjcmliZXJzSWQ7XG4gICAgcmVzcG9uc2Uuc3RhdHVzID0gXCJPS1wiO1xuICAgIHJlc3BvbnNlLnJlc3VsdCA9IHJlc3VsdDtcbiAgICByZXNwb25zZS5tYW5pZmVzdElkID0gbWFuaWZlc3RJZDtcbiAgICBzZWxmLl9zZW5kKHJlc3BvbnNlLCB0YXJnZXQpO1xuICB9O1xuICBjb25zdCBvbkZhaWx1cmUgPSBmdW5jdGlvbiAoZXJyLCBpbnRlcm5hbEVycm9yKSB7XG4gICAgY29uc3QgZXJyb3JJZCA9IFN0cmluZyhTbm93Zmxha2UuU25vd2ZsYWtlSWQuZ2V0VVVJRCgpKTtcbiAgICBjb25zdCBlcnJvckluZm8gPSBfLmNsb25lKHtcbiAgICAgIGVycm9ySWQ6IGVycm9ySWQsXG4gICAgICBtZXRob2ROYW1lOiBtZXRob2ROYW1lLFxuICAgICAgYXJnczogYXJncy5zbGljZSg0KSxcbiAgICAgIGVycjogZXJyLFxuICAgICAgaW50ZXJuYWxFcnJvcjogaW50ZXJuYWxFcnJvclxuICAgIH0pO1xuICAgIHJlc3BvbnNlLm1hbmlmZXN0SWQgPSBtYW5pZmVzdElkO1xuICAgIHJlc3BvbnNlLnN0YXR1cyA9IFwiRVJST1JcIjtcbiAgICByZXNwb25zZS5lcnJvciA9IGVyciB8fCB7fTtcbiAgICByZXNwb25zZS5lcnJvci5lcnJvcklkID0gZXJyb3JJZDtcbiAgICByZXNwb25zZS5lcnJvci5kZXRhaWxzID0gaW50ZXJuYWxFcnJvcjtcblxuICAgIHNlbGYuX3NlbmQocmVzcG9uc2UsIHRhcmdldCk7XG5cbiAgICAvLyBAVE9ETyBsb2cgYWxsIGVycm9ycyB0aGF0IHVzZXIgaGF2ZSBzZWVuLCB0aGUgZXJyb3JJZCB3aWxsIGhlbHAgdG8gZmluZCBzdGFja1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmVycm9yKG5ldyBEYXRlKCksIFwiRXJyb3Igb2NjdXJyZWRcIiwgSlNPTi5zdHJpbmdpZnkoZXJyb3JJbmZvKSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgLy9kbyBub3RoaW5nXG4gICAgfVxuICB9O1xuICBhcmdzID0gYXJncyB8fCBbXTtcbiAgYXJncy51bnNoaWZ0KHRhcmdldCk7XG4gIGFyZ3MudW5zaGlmdChvbkZhaWx1cmUpO1xuICBhcmdzLnVuc2hpZnQob25TdWNjZXNzKTtcbiAgYXJncy51bnNoaWZ0KHRoaXMpO1xuICBjb25zdCBtZXRob2QgPSB0aGlzLl9nZXRNZXRob2QobWV0aG9kTmFtZSk7XG4gIGlmICh0eXBlb2YgbWV0aG9kID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICBtZXRob2QuYXBwbHkobnVsbCwgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgcmVzcG9uc2Uuc3RhdHVzID0gXCJFUlJPUlwiO1xuICAgIHJlc3BvbnNlLmVycm9yID0gXCJQcm92aWRlZCBtZXRob2QgJ1wiICsgbWV0aG9kTmFtZSArIFwiJyBkb2Vzbid0IGV4aXN0c1wiO1xuICAgIHRoaXMuX3NlbmQocmVzcG9uc2UsIHRhcmdldCk7XG4gICAgY29uc29sZS5lcnJvcihcIkVSUk9SXCIsIFwiUHJvdmlkZWQgbWV0aG9kICdcIiArIG1ldGhvZE5hbWUgKyBcIicgZG9lc24ndCBleGlzdHNcIik7XG4gIH1cbn07XG5cbi8qKlxuICpcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLl9hdHRhY2hFdmVudHMgPSBmdW5jdGlvbiAoKSB7XG4gIGNvbnN0IGlwY01haW4gPSByZXF1aXJlKCdlbGVjdHJvbicpLmlwY01haW47XG4gIGlwY01haW4ub24oXCJkb3duc3RyZWFtRWxlY3Ryb25CRVwiLCB0aGlzLl9vbkFwaVJlcXVlc3QpO1xufTtcblxuLyoqXG4gKlxuICogQHByaXZhdGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX2NyZWF0ZUNvbnRyb2xsZXJzID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLm1hbmlmZXN0Q29udHJvbGxlciA9IG5ldyBNYW5pZmVzdENvbnRyb2xsZXIoKTtcbiAgdGhpcy5vZmZsaW5lQ29udHJvbGxlciA9IG5ldyBPZmZsaW5lQ29udHJvbGxlcih0aGlzLm1hbmlmZXN0Q29udHJvbGxlcik7XG4gIHRoaXMuZG93bmxvYWRzQ29udHJvbGxlciA9IG5ldyBEb3dubG9hZHNDb250cm9sbGVyKHRoaXMubWFuaWZlc3RDb250cm9sbGVyLCB0aGlzLm9mZmxpbmVDb250cm9sbGVyKTtcbiAgdGhpcy5zdWJzY3JpYmVyc0NvbnRyb2xsZXIgPSBuZXcgU3Vic2NyaWJlcnNDb250cm9sbGVyKCk7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSAtIG1ldGhvZCBuYW1lXG4gKiBAcmV0dXJucyB7Kn0gLSBtZXRob2RcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5fZ2V0TWV0aG9kID0gZnVuY3Rpb24gKG1ldGhvZE5hbWUpIHtcbiAgY29uc3QgbmFtZXMgPSBtZXRob2ROYW1lLnNwbGl0KFwiLlwiKTtcbiAgbGV0IGksIGosIG1ldGhvZDtcbiAgbWV0aG9kID0gYmVNZXRob2RzW25hbWVzWzBdXTtcbiAgZm9yIChpID0gMSwgaiA9IG5hbWVzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIG1ldGhvZCA9IG1ldGhvZFtuYW1lc1tpXV07XG4gIH1cbiAgcmV0dXJuIG1ldGhvZDtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBldnQgLSBldmVudFxuICogQHBhcmFtIHtvYmplY3R9IGRhdGEgLSBkYXRhIGZyb20gcmVuZGVyZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB0YXJnZXQgd2luZG93IGlkXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5fb25BcGlSZXF1ZXN0ID0gZnVuY3Rpb24gKGV2dCwgZGF0YSwgdGFyZ2V0KSB7XG4gIGNvbnN0IHByb21pc2VJZCA9IGRhdGEucHJvbWlzZUlkO1xuICBjb25zdCBhcmdzT2JqID0gZGVzZXJpYWxpemUoZGF0YS5hcmdzKSB8fCB7fTtcbiAgY29uc3QgbWV0aG9kID0gZGF0YS5tZXRob2Q7XG4gIGNvbnN0IHdpbmRvd0lkID0gZGF0YS53aW5kb3dJZDtcbiAgdGFyZ2V0ID0gd2luZG93SWQ7XG4gIGxldCBhcmdzID0gW107XG4gIGxldCBpID0gMDtcbiAgd2hpbGUgKGFyZ3NPYmouaGFzT3duUHJvcGVydHkoaSkpIHtcbiAgICBhcmdzLnB1c2goYXJnc09ialtpXSk7XG4gICAgaSsrO1xuICB9XG4gIHRoaXMuX2FwaU1ldGhvZHMobWV0aG9kLCBwcm9taXNlSWQsIGFyZ3MsIHRhcmdldCk7XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcGFyYW0ge29iamVjdH0gcmVzcG9uc2UgLSByZXNwb25zZVxuICogQHBhcmFtIHtudW1iZXJ9IHRhcmdldCAtIHdpbmRvdyB0YXJnZXQgaWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5Eb3duc3RyZWFtRWxlY3Ryb25CRS5wcm90b3R5cGUuX3NlbmQgPSBmdW5jdGlvbiAocmVzcG9uc2UsIHRhcmdldCkge1xuICB0cnkge1xuICAgIGNvbnN0IHdpbmRvd3MgPSByZXF1aXJlKCdlbGVjdHJvbicpLkJyb3dzZXJXaW5kb3cuZ2V0QWxsV2luZG93cygpO1xuICAgIGZvciAobGV0IGkgPSAwLCBqID0gd2luZG93cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGlmICh3aW5kb3dzW2ldLmlkID09PSB0YXJnZXQpIHtcbiAgICAgICAgd2luZG93c1tpXS53ZWJDb250ZW50cy5zZW5kKCdkb3duc3RyZWFtRWxlY3Ryb25GRScsIHJlc3BvbnNlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBjb25zb2xlLmVycm9yKFwiaW50ZXJuYWwgZXJyb3Igb2N1cnJlZFwiLCBlcnIpO1xuICB9XG59O1xuXG4vKipcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLl9zZXJ2ZU9mZmxpbmVDb250ZW50ID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzZWxmID0gdGhpcztcbiAgY29uc3QgbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UgPSBhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLm1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlO1xuXG4gIHRoaXMuc2VydmVyID0gbmV3IFNlcnZlcih0aGlzLm9mZmxpbmVDb250cm9sbGVyLCB0aGlzLmRvd25sb2Fkc0NvbnRyb2xsZXIsIG1heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlLCB0aGlzLl9vZmZsaW5lQ29udGVudFBvcnQpO1xuICB0aGlzLnNlcnZlci5zZXJ2ZU9mZmxpbmVDb250ZW50KGZ1bmN0aW9uIChvZmZsaW5lUG9ydCkge1xuICAgIHNlbGYuX29mZmxpbmVDb250ZW50UG9ydCA9IG9mZmxpbmVQb3J0O1xuICB9KVxuXG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gb2ZmbGluZSBwYXRoXG4gKi9cbkRvd25zdHJlYW1FbGVjdHJvbkJFLnByb3RvdHlwZS5nZXRPZmZsaW5lUGF0aCA9IGZ1bmN0aW9uIChtYW5pZmVzdElkKSB7XG4gIGxldCBvZmZsaW5lUGF0aCA9IGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkub2ZmbGluZURvbWFpbjtcbiAgbGV0IG9mZmxpbmVDb250ZW50UG9ydCA9IHRoaXMuX29mZmxpbmVDb250ZW50UG9ydDtcbiAgaWYgKG9mZmxpbmVDb250ZW50UG9ydCkge1xuICAgIG9mZmxpbmVQYXRoICs9IFwiOlwiICsgb2ZmbGluZUNvbnRlbnRQb3J0O1xuICB9XG4gIG9mZmxpbmVQYXRoICs9IFwiL1wiICsgZW5jb2RlVVJJQ29tcG9uZW50KGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZG93bmxvYWRzTmFtZSkgKyBcIi9cIiArIGVuY29kZVVSSUNvbXBvbmVudChtYW5pZmVzdElkKSArIFwiL1wiO1xuICByZXR1cm4gb2ZmbGluZVBhdGg7XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gc3Vic2NyaWJlcklkIC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge29iamVjdH0gZXJyIC0gZXJyb3JcbiAqIEBwYXJhbSB7b2JqZWN0fSByZXN1bHQgLSByZXN1bHRcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB3aW5kb3cgdGFyZ2V0IGlkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHN1YnNjcmliZXJGaW5pc2hlZCAtIGRvd25sb2FkIGZpbmlzaGVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuRG93bnN0cmVhbUVsZWN0cm9uQkUucHJvdG90eXBlLnByb2Nlc3NTdWJzY3JpYmVyID0gZnVuY3Rpb24gKHN1YnNjcmliZXJJZCwgZXJyLCByZXN1bHQsIHRhcmdldCwgc3Vic2NyaWJlckZpbmlzaGVkKSB7XG4gIGxldCByZXNwb25zZSA9IHt9O1xuICByZXNwb25zZS5zdWJzY3JpYmVySWQgPSBzdWJzY3JpYmVySWQ7XG4gIHJlc3BvbnNlLnN0YXR1cyA9IGVyciA/IFwiRVJST1JcIiA6IFwiT0tcIjtcbiAgcmVzcG9uc2UuZXJyID0gZXJyO1xuICByZXNwb25zZS5yZXN1bHQgPSByZXN1bHQ7XG4gIHJlc3BvbnNlLnN1YnNjcmliZXJGaW5pc2hlZCA9IHN1YnNjcmliZXJGaW5pc2hlZDtcbiAgdGhpcy5fc2VuZChyZXNwb25zZSwgdGFyZ2V0KTtcbiAgaWYgKHN1YnNjcmliZXJGaW5pc2hlZCkge1xuICAgIHRoaXMuc3Vic2NyaWJlcnNDb250cm9sbGVyLnJlbW92ZUFsbE1hbmlmZXN0U3Vic2NyaWJlcnNCeUlkKHN1YnNjcmliZXJJZCk7XG4gIH1cbn07XG5cbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgaW5pdDogZnVuY3Rpb24gKHVzZXJTZXR0aW5ncykge1xuICAgIGFwcFNldHRpbmdzLmxvYWQodXNlclNldHRpbmdzKTtcbiAgICByZXR1cm4gbmV3IERvd25zdHJlYW1FbGVjdHJvbkJFKCk7XG4gIH1cbn07XG4iXSwibmFtZXMiOlsiXyIsInJlcXVpcmUiLCJTbm93Zmxha2UiLCJhcHBTZXR0aW5ncyIsImJlTWV0aG9kcyIsIkRvd25sb2Fkc0NvbnRyb2xsZXIiLCJNYW5pZmVzdENvbnRyb2xsZXIiLCJPZmZsaW5lQ29udHJvbGxlciIsIlN1YnNjcmliZXJzQ29udHJvbGxlciIsIlNlcnZlciIsIkRvd25zdHJlYW1FbGVjdHJvbkJFIiwiZGVzZXJpYWxpemUiLCJzZXJpYWxpemVkSmF2YXNjcmlwdCIsIkpTT04iLCJwYXJzZSIsImVyciIsIl9vZmZsaW5lQ29udGVudFBvcnQiLCJnZXRTZXR0aW5ncyIsIm9mZmxpbmVDb250ZW50UG9ydFN0YXJ0IiwiYmluZEFsbCIsIl9jcmVhdGVDb250cm9sbGVycyIsIl9zZXJ2ZU9mZmxpbmVDb250ZW50IiwiX2F0dGFjaEV2ZW50cyIsInByb3RvdHlwZSIsInN0b3AiLCJzZXJ2ZXIiLCJfYXBpTWV0aG9kcyIsIm1ldGhvZE5hbWUiLCJwcm9taXNlSWQiLCJhcmdzIiwidGFyZ2V0Iiwic2VsZiIsIm1hbmlmZXN0SWQiLCJyZXNwb25zZSIsIm9uU3VjY2VzcyIsInJlc3VsdCIsInN1YnNjcmliZXJzSWQiLCJzdGF0dXMiLCJfc2VuZCIsIm9uRmFpbHVyZSIsImludGVybmFsRXJyb3IiLCJlcnJvcklkIiwiU3RyaW5nIiwiU25vd2ZsYWtlSWQiLCJnZXRVVUlEIiwiZXJyb3JJbmZvIiwiY2xvbmUiLCJzbGljZSIsImVycm9yIiwiZGV0YWlscyIsImNvbnNvbGUiLCJEYXRlIiwic3RyaW5naWZ5IiwiZSIsInVuc2hpZnQiLCJtZXRob2QiLCJfZ2V0TWV0aG9kIiwiYXBwbHkiLCJpcGNNYWluIiwib24iLCJfb25BcGlSZXF1ZXN0IiwibWFuaWZlc3RDb250cm9sbGVyIiwib2ZmbGluZUNvbnRyb2xsZXIiLCJkb3dubG9hZHNDb250cm9sbGVyIiwic3Vic2NyaWJlcnNDb250cm9sbGVyIiwibmFtZXMiLCJzcGxpdCIsImkiLCJqIiwibGVuZ3RoIiwiZXZ0IiwiZGF0YSIsImFyZ3NPYmoiLCJ3aW5kb3dJZCIsImhhc093blByb3BlcnR5IiwicHVzaCIsIndpbmRvd3MiLCJCcm93c2VyV2luZG93IiwiZ2V0QWxsV2luZG93cyIsImlkIiwid2ViQ29udGVudHMiLCJzZW5kIiwibWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UiLCJzZXJ2ZU9mZmxpbmVDb250ZW50Iiwib2ZmbGluZVBvcnQiLCJnZXRPZmZsaW5lUGF0aCIsIm9mZmxpbmVQYXRoIiwib2ZmbGluZURvbWFpbiIsIm9mZmxpbmVDb250ZW50UG9ydCIsImVuY29kZVVSSUNvbXBvbmVudCIsImRvd25sb2Fkc05hbWUiLCJwcm9jZXNzU3Vic2NyaWJlciIsInN1YnNjcmliZXJJZCIsInN1YnNjcmliZXJGaW5pc2hlZCIsInJlbW92ZUFsbE1hbmlmZXN0U3Vic2NyaWJlcnNCeUlkIiwibW9kdWxlIiwiZXhwb3J0cyIsImluaXQiLCJ1c2VyU2V0dGluZ3MiLCJsb2FkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///588\n')},7258:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\nmodule.exports = function AudioRepresentation(attr) {\n  fieldsPicker(this, ["audioSamplingRate", "bandwidth", "id", "lang", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzI1OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBMEIsQ0FBQztBQUV4REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0MsbUJBQW1CLENBQUVDLElBQUksRUFBRTtFQUNuREwsWUFBWSxDQUFDLElBQUksRUFBRSxDQUNqQixtQkFBbUIsRUFDbkIsV0FBVyxFQUNYLElBQUksRUFDSixNQUFNLEVBQ04sYUFBYSxDQUNkLEVBQUVLLElBQUksQ0FBQztBQUNWLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L2pzb24vYXVkaW8tcmVwcmVzZW50YXRpb24uanM/ZTMzNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZpZWxkc1BpY2tlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2ZpZWxkcy1waWNrZXJcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gQXVkaW9SZXByZXNlbnRhdGlvbiAoYXR0cikge1xuICBmaWVsZHNQaWNrZXIodGhpcywgW1xuICAgIFwiYXVkaW9TYW1wbGluZ1JhdGVcIixcbiAgICBcImJhbmR3aWR0aFwiLFxuICAgIFwiaWRcIixcbiAgICBcImxhbmdcIixcbiAgICBcImR1cmF0aW9uSW5TXCJcbiAgXSwgYXR0cik7XG59O1xuIl0sIm5hbWVzIjpbImZpZWxkc1BpY2tlciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiQXVkaW9SZXByZXNlbnRhdGlvbiIsImF0dHIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///7258\n')},8798:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\nmodule.exports = function LinkSave(attr) {\n  fieldsPicker(this, ["id", "contentType", "bandwidth", "remoteUrl", "stats", "localUrl"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODc5OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBMEIsQ0FBQztBQUV4REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0MsUUFBUSxDQUFFQyxJQUFJLEVBQUU7RUFDeENMLFlBQVksQ0FBQyxJQUFJLEVBQUUsQ0FDakIsSUFBSSxFQUNKLGFBQWEsRUFDYixXQUFXLEVBQ1gsV0FBVyxFQUNYLE9BQU8sRUFDUCxVQUFVLENBQ1gsRUFBRUssSUFBSSxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvanNvbi9saW5rLXNhdmUuanM/MWEwOCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZpZWxkc1BpY2tlciA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL2ZpZWxkcy1waWNrZXJcIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gTGlua1NhdmUgKGF0dHIpIHtcbiAgZmllbGRzUGlja2VyKHRoaXMsIFtcbiAgICBcImlkXCIsXG4gICAgXCJjb250ZW50VHlwZVwiLFxuICAgIFwiYmFuZHdpZHRoXCIsXG4gICAgXCJyZW1vdGVVcmxcIixcbiAgICBcInN0YXRzXCIsXG4gICAgXCJsb2NhbFVybFwiXG4gIF0sIGF0dHIpO1xufTsiXSwibmFtZXMiOlsiZmllbGRzUGlja2VyIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJMaW5rU2F2ZSIsImF0dHIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8798\n')},6092:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\nmodule.exports = function TextRepresentation(attr) {\n  fieldsPicker(this, ["bandwidth", "id", "lang", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA5Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBMEIsQ0FBQztBQUN4REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0Msa0JBQWtCLENBQUVDLElBQUksRUFBRTtFQUNsREwsWUFBWSxDQUFDLElBQUksRUFBRSxDQUNqQixXQUFXLEVBQ1gsSUFBSSxFQUNKLE1BQU0sRUFDTixhQUFhLENBQ2QsRUFBRUssSUFBSSxDQUFDO0FBQ1YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvanNvbi90ZXh0LXJlcHJlc2VudGF0aW9uLmpzP2UwMGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmaWVsZHNQaWNrZXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9maWVsZHMtcGlja2VyXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBUZXh0UmVwcmVzZW50YXRpb24gKGF0dHIpIHtcbiAgZmllbGRzUGlja2VyKHRoaXMsIFtcbiAgICBcImJhbmR3aWR0aFwiLFxuICAgIFwiaWRcIixcbiAgICBcImxhbmdcIixcbiAgICBcImR1cmF0aW9uSW5TXCJcbiAgXSwgYXR0cik7XG59O1xuIl0sIm5hbWVzIjpbImZpZWxkc1BpY2tlciIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwiVGV4dFJlcHJlc2VudGF0aW9uIiwiYXR0ciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6092\n')},5533:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fieldsPicker = __webpack_require__(9241);\nmodule.exports = function VideoRepresentation(attr) {\n  fieldsPicker(this, ["bandwidth", "id", "height", "lang", "width", "durationInS"], attr);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTUzMy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBMEIsQ0FBQztBQUN4REMsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0MsbUJBQW1CLENBQUVDLElBQUksRUFBRTtFQUNuREwsWUFBWSxDQUFDLElBQUksRUFBRSxDQUNqQixXQUFXLEVBQ1gsSUFBSSxFQUNKLFFBQVEsRUFDUixNQUFNLEVBQ04sT0FBTyxFQUNQLGFBQWEsQ0FDZCxFQUFFSyxJQUFJLENBQUM7QUFDVixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9qc29uL3ZpZGVvLXJlcHJlc2VudGF0aW9uLmpzPzUxYTgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmaWVsZHNQaWNrZXIgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9maWVsZHMtcGlja2VyXCIpO1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBWaWRlb1JlcHJlc2VudGF0aW9uIChhdHRyKSB7XG4gIGZpZWxkc1BpY2tlcih0aGlzLCBbXG4gICAgXCJiYW5kd2lkdGhcIixcbiAgICBcImlkXCIsXG4gICAgXCJoZWlnaHRcIixcbiAgICBcImxhbmdcIixcbiAgICBcIndpZHRoXCIsXG4gICAgXCJkdXJhdGlvbkluU1wiXG4gIF0sIGF0dHIpO1xufTtcbiJdLCJuYW1lcyI6WyJmaWVsZHNQaWNrZXIiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsIlZpZGVvUmVwcmVzZW50YXRpb24iLCJhdHRyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///5533\n')},2927:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar _require = __webpack_require__(7194),\n  net = _require.net;\nvar appSettings = __webpack_require__(9277);\nvar ManifestLoader = function () {\n  function ManifestLoader() {}\n  ManifestLoader.prototype.load = function (url) {\n    return this.sendXMLHttpRequest(url);\n  };\n  ManifestLoader.prototype.sendXMLHttpRequest = function (url) {\n    var req_options = Object.assign({\n      url: url,\n      method: 'GET'\n    }, appSettings.getSettings().defaultManifestRequestOptions);\n    return new Promise(function (resolve, reject) {\n      var req = net.request(req_options);\n      req.chunkedEncoding = appSettings.getSettings().useChunkedEncoding;\n      req.on('error', function (err) {\n        reject(err);\n      });\n      req.on('response', function (response) {\n        response.on(\"error\", function (error) {\n          reject(new Error(\"MANIFEST LOAD FAILURE \" + error));\n        });\n        var error;\n        if (response.statusCode >= 400) {\n          error = response.statusMessage;\n        }\n        if (!error) {\n          var body = [];\n          response.on('data', function (chunk) {\n            body.push(chunk);\n          }).on('end', function () {\n            body = Buffer.concat(body);\n            resolve({\n              response: body,\n              url: url\n            });\n          });\n        } else {\n          reject(new Error(\"MANIFEST LOAD FAILURE \" + error));\n        }\n      });\n      req.end();\n    });\n  };\n  return ManifestLoader;\n}();\nexports.ManifestLoader = ManifestLoader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjkyNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixlQUFjQSxtQkFBTyxDQUFDLElBQVUsQ0FBQztFQUExQkMsR0FBRyxZQUFIQSxHQUFHO0FBQ1YsSUFBTUMsV0FBVyxHQUFHRixtQkFBTyxDQUFDLElBQW9CLENBQUM7QUFFakQsSUFBTUcsY0FBYyxHQUFJLFlBQVk7RUFDbEMsU0FBU0EsY0FBYyxHQUFJLENBQUM7RUFFNUJBLGNBQWMsQ0FBQ0MsU0FBUyxDQUFDQyxJQUFJLEdBQUcsVUFBVUMsR0FBRyxFQUFFO0lBQzdDLE9BQU8sSUFBSSxDQUFDQyxrQkFBa0IsQ0FBQ0QsR0FBRyxDQUFDO0VBQ3JDLENBQUM7RUFDREgsY0FBYyxDQUFDQyxTQUFTLENBQUNHLGtCQUFrQixHQUFHLFVBQVVELEdBQUcsRUFBRTtJQUMzRCxJQUFNRSxXQUFXLEdBQUdDLE1BQU0sQ0FBQ0MsTUFBTSxDQUFDO01BQ2hDSixHQUFHLEVBQUVBLEdBQUc7TUFDUkssTUFBTSxFQUFFO0lBQ1YsQ0FBQyxFQUFFVCxXQUFXLENBQUNVLFdBQVcsRUFBRSxDQUFDQyw2QkFBNkIsQ0FBQztJQUUzRCxPQUFPLElBQUlDLE9BQU8sQ0FBQyxVQUFVQyxPQUFPLEVBQUVDLE1BQU0sRUFBRTtNQUM1QyxJQUFJQyxHQUFHLEdBQUdoQixHQUFHLENBQUNpQixPQUFPLENBQUNWLFdBQVcsQ0FBQztNQUNsQ1MsR0FBRyxDQUFDRSxlQUFlLEdBQUdqQixXQUFXLENBQUNVLFdBQVcsRUFBRSxDQUFDUSxrQkFBa0I7TUFFbEVILEdBQUcsQ0FBQ0ksRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFDQyxHQUFHLEVBQUs7UUFDdkJOLE1BQU0sQ0FBQ00sR0FBRyxDQUFDO01BQ2IsQ0FBQyxDQUFDO01BRUZMLEdBQUcsQ0FBQ0ksRUFBRSxDQUFDLFVBQVUsRUFBRSxVQUFDRSxRQUFRLEVBQUs7UUFFL0JBLFFBQVEsQ0FBQ0YsRUFBRSxDQUFDLE9BQU8sRUFBRSxVQUFVRyxLQUFLLEVBQUU7VUFDcENSLE1BQU0sQ0FBQyxJQUFJUyxLQUFLLENBQUMsd0JBQXdCLEdBQUdELEtBQUssQ0FBQyxDQUFDO1FBQ3JELENBQUMsQ0FBQztRQUVGLElBQUlBLEtBQUs7UUFDVCxJQUFJRCxRQUFRLENBQUNHLFVBQVUsSUFBSSxHQUFHLEVBQUU7VUFDNUJGLEtBQUssR0FBR0QsUUFBUSxDQUFDSSxhQUFhO1FBQ2xDO1FBRUEsSUFBSSxDQUFDSCxLQUFLLEVBQUU7VUFDVixJQUFJSSxJQUFJLEdBQUcsRUFBRTtVQUNiTCxRQUFRLENBQUNGLEVBQUUsQ0FBQyxNQUFNLEVBQUUsVUFBQ1EsS0FBSyxFQUFLO1lBQzdCRCxJQUFJLENBQUNFLElBQUksQ0FBQ0QsS0FBSyxDQUFDO1VBQ2xCLENBQUMsQ0FBQyxDQUFDUixFQUFFLENBQUMsS0FBSyxFQUFFLFlBQU07WUFDakJPLElBQUksR0FBR0csTUFBTSxDQUFDQyxNQUFNLENBQUNKLElBQUksQ0FBQztZQUMxQmIsT0FBTyxDQUFDO2NBQUNRLFFBQVEsRUFBRUssSUFBSTtjQUFFdEIsR0FBRyxFQUFFQTtZQUFHLENBQUMsQ0FBQztVQUNyQyxDQUFDLENBQUM7UUFDSixDQUFDLE1BQU07VUFDSFUsTUFBTSxDQUFDLElBQUlTLEtBQUssQ0FBQyx3QkFBd0IsR0FBR0QsS0FBSyxDQUFDLENBQUM7UUFDdkQ7TUFDRixDQUFDLENBQUM7TUFDRlAsR0FBRyxDQUFDZ0IsR0FBRyxFQUFFO0lBQ1gsQ0FBQyxDQUFDO0VBQ0osQ0FBQztFQUNELE9BQU85QixjQUFjO0FBQ3ZCLENBQUMsRUFBRztBQUNKK0Isc0JBQXNCLEdBQUcvQixjQUFjIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3QtbG9hZGVyLmpzPzk1NDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCB7bmV0fSA9IHJlcXVpcmUoJ2VsZWN0cm9uJyk7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoJy4uLy4uL2FwcC1zZXR0aW5ncycpO1xuXG5jb25zdCBNYW5pZmVzdExvYWRlciA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1hbmlmZXN0TG9hZGVyICgpIHt9XG5cbiAgTWFuaWZlc3RMb2FkZXIucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VuZFhNTEh0dHBSZXF1ZXN0KHVybCk7XG4gIH07XG4gIE1hbmlmZXN0TG9hZGVyLnByb3RvdHlwZS5zZW5kWE1MSHR0cFJlcXVlc3QgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgcmVxX29wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIHVybDogdXJsLFxuICAgICAgbWV0aG9kOiAnR0VUJ1xuICAgIH0sIGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuZGVmYXVsdE1hbmlmZXN0UmVxdWVzdE9wdGlvbnMpO1xuXG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGxldCByZXEgPSBuZXQucmVxdWVzdChyZXFfb3B0aW9ucyk7XG4gICAgICByZXEuY2h1bmtlZEVuY29kaW5nID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS51c2VDaHVua2VkRW5jb2Rpbmc7XG5cbiAgICAgIHJlcS5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG5cbiAgICAgIHJlcS5vbigncmVzcG9uc2UnLCAocmVzcG9uc2UpID0+IHtcblxuICAgICAgICByZXNwb25zZS5vbihcImVycm9yXCIsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoXCJNQU5JRkVTVCBMT0FEIEZBSUxVUkUgXCIgKyBlcnJvcikpO1xuICAgICAgICB9KTtcblxuICAgICAgICBsZXQgZXJyb3I7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXNDb2RlID49IDQwMCkge1xuICAgICAgICAgICAgZXJyb3IgPSByZXNwb25zZS5zdGF0dXNNZXNzYWdlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFlcnJvcikge1xuICAgICAgICAgIGxldCBib2R5ID0gW107XG4gICAgICAgICAgcmVzcG9uc2Uub24oJ2RhdGEnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIGJvZHkucHVzaChjaHVuayk7XG4gICAgICAgICAgfSkub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGJvZHkgPSBCdWZmZXIuY29uY2F0KGJvZHkpO1xuICAgICAgICAgICAgcmVzb2x2ZSh7cmVzcG9uc2U6IGJvZHksIHVybDogdXJsfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWplY3QobmV3IEVycm9yKFwiTUFOSUZFU1QgTE9BRCBGQUlMVVJFIFwiICsgZXJyb3IpKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXEuZW5kKCk7XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBNYW5pZmVzdExvYWRlcjtcbn0oKSk7XG5leHBvcnRzLk1hbmlmZXN0TG9hZGVyID0gTWFuaWZlc3RMb2FkZXI7XG4iXSwibmFtZXMiOlsicmVxdWlyZSIsIm5ldCIsImFwcFNldHRpbmdzIiwiTWFuaWZlc3RMb2FkZXIiLCJwcm90b3R5cGUiLCJsb2FkIiwidXJsIiwic2VuZFhNTEh0dHBSZXF1ZXN0IiwicmVxX29wdGlvbnMiLCJPYmplY3QiLCJhc3NpZ24iLCJtZXRob2QiLCJnZXRTZXR0aW5ncyIsImRlZmF1bHRNYW5pZmVzdFJlcXVlc3RPcHRpb25zIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZXEiLCJyZXF1ZXN0IiwiY2h1bmtlZEVuY29kaW5nIiwidXNlQ2h1bmtlZEVuY29kaW5nIiwib24iLCJlcnIiLCJyZXNwb25zZSIsImVycm9yIiwiRXJyb3IiLCJzdGF0dXNDb2RlIiwic3RhdHVzTWVzc2FnZSIsImJvZHkiLCJjaHVuayIsInB1c2giLCJCdWZmZXIiLCJjb25jYXQiLCJlbmQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///2927\n")},3895:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\nvar path = __webpack_require__(1017);\n\n/**\n * @param {string} url - local url\n * @returns {Promise} promise\n * @constructor\n */\nfunction ManifestLocalLoader(url) {\n  return new Promise(function (resolve, reject) {\n    fs.readFile(path.resolve(url), "utf-8", function (err, content) {\n      if (!err) {\n        resolve(content);\n      } else {\n        reject(err);\n      }\n    });\n  });\n}\nmodule.exports = ManifestLocalLoader;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLElBQU1DLElBQUksR0FBR0QsbUJBQU8sQ0FBQyxJQUFNLENBQUM7O0FBRTVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRSxtQkFBbUIsQ0FBRUMsR0FBRyxFQUFFO0VBQ2pDLE9BQU8sSUFBSUMsT0FBTyxDQUFDLFVBQVVDLE9BQU8sRUFBRUMsTUFBTSxFQUFFO0lBQzVDUCxFQUFFLENBQUNRLFFBQVEsQ0FBQ04sSUFBSSxDQUFDSSxPQUFPLENBQUNGLEdBQUcsQ0FBQyxFQUFFLE9BQU8sRUFBRSxVQUFVSyxHQUFHLEVBQUVDLE9BQU8sRUFBRTtNQUM5RCxJQUFJLENBQUNELEdBQUcsRUFBRTtRQUNSSCxPQUFPLENBQUNJLE9BQU8sQ0FBQztNQUNsQixDQUFDLE1BQU07UUFDTEgsTUFBTSxDQUFDRSxHQUFHLENBQUM7TUFDYjtJQUNGLENBQUMsQ0FBQztFQUNKLENBQUMsQ0FBQztBQUNKO0FBQ0FFLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHVCxtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L2xvYWRlci9tYW5pZmVzdC1sb2NhbC1sb2FkZXIuanM/ZjM2OSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IHVybCAtIGxvY2FsIHVybFxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBNYW5pZmVzdExvY2FsTG9hZGVyICh1cmwpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmcy5yZWFkRmlsZShwYXRoLnJlc29sdmUodXJsKSwgXCJ1dGYtOFwiLCBmdW5jdGlvbiAoZXJyLCBjb250ZW50KSB7XG4gICAgICBpZiAoIWVycikge1xuICAgICAgICByZXNvbHZlKGNvbnRlbnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xufVxubW9kdWxlLmV4cG9ydHMgPSBNYW5pZmVzdExvY2FsTG9hZGVyO1xuIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJNYW5pZmVzdExvY2FsTG9hZGVyIiwidXJsIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJyZWFkRmlsZSIsImVyciIsImNvbnRlbnQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3895\n')},1269:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar ManifestLoader = __webpack_require__(2927);\nvar ManifestLocalLoader = __webpack_require__(3895);\n// const ManifestXML_1 = require(\"./../parser/manifest-xml\");\nvar ManifestXML_1 = __webpack_require__(4624);\nvar AllAdaptationSets_1 = __webpack_require__(7936);\nvar SnowflakeId_1 = __webpack_require__(9499);\nvar jsonRepresentation = __webpack_require__(1700);\nvar jsonRepresentationWithProtection = __webpack_require__(4723);\nvar manifestLoader = new ManifestLoader.ManifestLoader();\nvar urlParse = __webpack_require__(3720);\nvar encoding = __webpack_require__(5169);\nvar Manifest = function () {\n  function Manifest(id) {\n    if (!id) {\n      this.id = String(SnowflakeId_1.SnowflakeId.getUUID());\n    } else {\n      this.id = id;\n    }\n  }\n  Manifest.prototype._setUpUrl = function (url) {\n    var pathName = urlParse(url).pathname;\n    this.url = url;\n    this.url_domain = url.substring(0, url.lastIndexOf('/') + 1);\n    this.manifest_name = pathName.substring(pathName.lastIndexOf('/') + 1, pathName.length);\n  };\n  Manifest.prototype.load = function (url) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      _this._setUpUrl(url);\n      var p = manifestLoader.load(url);\n      p.then(function (v) {\n        var isEncodingUTF16 = encoding.isUTF16(v.response);\n        v.response = v.response.toString(isEncodingUTF16 ? 'utf16le' : 'utf-8');\n        var xml = v.response;\n        _this.manifestXML = new ManifestXML_1.ManifestXML();\n        _this.manifestXML.parse(xml, function () {\n          resolve();\n        }, function (e) {\n          reject(e);\n          throw new Error(\"Manifest parsing error\");\n        });\n      }, function (e) {\n        reject(e);\n      });\n    });\n  };\n  Manifest.prototype.loadWithManifest = function (url, manifest) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      _this._setUpUrl(url);\n      _this.manifestXML = new ManifestXML_1.ManifestXML();\n      _this.manifestXML.parse(manifest, function () {\n        resolve();\n      }, function (e) {\n        reject(e);\n        throw new Error(\"Manifest parsing error\");\n      });\n    });\n  };\n  Manifest.prototype.loadFromLocal = function (localPath, url) {\n    var _this = this;\n    return new Promise(function (resolve, reject) {\n      if (!url || !localPath) {\n        reject('wrong parameter');\n        return;\n      }\n      ManifestLocalLoader(localPath).then(function (str) {\n        _this._setUpUrl(url);\n        _this.manifestXML = new ManifestXML_1.ManifestXML();\n        _this.manifestXML.parse(str, function () {\n          resolve();\n        }, function (e) {\n          reject(e);\n        });\n      }, function (e) {\n        reject(e);\n      });\n    });\n  };\n  Manifest.prototype.loadFromStr = function (str, url) {\n    this.url_domain = url.substring(0, url.lastIndexOf('/') + 1);\n    this.manifest_name = url.substring(url.lastIndexOf('/') + 1, url.length);\n    this.manifestXML = new ManifestXML_1.ManifestXML();\n    this.manifestXML.parse(str);\n  };\n  Manifest.prototype.getAdaptationSets = function () {\n    var vid = this.manifestXML.getVideoAdaptation();\n    var audio = this.manifestXML.getAudioAdaptation();\n    var text = this.manifestXML.getTextAdaptation();\n    var all = new AllAdaptationSets_1.AllAdaptationSets(vid, audio, text);\n    return all;\n  };\n  Manifest.prototype.getVideoRepresentations = function () {\n    return this.manifestXML.getVideoAdaptation();\n  };\n  Manifest.prototype.getAudioRepresentations = function () {\n    return this.manifestXML.getAudioAdaptation();\n  };\n  Manifest.prototype.getTextRepresentations = function () {\n    return this.manifestXML.getTextAdaptation();\n  };\n  Manifest.prototype.getProtections = function () {\n    var protections = {};\n    protections.video = jsonRepresentationWithProtection(this.getVideoRepresentations());\n    protections.audio = jsonRepresentationWithProtection(this.getAudioRepresentations());\n    protections.text = jsonRepresentationWithProtection(this.getTextRepresentations());\n    return protections;\n  };\n  Manifest.prototype.getRemoteDomain = function () {\n    return this.url_domain;\n  };\n  Manifest.prototype.getManifestName = function () {\n    return this.manifest_name;\n  };\n  Manifest.prototype.getManifestUrl = function () {\n    return this.url;\n  };\n  Manifest.prototype.getManifestXML = function () {\n    return this.manifestXML.getManifestXML();\n  };\n  Manifest.prototype.removeNode = function () {\n    this.manifestXML.removeNode();\n  };\n  Manifest.prototype.getJsonInfo = function () {\n    var json = {};\n    json.id = this.id;\n    json.audio = jsonRepresentation(this.getAudioRepresentations());\n    json.video = jsonRepresentation(this.getVideoRepresentations());\n    json.text = jsonRepresentation(this.getTextRepresentations());\n    json.protections = this.getProtections();\n    return json;\n  };\n  return Manifest;\n}();\nexports.G = Manifest;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q2tELGVBQWUsR0FBRyxZQUFZO0lBQy9DLE9BQU8sSUFBSSxDQUFDMUMsYUFBYTtFQUMzQixDQUFDO0VBQ0RiLFFBQVEsQ0FBQ0ssU0FBUyxDQUFDbUQsY0FBYyxHQUFHLFlBQVk7SUFDOUMsT0FBTyxJQUFJLENBQUNqRCxHQUFHO0VBQ2pCLENBQUM7RUFDRFAsUUFBUSxDQUFDSyxTQUFTLENBQUNvRCxjQUFjLEdBQUcsWUFBWTtJQUM5QyxPQUFPLElBQUksQ0FBQzdCLFdBQVcsQ0FBQzZCLGNBQWMsRUFBRTtFQUMxQyxDQUFDO0VBQ0R6RCxRQUFRLENBQUNLLFNBQVMsQ0FBQ3FELFVBQVUsR0FBRyxZQUFZO0lBQzFDLElBQUksQ0FBQzlCLFdBQVcsQ0FBQzhCLFVBQVUsRUFBRTtFQUMvQixDQUFDO0VBQ0QxRCxRQUFRLENBQUNLLFNBQVMsQ0FBQ3NELFdBQVcsR0FBRyxZQUFZO0lBQzNDLElBQUlDLElBQUksR0FBRyxDQUFDLENBQUM7SUFDYkEsSUFBSSxDQUFDM0QsRUFBRSxHQUFHLElBQUksQ0FBQ0EsRUFBRTtJQUNqQjJELElBQUksQ0FBQ2xCLEtBQUssR0FBRy9DLGtCQUFrQixDQUFDLElBQUksQ0FBQ3NELHVCQUF1QixFQUFFLENBQUM7SUFDL0RXLElBQUksQ0FBQ1AsS0FBSyxHQUFHMUQsa0JBQWtCLENBQUMsSUFBSSxDQUFDcUQsdUJBQXVCLEVBQUUsQ0FBQztJQUMvRFksSUFBSSxDQUFDaEIsSUFBSSxHQUFHakQsa0JBQWtCLENBQUMsSUFBSSxDQUFDdUQsc0JBQXNCLEVBQUUsQ0FBQztJQUM3RFUsSUFBSSxDQUFDUixXQUFXLEdBQUcsSUFBSSxDQUFDRCxjQUFjLEVBQUU7SUFDeEMsT0FBT1MsSUFBSTtFQUNiLENBQUM7RUFDRCxPQUFPNUQsUUFBUTtBQUNqQixDQUFDLEVBQUc7QUFDSjZELFNBQWdCLEdBQUc3RCxRQUFRIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3QuanM/N2I5NiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IE1hbmlmZXN0TG9hZGVyID0gcmVxdWlyZShcIi4vbWFuaWZlc3QtbG9hZGVyXCIpO1xuY29uc3QgTWFuaWZlc3RMb2NhbExvYWRlciA9IHJlcXVpcmUoXCIuL21hbmlmZXN0LWxvY2FsLWxvYWRlclwiKTtcbi8vIGNvbnN0IE1hbmlmZXN0WE1MXzEgPSByZXF1aXJlKFwiLi8uLi9wYXJzZXIvbWFuaWZlc3QteG1sXCIpO1xuY29uc3QgTWFuaWZlc3RYTUxfMSA9IHJlcXVpcmUoXCIuLy4uL3BhcnNlci9tc3MvbWFuaWZlc3QteG1sXCIpO1xuY29uc3QgQWxsQWRhcHRhdGlvblNldHNfMSA9IHJlcXVpcmUoXCIuLi9wYXJzZXIvYWxsLWFkYXB0YXRpb24tc2V0c1wiKTtcbmNvbnN0IFNub3dmbGFrZUlkXzEgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9zbm93Zmxha2UtaWRcIik7XG5jb25zdCBqc29uUmVwcmVzZW50YXRpb24gPSByZXF1aXJlKFwiLi4vcGFyc2VyL2pzb24tcmVwcmVzZW50YXRpb25cIik7XG5jb25zdCBqc29uUmVwcmVzZW50YXRpb25XaXRoUHJvdGVjdGlvbiA9IHJlcXVpcmUoXCIuLi9wYXJzZXIvanNvbi1yZXByZXNlbnRhdGlvbi13aXRoLXByb3RlY3Rpb25cIik7XG5jb25zdCBtYW5pZmVzdExvYWRlciA9IG5ldyBNYW5pZmVzdExvYWRlci5NYW5pZmVzdExvYWRlcigpO1xuY29uc3QgdXJsUGFyc2UgPSByZXF1aXJlKFwidXJsLXBhcnNlXCIpO1xuY29uc3QgZW5jb2RpbmcgPSByZXF1aXJlKFwiLi4vLi4vdXRpbC9lbmNvZGluZ1wiKTtcblxuY29uc3QgTWFuaWZlc3QgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNYW5pZmVzdCAoaWQpIHtcbiAgICBpZiAoIWlkKSB7XG4gICAgICB0aGlzLmlkID0gU3RyaW5nKFNub3dmbGFrZUlkXzEuU25vd2ZsYWtlSWQuZ2V0VVVJRCgpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5pZCA9IGlkO1xuICAgIH1cbiAgfVxuXG4gIE1hbmlmZXN0LnByb3RvdHlwZS5fc2V0VXBVcmwgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgcGF0aE5hbWUgPSB1cmxQYXJzZSh1cmwpLnBhdGhuYW1lO1xuICAgIHRoaXMudXJsID0gdXJsO1xuICAgIHRoaXMudXJsX2RvbWFpbiA9IHVybC5zdWJzdHJpbmcoMCwgdXJsLmxhc3RJbmRleE9mKCcvJykgKyAxKTtcbiAgICB0aGlzLm1hbmlmZXN0X25hbWUgPSBwYXRoTmFtZS5zdWJzdHJpbmcocGF0aE5hbWUubGFzdEluZGV4T2YoJy8nKSArIDEsIHBhdGhOYW1lLmxlbmd0aCk7XG4gIH07XG5cbiAgTWFuaWZlc3QucHJvdG90eXBlLmxvYWQgPSBmdW5jdGlvbiAodXJsKSB7XG4gICAgY29uc3QgX3RoaXMgPSB0aGlzO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBfdGhpcy5fc2V0VXBVcmwodXJsKTtcbiAgICAgIGNvbnN0IHAgPSBtYW5pZmVzdExvYWRlci5sb2FkKHVybCk7XG4gICAgICBwLnRoZW4oZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgdmFyIGlzRW5jb2RpbmdVVEYxNiA9IGVuY29kaW5nLmlzVVRGMTYodi5yZXNwb25zZSk7XG4gICAgICAgIHYucmVzcG9uc2UgPSB2LnJlc3BvbnNlLnRvU3RyaW5nKGlzRW5jb2RpbmdVVEYxNiA/ICd1dGYxNmxlJyA6ICd1dGYtOCcpO1xuICAgICAgICBjb25zdCB4bWwgPSB2LnJlc3BvbnNlO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTCA9IG5ldyBNYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MKCk7XG4gICAgICAgIF90aGlzLm1hbmlmZXN0WE1MLnBhcnNlKHhtbCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgcGFyc2luZyBlcnJvclwiKTtcbiAgICAgICAgfSk7XG4gICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuTWFuaWZlc3QucHJvdG90eXBlLmxvYWRXaXRoTWFuaWZlc3QgPSBmdW5jdGlvbiAodXJsLCBtYW5pZmVzdCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICBfdGhpcy5fc2V0VXBVcmwodXJsKTtcbiAgICAgICAgX3RoaXMubWFuaWZlc3RYTUwgPSBuZXcgTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTCgpO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTC5wYXJzZShtYW5pZmVzdCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTWFuaWZlc3QgcGFyc2luZyBlcnJvclwiKTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuICBNYW5pZmVzdC5wcm90b3R5cGUubG9hZEZyb21Mb2NhbCA9IGZ1bmN0aW9uIChsb2NhbFBhdGgsIHVybCkge1xuICAgIGNvbnN0IF90aGlzID0gdGhpcztcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgaWYgKCF1cmwgfHwgIWxvY2FsUGF0aCkge1xuICAgICAgICByZWplY3QoJ3dyb25nIHBhcmFtZXRlcicpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBNYW5pZmVzdExvY2FsTG9hZGVyKGxvY2FsUGF0aCkudGhlbihmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIF90aGlzLl9zZXRVcFVybCh1cmwpO1xuICAgICAgICBfdGhpcy5tYW5pZmVzdFhNTCA9IG5ldyBNYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MKCk7XG4gICAgICAgIF90aGlzLm1hbmlmZXN0WE1MLnBhcnNlKHN0ciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICByZWplY3QoZSk7XG4gICAgICAgIH0pO1xuICAgICAgfSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgfTtcblxuICBNYW5pZmVzdC5wcm90b3R5cGUubG9hZEZyb21TdHIgPSBmdW5jdGlvbiAoc3RyLCB1cmwpIHtcbiAgICB0aGlzLnVybF9kb21haW4gPSB1cmwuc3Vic3RyaW5nKDAsIHVybC5sYXN0SW5kZXhPZignLycpICsgMSk7XG4gICAgdGhpcy5tYW5pZmVzdF9uYW1lID0gdXJsLnN1YnN0cmluZyh1cmwubGFzdEluZGV4T2YoJy8nKSArIDEsIHVybC5sZW5ndGgpO1xuICAgIHRoaXMubWFuaWZlc3RYTUwgPSBuZXcgTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTCgpO1xuICAgIHRoaXMubWFuaWZlc3RYTUwucGFyc2Uoc3RyKTtcbiAgfTtcblxuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QWRhcHRhdGlvblNldHMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdmlkID0gdGhpcy5tYW5pZmVzdFhNTC5nZXRWaWRlb0FkYXB0YXRpb24oKTtcbiAgICBjb25zdCBhdWRpbyA9IHRoaXMubWFuaWZlc3RYTUwuZ2V0QXVkaW9BZGFwdGF0aW9uKCk7XG4gICAgY29uc3QgdGV4dCA9IHRoaXMubWFuaWZlc3RYTUwuZ2V0VGV4dEFkYXB0YXRpb24oKTtcbiAgICBjb25zdCBhbGwgPSBuZXcgQWxsQWRhcHRhdGlvblNldHNfMS5BbGxBZGFwdGF0aW9uU2V0cyh2aWQsIGF1ZGlvLCB0ZXh0KTtcbiAgICByZXR1cm4gYWxsO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0VmlkZW9BZGFwdGF0aW9uKCk7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYW5pZmVzdFhNTC5nZXRBdWRpb0FkYXB0YXRpb24oKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldFRleHRSZXByZXNlbnRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0VGV4dEFkYXB0YXRpb24oKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldFByb3RlY3Rpb25zID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBwcm90ZWN0aW9ucyA9IHt9O1xuICAgIHByb3RlY3Rpb25zLnZpZGVvID0ganNvblJlcHJlc2VudGF0aW9uV2l0aFByb3RlY3Rpb24odGhpcy5nZXRWaWRlb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgICBwcm90ZWN0aW9ucy5hdWRpbyA9IGpzb25SZXByZXNlbnRhdGlvbldpdGhQcm90ZWN0aW9uKHRoaXMuZ2V0QXVkaW9SZXByZXNlbnRhdGlvbnMoKSk7XG4gICAgcHJvdGVjdGlvbnMudGV4dCA9IGpzb25SZXByZXNlbnRhdGlvbldpdGhQcm90ZWN0aW9uKHRoaXMuZ2V0VGV4dFJlcHJlc2VudGF0aW9ucygpKTtcbiAgICByZXR1cm4gcHJvdGVjdGlvbnM7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRSZW1vdGVEb21haW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsX2RvbWFpbjtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLmdldE1hbmlmZXN0TmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5tYW5pZmVzdF9uYW1lO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RVcmwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMudXJsO1xuICB9O1xuICBNYW5pZmVzdC5wcm90b3R5cGUuZ2V0TWFuaWZlc3RYTUwgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFuaWZlc3RYTUwuZ2V0TWFuaWZlc3RYTUwoKTtcbiAgfTtcbiAgTWFuaWZlc3QucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5tYW5pZmVzdFhNTC5yZW1vdmVOb2RlKCk7XG4gIH07XG4gIE1hbmlmZXN0LnByb3RvdHlwZS5nZXRKc29uSW5mbyA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQganNvbiA9IHt9O1xuICAgIGpzb24uaWQgPSB0aGlzLmlkO1xuICAgIGpzb24uYXVkaW8gPSBqc29uUmVwcmVzZW50YXRpb24odGhpcy5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgICBqc29uLnZpZGVvID0ganNvblJlcHJlc2VudGF0aW9uKHRoaXMuZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMoKSk7XG4gICAganNvbi50ZXh0ID0ganNvblJlcHJlc2VudGF0aW9uKHRoaXMuZ2V0VGV4dFJlcHJlc2VudGF0aW9ucygpKTtcbiAgICBqc29uLnByb3RlY3Rpb25zID0gdGhpcy5nZXRQcm90ZWN0aW9ucygpO1xuICAgIHJldHVybiBqc29uO1xuICB9O1xuICByZXR1cm4gTWFuaWZlc3Q7XG59KCkpO1xuZXhwb3J0cy5NYW5pZmVzdCA9IE1hbmlmZXN0O1xuIl0sIm5hbWVzIjpbIk1hbmlmZXN0TG9hZGVyIiwicmVxdWlyZSIsIk1hbmlmZXN0TG9jYWxMb2FkZXIiLCJNYW5pZmVzdFhNTF8xIiwiQWxsQWRhcHRhdGlvblNldHNfMSIsIlNub3dmbGFrZUlkXzEiLCJqc29uUmVwcmVzZW50YXRpb24iLCJqc29uUmVwcmVzZW50YXRpb25XaXRoUHJvdGVjdGlvbiIsIm1hbmlmZXN0TG9hZGVyIiwidXJsUGFyc2UiLCJlbmNvZGluZyIsIk1hbmlmZXN0IiwiaWQiLCJTdHJpbmciLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJwcm90b3R5cGUiLCJfc2V0VXBVcmwiLCJ1cmwiLCJwYXRoTmFtZSIsInBhdGhuYW1lIiwidXJsX2RvbWFpbiIsInN1YnN0cmluZyIsImxhc3RJbmRleE9mIiwibWFuaWZlc3RfbmFtZSIsImxlbmd0aCIsImxvYWQiLCJfdGhpcyIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicCIsInRoZW4iLCJ2IiwiaXNFbmNvZGluZ1VURjE2IiwiaXNVVEYxNiIsInJlc3BvbnNlIiwidG9TdHJpbmciLCJ4bWwiLCJtYW5pZmVzdFhNTCIsIk1hbmlmZXN0WE1MIiwicGFyc2UiLCJlIiwiRXJyb3IiLCJsb2FkV2l0aE1hbmlmZXN0IiwibWFuaWZlc3QiLCJsb2FkRnJvbUxvY2FsIiwibG9jYWxQYXRoIiwic3RyIiwibG9hZEZyb21TdHIiLCJnZXRBZGFwdGF0aW9uU2V0cyIsInZpZCIsImdldFZpZGVvQWRhcHRhdGlvbiIsImF1ZGlvIiwiZ2V0QXVkaW9BZGFwdGF0aW9uIiwidGV4dCIsImdldFRleHRBZGFwdGF0aW9uIiwiYWxsIiwiQWxsQWRhcHRhdGlvblNldHMiLCJnZXRWaWRlb1JlcHJlc2VudGF0aW9ucyIsImdldEF1ZGlvUmVwcmVzZW50YXRpb25zIiwiZ2V0VGV4dFJlcHJlc2VudGF0aW9ucyIsImdldFByb3RlY3Rpb25zIiwicHJvdGVjdGlvbnMiLCJ2aWRlbyIsImdldFJlbW90ZURvbWFpbiIsImdldE1hbmlmZXN0TmFtZSIsImdldE1hbmlmZXN0VXJsIiwiZ2V0TWFuaWZlc3RYTUwiLCJyZW1vdmVOb2RlIiwiZ2V0SnNvbkluZm8iLCJqc29uIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1269\n")},4872:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\nvar pssh = __webpack_require__(2310);\nvar MPEG_DASH_PROTECTION_SCHEME_ID_URI = 'urn:mpeg:dash:mp4protection:2011';\nvar WIDEVINE_SCHEME_ID_URI = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ManifestNode_1 = __webpack_require__(2167);\nvar RepresentationNode_1 = __webpack_require__(3188);\nvar AdaptationSetNode = function (_super) {\n  __extends(AdaptationSetNode, _super);\n  function AdaptationSetNode(node, xml) {\n    _super.call(this, node, xml);\n    this.representationColl = [];\n    this.contentProtections = [];\n    this.parse();\n  }\n  AdaptationSetNode.prototype.parse = function () {\n    var rep = this.currentNode.getElementsByTagName('Representation');\n    for (var i = 0; i < rep.length; i++) {\n      var repNode = new RepresentationNode_1.RepresentationNode(rep[i], this.xml);\n      this.representationColl[i] = repNode;\n      if (this.representationColl[0].hasMimeType()) {\n        {\n          this.attributeList['mimeType'] = this.representationColl[0].getMimeType();\n        }\n      }\n    }\n    var contentProtections = this.currentNode.getElementsByTagName('ContentProtection');\n    var KID;\n    // find CENC KEY ID if there is some\n    for (var _i = 0; _i < contentProtections.length; _i++) {\n      var attrs = contentProtections[_i].attributes;\n      var schemeIdUri = attrs.getNamedItem(\"schemeIdUri\");\n      if (schemeIdUri && schemeIdUri.value.toLowerCase() === MPEG_DASH_PROTECTION_SCHEME_ID_URI) {\n        if (attrs.getNamedItem(\"cenc:default_KID\")) {\n          KID = attrs.getNamedItem(\"cenc:default_KID\").value;\n          // Get KID (base64 decoded) as byte array\n          KID = BASE64.toByteArray(KID);\n          break;\n        }\n      }\n    }\n    for (var _i2 = 0; _i2 < contentProtections.length; _i2++) {\n      var _attrs = contentProtections[_i2].attributes;\n      if (_attrs.getNamedItem(\"schemeIdUri\")) {\n        var scheme = _attrs.getNamedItem(\"schemeIdUri\").value.toLowerCase();\n        var cenc = contentProtections[_i2].getElementsByTagName(\"cenc:pssh\");\n        if (cenc.length) {\n          var contentProtection = {\n            schemeIdUri: scheme,\n            cencPSSH: cenc[0].childNodes[0].data\n          };\n          this.contentProtections.push(contentProtection);\n        } else if (KID && scheme === WIDEVINE_SCHEME_ID_URI) {\n          var psshWV = pssh.createWidevinePssh(KID);\n          var _contentProtection = {\n            schemeIdUri: scheme,\n            cencPSSH: psshWV\n          };\n          this.contentProtections.push(_contentProtection);\n        }\n      }\n    }\n  };\n  AdaptationSetNode.prototype.getContentProtections = function () {\n    return this.contentProtections;\n  };\n  AdaptationSetNode.prototype.getWidevineProtection = function () {\n    return this.contentProtections.filter(function (item) {\n      return item.schemeIdUri && item.schemeIdUri.toLowerCase() === WIDEVINE_SCHEME_ID_URI;\n    });\n  };\n  AdaptationSetNode.prototype.isMimeType = function (str) {\n    return this.attributeList['mimeType'].indexOf(str) != -1 ? true : false;\n  };\n  AdaptationSetNode.prototype.isContentType = function (str) {\n    return this.attributeList['contentType'] && this.attributeList['contentType'].indexOf(str) != -1 ? true : false;\n  };\n  return AdaptationSetNode;\n}(ManifestNode_1.ManifestNode);\nexports.AdaptationSetNode = AdaptationSetNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsQ0FBQyxHQUFHLElBQUksR0FBRyxLQUFLO0VBQ2pILENBQUM7RUFDRCxPQUFPeEMsaUJBQWlCO0FBQzFCLENBQUMsQ0FBQ0YsY0FBYyxDQUFDNkMsWUFBWSxDQUFFO0FBQy9CQyx5QkFBeUIsR0FBRzVDLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL2FkYXB0YXRpb24tc2V0LW5vZGUuanM/M2M1MSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEJBU0U2NCA9IHJlcXVpcmUoJ2Jhc2U2NC1qcycpO1xuY29uc3QgcHNzaCA9IHJlcXVpcmUoXCIuL3Bzc2hcIik7XG5jb25zdCBNUEVHX0RBU0hfUFJPVEVDVElPTl9TQ0hFTUVfSURfVVJJID0gJ3VybjptcGVnOmRhc2g6bXA0cHJvdGVjdGlvbjoyMDExJztcbmNvbnN0IFdJREVWSU5FX1NDSEVNRV9JRF9VUkkgPSAndXJuOnV1aWQ6ZWRlZjhiYTktNzlkNi00YWNlLWEzYzgtMjdkY2Q1MWQyMWVkJztcblxuY29uc3QgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBmb3IgKGxldCBwIGluIGIpIHtcbiAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gX18gKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgIH1cblxuICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG5jb25zdCBNYW5pZmVzdE5vZGVfMSA9IHJlcXVpcmUoXCIuL21hbmlmZXN0LW5vZGVcIik7XG5jb25zdCBSZXByZXNlbnRhdGlvbk5vZGVfMSA9IHJlcXVpcmUoXCIuL3JlcHJlc2VudGF0aW9uLW5vZGVcIik7XG5jb25zdCBBZGFwdGF0aW9uU2V0Tm9kZSA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhBZGFwdGF0aW9uU2V0Tm9kZSwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gQWRhcHRhdGlvblNldE5vZGUgKG5vZGUsIHhtbCkge1xuICAgIF9zdXBlci5jYWxsKHRoaXMsIG5vZGUsIHhtbCk7XG4gICAgdGhpcy5yZXByZXNlbnRhdGlvbkNvbGwgPSBbXTtcbiAgICB0aGlzLmNvbnRlbnRQcm90ZWN0aW9ucyA9IFtdO1xuICAgIHRoaXMucGFyc2UoKTtcbiAgfVxuXG4gIEFkYXB0YXRpb25TZXROb2RlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXAgPSB0aGlzLmN1cnJlbnROb2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdSZXByZXNlbnRhdGlvbicpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcmVwLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCByZXBOb2RlID0gbmV3IFJlcHJlc2VudGF0aW9uTm9kZV8xLlJlcHJlc2VudGF0aW9uTm9kZShyZXBbaV0sIHRoaXMueG1sKTtcbiAgICAgIHRoaXMucmVwcmVzZW50YXRpb25Db2xsW2ldID0gcmVwTm9kZTtcbiAgICAgIGlmICh0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFswXS5oYXNNaW1lVHlwZSgpKSB7XG4gICAgICAgIHtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10gPSB0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFswXS5nZXRNaW1lVHlwZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgY29uc3QgY29udGVudFByb3RlY3Rpb25zID0gdGhpcy5jdXJyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQ29udGVudFByb3RlY3Rpb24nKTtcblxuICAgIGxldCBLSUQ7XG4gICAgLy8gZmluZCBDRU5DIEtFWSBJRCBpZiB0aGVyZSBpcyBzb21lXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBjb250ZW50UHJvdGVjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCBhdHRycyA9IGNvbnRlbnRQcm90ZWN0aW9uc1tpXS5hdHRyaWJ1dGVzO1xuICAgICAgbGV0IHNjaGVtZUlkVXJpID0gYXR0cnMuZ2V0TmFtZWRJdGVtKFwic2NoZW1lSWRVcmlcIik7XG4gICAgICBpZiAoc2NoZW1lSWRVcmkgJiYgc2NoZW1lSWRVcmkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gTVBFR19EQVNIX1BST1RFQ1RJT05fU0NIRU1FX0lEX1VSSSkge1xuICAgICAgICBpZiAoYXR0cnMuZ2V0TmFtZWRJdGVtKFwiY2VuYzpkZWZhdWx0X0tJRFwiKSkge1xuICAgICAgICAgIEtJRCA9IGF0dHJzLmdldE5hbWVkSXRlbShcImNlbmM6ZGVmYXVsdF9LSURcIikudmFsdWU7XG4gICAgICAgICAgLy8gR2V0IEtJRCAoYmFzZTY0IGRlY29kZWQpIGFzIGJ5dGUgYXJyYXlcbiAgICAgICAgICBLSUQgPSBCQVNFNjQudG9CeXRlQXJyYXkoS0lEKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgY29udGVudFByb3RlY3Rpb25zLmxlbmd0aDsgaSsrKSB7XG4gICAgICBjb25zdCBhdHRycyA9IGNvbnRlbnRQcm90ZWN0aW9uc1tpXS5hdHRyaWJ1dGVzO1xuICAgICAgaWYgKGF0dHJzLmdldE5hbWVkSXRlbShcInNjaGVtZUlkVXJpXCIpKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtZSA9IGF0dHJzLmdldE5hbWVkSXRlbShcInNjaGVtZUlkVXJpXCIpLnZhbHVlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IGNlbmMgPSBjb250ZW50UHJvdGVjdGlvbnNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJjZW5jOnBzc2hcIik7XG4gICAgICAgIGlmIChjZW5jLmxlbmd0aCkge1xuICAgICAgICAgIGNvbnN0IGNvbnRlbnRQcm90ZWN0aW9uID0ge1xuICAgICAgICAgICAgc2NoZW1lSWRVcmk6IHNjaGVtZSxcbiAgICAgICAgICAgIGNlbmNQU1NIOiBjZW5jWzBdLmNoaWxkTm9kZXNbMF0uZGF0YVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5jb250ZW50UHJvdGVjdGlvbnMucHVzaChjb250ZW50UHJvdGVjdGlvbik7XG4gICAgICAgIH0gZWxzZSBpZiAoS0lEICYmIHNjaGVtZSA9PT0gV0lERVZJTkVfU0NIRU1FX0lEX1VSSSkge1xuICAgICAgICAgIGNvbnN0IHBzc2hXViA9IHBzc2guY3JlYXRlV2lkZXZpbmVQc3NoKEtJRCk7XG4gICAgICAgICAgY29uc3QgY29udGVudFByb3RlY3Rpb24gPSB7XG4gICAgICAgICAgICBzY2hlbWVJZFVyaTogc2NoZW1lLFxuICAgICAgICAgICAgY2VuY1BTU0g6IHBzc2hXVlxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5jb250ZW50UHJvdGVjdGlvbnMucHVzaChjb250ZW50UHJvdGVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH07XG5cbiAgQWRhcHRhdGlvblNldE5vZGUucHJvdG90eXBlLmdldENvbnRlbnRQcm90ZWN0aW9ucyA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50UHJvdGVjdGlvbnM7XG4gIH07XG5cbiAgQWRhcHRhdGlvblNldE5vZGUucHJvdG90eXBlLmdldFdpZGV2aW5lUHJvdGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jb250ZW50UHJvdGVjdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zY2hlbWVJZFVyaSAmJiBpdGVtLnNjaGVtZUlkVXJpLnRvTG93ZXJDYXNlKCkgPT09IFdJREVWSU5FX1NDSEVNRV9JRF9VUkk7XG4gICAgfSk7XG4gIH07XG5cbiAgQWRhcHRhdGlvblNldE5vZGUucHJvdG90eXBlLmlzTWltZVR5cGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXS5pbmRleE9mKHN0cikgIT0gLTEgPyB0cnVlIDogZmFsc2U7XG4gIH07XG5cbiAgQWRhcHRhdGlvblNldE5vZGUucHJvdG90eXBlLmlzQ29udGVudFR5cGUgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnY29udGVudFR5cGUnXSAmJiB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2NvbnRlbnRUeXBlJ10uaW5kZXhPZihzdHIpICE9IC0xID8gdHJ1ZSA6IGZhbHNlO1xuICB9O1xuICByZXR1cm4gQWRhcHRhdGlvblNldE5vZGU7XG59KE1hbmlmZXN0Tm9kZV8xLk1hbmlmZXN0Tm9kZSkpO1xuZXhwb3J0cy5BZGFwdGF0aW9uU2V0Tm9kZSA9IEFkYXB0YXRpb25TZXROb2RlO1xuIl0sIm5hbWVzIjpbIkJBU0U2NCIsInJlcXVpcmUiLCJwc3NoIiwiTVBFR19EQVNIX1BST1RFQ1RJT05fU0NIRU1FX0lEX1VSSSIsIldJREVWSU5FX1NDSEVNRV9JRF9VUkkiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJNYW5pZmVzdE5vZGVfMSIsIlJlcHJlc2VudGF0aW9uTm9kZV8xIiwiQWRhcHRhdGlvblNldE5vZGUiLCJfc3VwZXIiLCJub2RlIiwieG1sIiwiY2FsbCIsInJlcHJlc2VudGF0aW9uQ29sbCIsImNvbnRlbnRQcm90ZWN0aW9ucyIsInBhcnNlIiwicmVwIiwiY3VycmVudE5vZGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJyZXBOb2RlIiwiUmVwcmVzZW50YXRpb25Ob2RlIiwiaGFzTWltZVR5cGUiLCJhdHRyaWJ1dGVMaXN0IiwiZ2V0TWltZVR5cGUiLCJLSUQiLCJhdHRycyIsImF0dHJpYnV0ZXMiLCJzY2hlbWVJZFVyaSIsImdldE5hbWVkSXRlbSIsInZhbHVlIiwidG9Mb3dlckNhc2UiLCJ0b0J5dGVBcnJheSIsInNjaGVtZSIsImNlbmMiLCJjb250ZW50UHJvdGVjdGlvbiIsImNlbmNQU1NIIiwiY2hpbGROb2RlcyIsImRhdGEiLCJwdXNoIiwicHNzaFdWIiwiY3JlYXRlV2lkZXZpbmVQc3NoIiwiZ2V0Q29udGVudFByb3RlY3Rpb25zIiwiZ2V0V2lkZXZpbmVQcm90ZWN0aW9uIiwiZmlsdGVyIiwiaXRlbSIsImlzTWltZVR5cGUiLCJzdHIiLCJpbmRleE9mIiwiaXNDb250ZW50VHlwZSIsIk1hbmlmZXN0Tm9kZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4872\n")},7936:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar AllAdaptationSets = function () {\n  function AllAdaptationSets(vid, audio, text) {\n    this.videoAdaptation = vid;\n    if (audio) {\n      this.audioAdaptation = audio;\n    }\n    if (text) {\n      this.textAdaptation = text;\n    }\n  }\n  return AllAdaptationSets;\n}();\nexports.AllAdaptationSets = AllAdaptationSets;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzkzNi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxpQkFBaUIsR0FBSSxZQUFZO0VBQ3JDLFNBQVNBLGlCQUFpQixDQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsSUFBSSxFQUFFO0lBQzVDLElBQUksQ0FBQ0MsZUFBZSxHQUFHSCxHQUFHO0lBQzFCLElBQUlDLEtBQUssRUFBRTtNQUNULElBQUksQ0FBQ0csZUFBZSxHQUFHSCxLQUFLO0lBQzlCO0lBQ0EsSUFBSUMsSUFBSSxFQUFFO01BQ1IsSUFBSSxDQUFDRyxjQUFjLEdBQUdILElBQUk7SUFDNUI7RUFDRjtFQUVBLE9BQU9ILGlCQUFpQjtBQUMxQixDQUFDLEVBQUc7QUFDSk8seUJBQXlCLEdBQUdQLGlCQUFpQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL2FsbC1hZGFwdGF0aW9uLXNldHMuanM/NTdlYyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEFsbEFkYXB0YXRpb25TZXRzID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gQWxsQWRhcHRhdGlvblNldHMgKHZpZCwgYXVkaW8sIHRleHQpIHtcbiAgICB0aGlzLnZpZGVvQWRhcHRhdGlvbiA9IHZpZDtcbiAgICBpZiAoYXVkaW8pIHtcbiAgICAgIHRoaXMuYXVkaW9BZGFwdGF0aW9uID0gYXVkaW87XG4gICAgfVxuICAgIGlmICh0ZXh0KSB7XG4gICAgICB0aGlzLnRleHRBZGFwdGF0aW9uID0gdGV4dDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gQWxsQWRhcHRhdGlvblNldHM7XG59KCkpO1xuZXhwb3J0cy5BbGxBZGFwdGF0aW9uU2V0cyA9IEFsbEFkYXB0YXRpb25TZXRzO1xuIl0sIm5hbWVzIjpbIkFsbEFkYXB0YXRpb25TZXRzIiwidmlkIiwiYXVkaW8iLCJ0ZXh0IiwidmlkZW9BZGFwdGF0aW9uIiwiYXVkaW9BZGFwdGF0aW9uIiwidGV4dEFkYXB0YXRpb24iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7936\n")},4723:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar AudioRepresentation = __webpack_require__(7258);\nvar VideoRepresentation = __webpack_require__(5533);\nvar TextRepresentation = __webpack_require__(6092);\nmodule.exports = function jsonRepresentation(representations) {\n  var reprObj = [];\n  for (var i = 0, j = representations.length; i < j; i++) {\n    var cols = representations[i].representationColl;\n    for (var k = 0, l = cols.length; k < l; k++) {\n      var attr = cols[k].attributeList;\n      var contentType = attr.contentType || attr.mimeType;\n      if (contentType.indexOf("video") >= 0) {\n        contentType = "video";\n      } else if (contentType.indexOf("audio") >= 0) {\n        contentType = "audio";\n      } else {\n        contentType = "text";\n      }\n      switch (contentType) {\n        case "audio":\n          reprObj.push(new AudioRepresentation(attr));\n          break;\n        case "video":\n          reprObj.push(new VideoRepresentation(attr));\n          break;\n        default:\n          reprObj.push(new TextRepresentation(attr));\n      }\n      reprObj[k].protections = representations[i].contentProtections.slice();\n    }\n  }\n  return reprObj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDcyMy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxtQkFBbUIsR0FBR0MsbUJBQU8sQ0FBQyxJQUE4QixDQUFDO0FBQ25FLElBQU1DLG1CQUFtQixHQUFHRCxtQkFBTyxDQUFDLElBQThCLENBQUM7QUFDbkUsSUFBTUUsa0JBQWtCLEdBQUdGLG1CQUFPLENBQUMsSUFBNkIsQ0FBQztBQUVqRUcsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0Msa0JBQWtCLENBQUVDLGVBQWUsRUFBRTtFQUM3RCxJQUFJQyxPQUFPLEdBQUcsRUFBRTtFQUNoQixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR0gsZUFBZSxDQUFDSSxNQUFNLEVBQUVGLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUN0RCxJQUFNRyxJQUFJLEdBQUdMLGVBQWUsQ0FBQ0UsQ0FBQyxDQUFDLENBQUNJLGtCQUFrQjtJQUNsRCxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR0gsSUFBSSxDQUFDRCxNQUFNLEVBQUVHLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUMzQyxJQUFNRSxJQUFJLEdBQUdKLElBQUksQ0FBQ0UsQ0FBQyxDQUFDLENBQUNHLGFBQWE7TUFDbEMsSUFBSUMsV0FBVyxHQUFHRixJQUFJLENBQUNFLFdBQVcsSUFBSUYsSUFBSSxDQUFDRyxRQUFRO01BQ25ELElBQUlELFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNyQ0YsV0FBVyxHQUFHLE9BQU87TUFDdkIsQ0FBQyxNQUFNLElBQUlBLFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM1Q0YsV0FBVyxHQUFHLE9BQU87TUFDdkIsQ0FBQyxNQUFNO1FBQ0xBLFdBQVcsR0FBRyxNQUFNO01BQ3RCO01BQ0EsUUFBUUEsV0FBVztRQUNqQixLQUFLLE9BQU87VUFDVlYsT0FBTyxDQUFDYSxJQUFJLENBQUMsSUFBSXJCLG1CQUFtQixDQUFDZ0IsSUFBSSxDQUFDLENBQUM7VUFDM0M7UUFFRixLQUFLLE9BQU87VUFDVlIsT0FBTyxDQUFDYSxJQUFJLENBQUMsSUFBSW5CLG1CQUFtQixDQUFDYyxJQUFJLENBQUMsQ0FBQztVQUMzQztRQUVGO1VBQ0VSLE9BQU8sQ0FBQ2EsSUFBSSxDQUFDLElBQUlsQixrQkFBa0IsQ0FBQ2EsSUFBSSxDQUFDLENBQUM7TUFBQztNQUUvQ1IsT0FBTyxDQUFDTSxDQUFDLENBQUMsQ0FBQ1EsV0FBVyxHQUFHZixlQUFlLENBQUNFLENBQUMsQ0FBQyxDQUFDYyxrQkFBa0IsQ0FBQ0MsS0FBSyxFQUFFO0lBQ3hFO0VBRUY7RUFDQSxPQUFPaEIsT0FBTztBQUNoQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvanNvbi1yZXByZXNlbnRhdGlvbi13aXRoLXByb3RlY3Rpb24uanM/NTE0YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEF1ZGlvUmVwcmVzZW50YXRpb24gPSByZXF1aXJlKFwiLi4vanNvbi9hdWRpby1yZXByZXNlbnRhdGlvblwiKTtcbmNvbnN0IFZpZGVvUmVwcmVzZW50YXRpb24gPSByZXF1aXJlKFwiLi4vanNvbi92aWRlby1yZXByZXNlbnRhdGlvblwiKTtcbmNvbnN0IFRleHRSZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL3RleHQtcmVwcmVzZW50YXRpb25cIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ganNvblJlcHJlc2VudGF0aW9uIChyZXByZXNlbnRhdGlvbnMpIHtcbiAgbGV0IHJlcHJPYmogPSBbXTtcbiAgZm9yIChsZXQgaSA9IDAsIGogPSByZXByZXNlbnRhdGlvbnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY29uc3QgY29scyA9IHJlcHJlc2VudGF0aW9uc1tpXS5yZXByZXNlbnRhdGlvbkNvbGw7XG4gICAgZm9yIChsZXQgayA9IDAsIGwgPSBjb2xzLmxlbmd0aDsgayA8IGw7IGsrKykge1xuICAgICAgY29uc3QgYXR0ciA9IGNvbHNba10uYXR0cmlidXRlTGlzdDtcbiAgICAgIGxldCBjb250ZW50VHlwZSA9IGF0dHIuY29udGVudFR5cGUgfHwgYXR0ci5taW1lVHlwZTtcbiAgICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwidmlkZW9cIikgPj0gMCkge1xuICAgICAgICBjb250ZW50VHlwZSA9IFwidmlkZW9cIjtcbiAgICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUuaW5kZXhPZihcImF1ZGlvXCIpID49IDApIHtcbiAgICAgICAgY29udGVudFR5cGUgPSBcImF1ZGlvXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb250ZW50VHlwZSA9IFwidGV4dFwiO1xuICAgICAgfVxuICAgICAgc3dpdGNoIChjb250ZW50VHlwZSkge1xuICAgICAgICBjYXNlIFwiYXVkaW9cIjpcbiAgICAgICAgICByZXByT2JqLnB1c2gobmV3IEF1ZGlvUmVwcmVzZW50YXRpb24oYXR0cikpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgXCJ2aWRlb1wiOlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgVmlkZW9SZXByZXNlbnRhdGlvbihhdHRyKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXByT2JqLnB1c2gobmV3IFRleHRSZXByZXNlbnRhdGlvbihhdHRyKSk7XG4gICAgICB9XG4gICAgICByZXByT2JqW2tdLnByb3RlY3Rpb25zID0gcmVwcmVzZW50YXRpb25zW2ldLmNvbnRlbnRQcm90ZWN0aW9ucy5zbGljZSgpO1xuICAgIH1cblxuICB9XG4gIHJldHVybiByZXByT2JqO1xufTtcbiJdLCJuYW1lcyI6WyJBdWRpb1JlcHJlc2VudGF0aW9uIiwicmVxdWlyZSIsIlZpZGVvUmVwcmVzZW50YXRpb24iLCJUZXh0UmVwcmVzZW50YXRpb24iLCJtb2R1bGUiLCJleHBvcnRzIiwianNvblJlcHJlc2VudGF0aW9uIiwicmVwcmVzZW50YXRpb25zIiwicmVwck9iaiIsImkiLCJqIiwibGVuZ3RoIiwiY29scyIsInJlcHJlc2VudGF0aW9uQ29sbCIsImsiLCJsIiwiYXR0ciIsImF0dHJpYnV0ZUxpc3QiLCJjb250ZW50VHlwZSIsIm1pbWVUeXBlIiwiaW5kZXhPZiIsInB1c2giLCJwcm90ZWN0aW9ucyIsImNvbnRlbnRQcm90ZWN0aW9ucyIsInNsaWNlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///4723\n')},1700:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar AudioRepresentation = __webpack_require__(7258);\nvar VideoRepresentation = __webpack_require__(5533);\nvar TextRepresentation = __webpack_require__(6092);\nmodule.exports = function jsonRepresentation(representations) {\n  var reprObj = [];\n  for (var i = 0, j = representations.length; i < j; i++) {\n    var cols = representations[i].representationColl;\n    for (var k = 0, l = cols.length; k < l; k++) {\n      var attr = cols[k].attributeList;\n      var contentType = attr.contentType || attr.mimeType;\n      if (contentType.indexOf("video") >= 0) {\n        contentType = "video";\n      } else if (contentType.indexOf("audio") >= 0) {\n        contentType = "audio";\n      } else {\n        contentType = "text";\n      }\n      switch (contentType) {\n        case "audio":\n          reprObj.push(new AudioRepresentation(attr));\n          break;\n        case "video":\n          reprObj.push(new VideoRepresentation(attr));\n          break;\n        default:\n          reprObj.push(new TextRepresentation(attr));\n      }\n    }\n  }\n  return reprObj;\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTcwMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxtQkFBbUIsR0FBR0MsbUJBQU8sQ0FBQyxJQUE4QixDQUFDO0FBQ25FLElBQU1DLG1CQUFtQixHQUFHRCxtQkFBTyxDQUFDLElBQThCLENBQUM7QUFDbkUsSUFBTUUsa0JBQWtCLEdBQUdGLG1CQUFPLENBQUMsSUFBNkIsQ0FBQztBQUVqRUcsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0Msa0JBQWtCLENBQUVDLGVBQWUsRUFBRTtFQUM3RCxJQUFJQyxPQUFPLEdBQUcsRUFBRTtFQUNoQixLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR0gsZUFBZSxDQUFDSSxNQUFNLEVBQUVGLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtJQUN0RCxJQUFNRyxJQUFJLEdBQUdMLGVBQWUsQ0FBQ0UsQ0FBQyxDQUFDLENBQUNJLGtCQUFrQjtJQUNsRCxLQUFLLElBQUlDLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR0gsSUFBSSxDQUFDRCxNQUFNLEVBQUVHLENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUMzQyxJQUFNRSxJQUFJLEdBQUdKLElBQUksQ0FBQ0UsQ0FBQyxDQUFDLENBQUNHLGFBQWE7TUFDbEMsSUFBSUMsV0FBVyxHQUFHRixJQUFJLENBQUNFLFdBQVcsSUFBSUYsSUFBSSxDQUFDRyxRQUFRO01BQ25ELElBQUlELFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUNyQ0YsV0FBVyxHQUFHLE9BQU87TUFDdkIsQ0FBQyxNQUFNLElBQUlBLFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUM1Q0YsV0FBVyxHQUFHLE9BQU87TUFDdkIsQ0FBQyxNQUFNO1FBQ0xBLFdBQVcsR0FBRyxNQUFNO01BQ3RCO01BQ0EsUUFBUUEsV0FBVztRQUNqQixLQUFLLE9BQU87VUFDVlYsT0FBTyxDQUFDYSxJQUFJLENBQUMsSUFBSXJCLG1CQUFtQixDQUFDZ0IsSUFBSSxDQUFDLENBQUM7VUFDM0M7UUFFRixLQUFLLE9BQU87VUFDVlIsT0FBTyxDQUFDYSxJQUFJLENBQUMsSUFBSW5CLG1CQUFtQixDQUFDYyxJQUFJLENBQUMsQ0FBQztVQUMzQztRQUVGO1VBQ0VSLE9BQU8sQ0FBQ2EsSUFBSSxDQUFDLElBQUlsQixrQkFBa0IsQ0FBQ2EsSUFBSSxDQUFDLENBQUM7TUFBQztJQUVqRDtFQUNGO0VBQ0EsT0FBT1IsT0FBTztBQUNoQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvanNvbi1yZXByZXNlbnRhdGlvbi5qcz8xYzg4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgQXVkaW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL2F1ZGlvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVmlkZW9SZXByZXNlbnRhdGlvbiA9IHJlcXVpcmUoXCIuLi9qc29uL3ZpZGVvLXJlcHJlc2VudGF0aW9uXCIpO1xuY29uc3QgVGV4dFJlcHJlc2VudGF0aW9uID0gcmVxdWlyZShcIi4uL2pzb24vdGV4dC1yZXByZXNlbnRhdGlvblwiKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBqc29uUmVwcmVzZW50YXRpb24gKHJlcHJlc2VudGF0aW9ucykge1xuICBsZXQgcmVwck9iaiA9IFtdO1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHJlcHJlc2VudGF0aW9ucy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBjb25zdCBjb2xzID0gcmVwcmVzZW50YXRpb25zW2ldLnJlcHJlc2VudGF0aW9uQ29sbDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGNvbHMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBjb25zdCBhdHRyID0gY29sc1trXS5hdHRyaWJ1dGVMaXN0O1xuICAgICAgbGV0IGNvbnRlbnRUeXBlID0gYXR0ci5jb250ZW50VHlwZSB8fCBhdHRyLm1pbWVUeXBlO1xuICAgICAgaWYgKGNvbnRlbnRUeXBlLmluZGV4T2YoXCJ2aWRlb1wiKSA+PSAwKSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ2aWRlb1wiO1xuICAgICAgfSBlbHNlIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwiYXVkaW9cIikgPj0gMCkge1xuICAgICAgICBjb250ZW50VHlwZSA9IFwiYXVkaW9cIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRlbnRUeXBlID0gXCJ0ZXh0XCI7XG4gICAgICB9XG4gICAgICBzd2l0Y2ggKGNvbnRlbnRUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJhdWRpb1wiOlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgQXVkaW9SZXByZXNlbnRhdGlvbihhdHRyKSk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSBcInZpZGVvXCI6XG4gICAgICAgICAgcmVwck9iai5wdXNoKG5ldyBWaWRlb1JlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIHJlcHJPYmoucHVzaChuZXcgVGV4dFJlcHJlc2VudGF0aW9uKGF0dHIpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcHJPYmo7XG59O1xuIl0sIm5hbWVzIjpbIkF1ZGlvUmVwcmVzZW50YXRpb24iLCJyZXF1aXJlIiwiVmlkZW9SZXByZXNlbnRhdGlvbiIsIlRleHRSZXByZXNlbnRhdGlvbiIsIm1vZHVsZSIsImV4cG9ydHMiLCJqc29uUmVwcmVzZW50YXRpb24iLCJyZXByZXNlbnRhdGlvbnMiLCJyZXByT2JqIiwiaSIsImoiLCJsZW5ndGgiLCJjb2xzIiwicmVwcmVzZW50YXRpb25Db2xsIiwiayIsImwiLCJhdHRyIiwiYXR0cmlidXRlTGlzdCIsImNvbnRlbnRUeXBlIiwibWltZVR5cGUiLCJpbmRleE9mIiwicHVzaCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///1700\n')},2167:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar SnowflakeId_1 = __webpack_require__(9499);\nvar ManifestNode = function () {\n  function ManifestNode(node, xml) {\n    this.childCollection = [];\n    this.attributeList = {};\n    this.setCurrentNode(node);\n    this.setChildCollection(node.childNodes);\n    this.buildAttributeList(node, this.attributeList);\n    this.setParentNode(node.parentNode);\n    this.xml = xml;\n    this.id = SnowflakeId_1.SnowflakeId.getUUID();\n  }\n  ManifestNode.prototype.setParentNode = function (node) {\n    this.parentNode = node;\n  };\n  ManifestNode.prototype.setChildCollection = function (coll) {\n    this.childCollection = coll;\n  };\n  ManifestNode.prototype.setCurrentNode = function (node) {\n    this.currentNode = node;\n  };\n  ManifestNode.prototype.buildAttributeList = function (node, list) {\n    this.writeAttributesToList(node, list);\n  };\n  ManifestNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    }\n  };\n  ManifestNode.prototype.getCurrentNode = function () {\n    return this.currentNode;\n  };\n  ManifestNode.prototype.markNodeForDownload = function (value) {\n    var newAtt = this.xml.createAttribute('markForDownload');\n    if (!value) {\n      this.currentNode.removeAttribute('markForDownload');\n    } else {\n      newAtt.value = value.toString();\n      this.currentNode.setAttributeNode(newAtt);\n    }\n  };\n  ManifestNode.prototype.getAttributeList = function () {\n    return this.attributeList;\n  };\n  return ManifestNode;\n}();\nexports.ManifestNode = ManifestNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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SUFDM0M7RUFDRixDQUFDO0VBQ0QzQixZQUFZLENBQUNjLFNBQVMsQ0FBQ2tCLGdCQUFnQixHQUFHLFlBQVk7SUFDcEQsT0FBTyxJQUFJLENBQUM1QixhQUFhO0VBQzNCLENBQUM7RUFDRCxPQUFPSixZQUFZO0FBQ3JCLENBQUMsRUFBRztBQUNKaUMsb0JBQW9CLEdBQUdqQyxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvbWFuaWZlc3Qtbm9kZS5qcz8zMWI0Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgU25vd2ZsYWtlSWRfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL3Nub3dmbGFrZS1pZFwiKTtcbmNvbnN0IE1hbmlmZXN0Tm9kZSA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIE1hbmlmZXN0Tm9kZSAobm9kZSwgeG1sKSB7XG4gICAgdGhpcy5jaGlsZENvbGxlY3Rpb24gPSBbXTtcbiAgICB0aGlzLmF0dHJpYnV0ZUxpc3QgPSB7fTtcbiAgICB0aGlzLnNldEN1cnJlbnROb2RlKG5vZGUpO1xuICAgIHRoaXMuc2V0Q2hpbGRDb2xsZWN0aW9uKG5vZGUuY2hpbGROb2Rlcyk7XG4gICAgdGhpcy5idWlsZEF0dHJpYnV0ZUxpc3Qobm9kZSwgdGhpcy5hdHRyaWJ1dGVMaXN0KTtcbiAgICB0aGlzLnNldFBhcmVudE5vZGUobm9kZS5wYXJlbnROb2RlKTtcbiAgICB0aGlzLnhtbCA9IHhtbDtcbiAgICB0aGlzLmlkID0gU25vd2ZsYWtlSWRfMS5Tbm93Zmxha2VJZC5nZXRVVUlEKCk7XG4gIH1cblxuICBNYW5pZmVzdE5vZGUucHJvdG90eXBlLnNldFBhcmVudE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHRoaXMucGFyZW50Tm9kZSA9IG5vZGU7XG4gIH07XG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUuc2V0Q2hpbGRDb2xsZWN0aW9uID0gZnVuY3Rpb24gKGNvbGwpIHtcbiAgICB0aGlzLmNoaWxkQ29sbGVjdGlvbiA9IGNvbGw7XG4gIH07XG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUuc2V0Q3VycmVudE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgIHRoaXMuY3VycmVudE5vZGUgPSBub2RlO1xuICB9O1xuICBNYW5pZmVzdE5vZGUucHJvdG90eXBlLmJ1aWxkQXR0cmlidXRlTGlzdCA9IGZ1bmN0aW9uIChub2RlLCBsaXN0KSB7XG4gICAgdGhpcy53cml0ZUF0dHJpYnV0ZXNUb0xpc3Qobm9kZSwgbGlzdCk7XG4gIH07XG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUud3JpdGVBdHRyaWJ1dGVzVG9MaXN0ID0gZnVuY3Rpb24gKG5vZGUsIGxpc3QpIHtcbiAgICBjb25zdCBhdHRyTGlzdCA9IG5vZGUuYXR0cmlidXRlcztcbiAgICBmb3IgKGxldCBhdHRyIGluIGF0dHJMaXN0KSB7XG4gICAgICBpZiAoIWxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdKSB7XG4gICAgICAgIGxpc3RbYXR0ckxpc3RbYXR0cl0ubm9kZU5hbWVdID0gYXR0ckxpc3RbYXR0cl0ubm9kZVZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAobm9kZS5wYXJlbnROb2RlICE9PSBudWxsKSB7XG4gICAgICB0aGlzLmJ1aWxkQXR0cmlidXRlTGlzdChub2RlLnBhcmVudE5vZGUsIGxpc3QpO1xuICAgIH1cbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS5nZXRDdXJyZW50Tm9kZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50Tm9kZTtcbiAgfTtcbiAgTWFuaWZlc3ROb2RlLnByb3RvdHlwZS5tYXJrTm9kZUZvckRvd25sb2FkID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgY29uc3QgbmV3QXR0ID0gdGhpcy54bWwuY3JlYXRlQXR0cmlidXRlKCdtYXJrRm9yRG93bmxvYWQnKTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLnJlbW92ZUF0dHJpYnV0ZSgnbWFya0ZvckRvd25sb2FkJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0F0dC52YWx1ZSA9IHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgICB0aGlzLmN1cnJlbnROb2RlLnNldEF0dHJpYnV0ZU5vZGUobmV3QXR0KTtcbiAgICB9XG4gIH07XG4gIE1hbmlmZXN0Tm9kZS5wcm90b3R5cGUuZ2V0QXR0cmlidXRlTGlzdCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMaXN0O1xuICB9O1xuICByZXR1cm4gTWFuaWZlc3ROb2RlO1xufSgpKTtcbmV4cG9ydHMuTWFuaWZlc3ROb2RlID0gTWFuaWZlc3ROb2RlO1xuIl0sIm5hbWVzIjpbIlNub3dmbGFrZUlkXzEiLCJyZXF1aXJlIiwiTWFuaWZlc3ROb2RlIiwibm9kZSIsInhtbCIsImNoaWxkQ29sbGVjdGlvbiIsImF0dHJpYnV0ZUxpc3QiLCJzZXRDdXJyZW50Tm9kZSIsInNldENoaWxkQ29sbGVjdGlvbiIsImNoaWxkTm9kZXMiLCJidWlsZEF0dHJpYnV0ZUxpc3QiLCJzZXRQYXJlbnROb2RlIiwicGFyZW50Tm9kZSIsImlkIiwiU25vd2ZsYWtlSWQiLCJnZXRVVUlEIiwicHJvdG90eXBlIiwiY29sbCIsImN1cnJlbnROb2RlIiwibGlzdCIsIndyaXRlQXR0cmlidXRlc1RvTGlzdCIsImF0dHJMaXN0IiwiYXR0cmlidXRlcyIsImF0dHIiLCJub2RlTmFtZSIsIm5vZGVWYWx1ZSIsImdldEN1cnJlbnROb2RlIiwibWFya05vZGVGb3JEb3dubG9hZCIsInZhbHVlIiwibmV3QXR0IiwiY3JlYXRlQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwidG9TdHJpbmciLCJzZXRBdHRyaWJ1dGVOb2RlIiwiZ2V0QXR0cmlidXRlTGlzdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2167\n")},9559:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar AdaptationSetNode_1 = __webpack_require__(4872);\nvar DOMParser = (__webpack_require__(678).DOMParser);\nvar ManifestXML = function () {\n  function ManifestXML() {}\n  ManifestXML.prototype.parse = function (str, onSuccess, onError) {\n    var parser;\n    if (typeof onSuccess === \"function\" && typeof onError === \"function\") {\n      parser = new DOMParser({\n        errorHandler: {\n          warning: function warning() {},\n          error: onError,\n          fatalError: onError\n        }\n      });\n    } else {\n      parser = new DOMParser();\n    }\n    this.adaptationSetColl = [];\n    this.xml = parser.parseFromString(str, \"application/xml\");\n    this.parseAdaptations();\n    if (typeof onSuccess === \"function\") {\n      onSuccess();\n    }\n  };\n  ManifestXML.prototype.getAdaptationSetNodeName = function () {\n    return 'AdaptationSet';\n  };\n  ManifestXML.prototype.getRepresentationNodeName = function () {\n    return 'Representation';\n  };\n  ManifestXML.prototype.parseAdaptations = function () {\n    var adaptations = this.xml.getElementsByTagName('AdaptationSet');\n    for (var i = 0; i < adaptations.length; i++) {\n      var adaptNode = new AdaptationSetNode_1.AdaptationSetNode(adaptations[i], this.xml);\n      this.adaptationSetColl[i] = adaptNode;\n    }\n  };\n  ManifestXML.prototype.getVideoAdaptation = function () {\n    return this.getAdaptations('video');\n  };\n  ManifestXML.prototype.getAudioAdaptation = function () {\n    return this.getAdaptations('audio');\n  };\n  ManifestXML.prototype.getTextAdaptation = function () {\n    return this.getAdaptations('text');\n  };\n  ManifestXML.prototype.getManifestXML = function () {\n    return this.xml;\n  };\n  ManifestXML.prototype.getAdaptations = function (which) {\n    var adaptations = this.adaptationSetColl.map(function (item) {\n      return item;\n    }).filter(function (item) {\n      if (item.isMimeType(which) || item.isContentType(which)) {\n        return true;\n      }\n    });\n    return adaptations;\n  };\n  ManifestXML.cloneXML = function (xml) {\n    var newDocument = xml.implementation.createDocument(xml.namespaceURI, null, null);\n    var newNode = newDocument.importNode(xml.documentElement, true);\n    newDocument.appendChild(newNode);\n    return newDocument;\n  };\n  ManifestXML.prototype.removeNode = function () {\n    var self = this;\n    var representationCollection = this.xml.documentElement.getElementsByTagName(this.getRepresentationNodeName());\n    var adaptationCollection = this.xml.documentElement.getElementsByTagName(this.getAdaptationSetNodeName());\n    var repArray = [];\n    var adaptationArray = [];\n    for (var i = 0; i < representationCollection.length; i++) {\n      repArray[i] = representationCollection[i];\n    }\n    repArray.forEach(function (item) {\n      var markForDownload = item.attributes.getNamedItem(\"markForDownload\") && item.attributes.getNamedItem(\"markForDownload\").value == 'true' ? true : false;\n      if (!markForDownload) {\n        item.parentNode.removeChild(item);\n      }\n      item.removeAttribute('markForDownload');\n    }, this);\n    for (var _i = 0; _i < adaptationCollection.length; _i++) {\n      adaptationArray[_i] = adaptationCollection[_i];\n    }\n    adaptationArray.forEach(function (item) {\n      if (!item.getElementsByTagName(self.getRepresentationNodeName()).length) {\n        item.parentNode.removeChild(item);\n      }\n    });\n  };\n  return ManifestXML;\n}();\nexports.ManifestXML = ManifestXML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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dC9wYXJzZXIvbWFuaWZlc3QteG1sLmpzPzdlMDgiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBBZGFwdGF0aW9uU2V0Tm9kZV8xID0gcmVxdWlyZShcIi4vYWRhcHRhdGlvbi1zZXQtbm9kZVwiKTtcbmNvbnN0IERPTVBhcnNlciA9IHJlcXVpcmUoJ3htbGRvbScpLkRPTVBhcnNlcjtcbmNvbnN0IE1hbmlmZXN0WE1MID0gKGZ1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTWFuaWZlc3RYTUwgKCkge1xuICB9XG4gIE1hbmlmZXN0WE1MLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uIChzdHIsIG9uU3VjY2Vzcywgb25FcnJvcikge1xuICAgIGxldCBwYXJzZXI7XG4gICAgaWYgKHR5cGVvZiBvblN1Y2Nlc3MgPT09IFwiZnVuY3Rpb25cIiAmJiB0eXBlb2Ygb25FcnJvciA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKHtcbiAgICAgICAgZXJyb3JIYW5kbGVyOiB7XG4gICAgICAgICAgd2FybmluZzogZnVuY3Rpb24gKCkge30sXG4gICAgICAgICAgZXJyb3I6IG9uRXJyb3IsIGZhdGFsRXJyb3I6IG9uRXJyb3JcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgIH1cbiAgICB0aGlzLmFkYXB0YXRpb25TZXRDb2xsID0gW107XG4gICAgdGhpcy54bWwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0ciwgXCJhcHBsaWNhdGlvbi94bWxcIik7XG5cbiAgICB0aGlzLnBhcnNlQWRhcHRhdGlvbnMoKTtcblxuICAgIGlmICh0eXBlb2Ygb25TdWNjZXNzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIG9uU3VjY2VzcygpO1xuICAgIH1cbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldEFkYXB0YXRpb25TZXROb2RlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ0FkYXB0YXRpb25TZXQnO1xuICB9O1xuICBNYW5pZmVzdFhNTC5wcm90b3R5cGUuZ2V0UmVwcmVzZW50YXRpb25Ob2RlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ1JlcHJlc2VudGF0aW9uJztcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLnBhcnNlQWRhcHRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgYWRhcHRhdGlvbnMgPSB0aGlzLnhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnQWRhcHRhdGlvblNldCcpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWRhcHRhdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGFkYXB0Tm9kZSA9IG5ldyBBZGFwdGF0aW9uU2V0Tm9kZV8xLkFkYXB0YXRpb25TZXROb2RlKGFkYXB0YXRpb25zW2ldLCB0aGlzLnhtbCk7XG4gICAgICB0aGlzLmFkYXB0YXRpb25TZXRDb2xsW2ldID0gYWRhcHROb2RlO1xuICAgIH1cbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldFZpZGVvQWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBZGFwdGF0aW9ucygndmlkZW8nKTtcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldEF1ZGlvQWRhcHRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5nZXRBZGFwdGF0aW9ucygnYXVkaW8nKTtcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldFRleHRBZGFwdGF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmdldEFkYXB0YXRpb25zKCd0ZXh0Jyk7XG4gIH07XG4gIE1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRNYW5pZmVzdFhNTCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy54bWw7XG4gIH07XG4gIE1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRBZGFwdGF0aW9ucyA9IGZ1bmN0aW9uICh3aGljaCkge1xuICAgIGNvbnN0IGFkYXB0YXRpb25zID0gdGhpcy5hZGFwdGF0aW9uU2V0Q29sbC5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgaWYgKGl0ZW0uaXNNaW1lVHlwZSh3aGljaCkgfHwgaXRlbS5pc0NvbnRlbnRUeXBlKHdoaWNoKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gYWRhcHRhdGlvbnM7XG4gIH07XG4gIE1hbmlmZXN0WE1MLmNsb25lWE1MID0gZnVuY3Rpb24gKHhtbCkge1xuICAgIGNvbnN0IG5ld0RvY3VtZW50ID0geG1sLmltcGxlbWVudGF0aW9uLmNyZWF0ZURvY3VtZW50KHhtbC5uYW1lc3BhY2VVUkksIG51bGwsIG51bGwpO1xuICAgIGNvbnN0IG5ld05vZGUgPSBuZXdEb2N1bWVudC5pbXBvcnROb2RlKHhtbC5kb2N1bWVudEVsZW1lbnQsIHRydWUpO1xuICAgIG5ld0RvY3VtZW50LmFwcGVuZENoaWxkKG5ld05vZGUpO1xuICAgIHJldHVybiBuZXdEb2N1bWVudDtcbiAgfTtcbiAgTWFuaWZlc3RYTUwucHJvdG90eXBlLnJlbW92ZU5vZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgbGV0IHJlcHJlc2VudGF0aW9uQ29sbGVjdGlvbiA9IHRoaXMueG1sLmRvY3VtZW50RWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSh0aGlzLmdldFJlcHJlc2VudGF0aW9uTm9kZU5hbWUoKSk7XG4gICAgbGV0IGFkYXB0YXRpb25Db2xsZWN0aW9uID0gdGhpcy54bWwuZG9jdW1lbnRFbGVtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHRoaXMuZ2V0QWRhcHRhdGlvblNldE5vZGVOYW1lKCkpO1xuICAgIGxldCByZXBBcnJheSA9IFtdO1xuICAgIGxldCBhZGFwdGF0aW9uQXJyYXkgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJlcHJlc2VudGF0aW9uQ29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgcmVwQXJyYXlbaV0gPSByZXByZXNlbnRhdGlvbkNvbGxlY3Rpb25baV07XG4gICAgfVxuICAgIHJlcEFycmF5LmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIGNvbnN0IG1hcmtGb3JEb3dubG9hZCA9IChpdGVtLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWFya0ZvckRvd25sb2FkXCIpICYmXG4gICAgICAgICAgaXRlbS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcIm1hcmtGb3JEb3dubG9hZFwiKS52YWx1ZSA9PSAndHJ1ZScpXG4gICAgICAgICAgPyB0cnVlIDogZmFsc2U7XG4gICAgICBpZiAoIW1hcmtGb3JEb3dubG9hZCkge1xuICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICB9XG4gICAgICBpdGVtLnJlbW92ZUF0dHJpYnV0ZSgnbWFya0ZvckRvd25sb2FkJyk7XG4gICAgfSwgdGhpcyk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhZGFwdGF0aW9uQ29sbGVjdGlvbi5sZW5ndGg7IGkrKykge1xuICAgICAgYWRhcHRhdGlvbkFycmF5W2ldID0gYWRhcHRhdGlvbkNvbGxlY3Rpb25baV07XG4gICAgfVxuICAgIGFkYXB0YXRpb25BcnJheS5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICBpZiAoIWl0ZW0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoc2VsZi5nZXRSZXByZXNlbnRhdGlvbk5vZGVOYW1lKCkpLmxlbmd0aCkge1xuICAgICAgICBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIHJldHVybiBNYW5pZmVzdFhNTDtcbn0oKSk7XG5leHBvcnRzLk1hbmlmZXN0WE1MID0gTWFuaWZlc3RYTUw7XG4iXSwibmFtZXMiOlsiQWRhcHRhdGlvblNldE5vZGVfMSIsInJlcXVpcmUiLCJET01QYXJzZXIiLCJNYW5pZmVzdFhNTCIsInByb3RvdHlwZSIsInBhcnNlIiwic3RyIiwib25TdWNjZXNzIiwib25FcnJvciIsInBhcnNlciIsImVycm9ySGFuZGxlciIsIndhcm5pbmciLCJlcnJvciIsImZhdGFsRXJyb3IiLCJhZGFwdGF0aW9uU2V0Q29sbCIsInhtbCIsInBhcnNlRnJvbVN0cmluZyIsInBhcnNlQWRhcHRhdGlvbnMiLCJnZXRBZGFwdGF0aW9uU2V0Tm9kZU5hbWUiLCJnZXRSZXByZXNlbnRhdGlvbk5vZGVOYW1lIiwiYWRhcHRhdGlvbnMiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImkiLCJsZW5ndGgiLCJhZGFwdE5vZGUiLCJBZGFwdGF0aW9uU2V0Tm9kZSIsImdldFZpZGVvQWRhcHRhdGlvbiIsImdldEFkYXB0YXRpb25zIiwiZ2V0QXVkaW9BZGFwdGF0aW9uIiwiZ2V0VGV4dEFkYXB0YXRpb24iLCJnZXRNYW5pZmVzdFhNTCIsIndoaWNoIiwibWFwIiwiaXRlbSIsImZpbHRlciIsImlzTWltZVR5cGUiLCJpc0NvbnRlbnRUeXBlIiwiY2xvbmVYTUwiLCJuZXdEb2N1bWVudCIsImltcGxlbWVudGF0aW9uIiwiY3JlYXRlRG9jdW1lbnQiLCJuYW1lc3BhY2VVUkkiLCJuZXdOb2RlIiwiaW1wb3J0Tm9kZSIsImRvY3VtZW50RWxlbWVudCIsImFwcGVuZENoaWxkIiwicmVtb3ZlTm9kZSIsInNlbGYiLCJyZXByZXNlbnRhdGlvbkNvbGxlY3Rpb24iLCJhZGFwdGF0aW9uQ29sbGVjdGlvbiIsInJlcEFycmF5IiwiYWRhcHRhdGlvbkFycmF5IiwiZm9yRWFjaCIsIm1hcmtGb3JEb3dubG9hZCIsImF0dHJpYnV0ZXMiLCJnZXROYW1lZEl0ZW0iLCJ2YWx1ZSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZUF0dHJpYnV0ZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9559\n")},9786:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar MediaUrl = function () {\n  function MediaUrl(baseURL, mediaFile, mimeType, url_domain) {\n    if (url_domain === void 0) {\n      url_domain = '';\n    }\n    this.baseURL = '';\n    if (baseURL.startsWith('http') === false) {\n      this.baseURL = baseURL;\n    }\n    this.mediaFile = mediaFile.indexOf('/') !== -1 ? this.truncateMediaFilePath(mediaFile) : mediaFile;\n    this.url_domain = url_domain;\n    this.mimeType = mimeType;\n  }\n  MediaUrl.prototype.truncateMediaFilePath = function (mediaFile) {\n    var startIndex = mediaFile.lastIndexOf('/');\n    var front = mediaFile.substring(0, startIndex);\n    var end = mediaFile.substring(startIndex + 1, mediaFile.length);\n    this.baseURL += front;\n    return end;\n  };\n  MediaUrl.prototype.getFileAddress = function () {\n    return this.baseURL + this.mediaFile;\n  };\n  return MediaUrl;\n}();\nexports.MediaUrl = MediaUrl;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTc4Ni5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxRQUFRLEdBQUksWUFBWTtFQUM1QixTQUFTQSxRQUFRLENBQUVDLE9BQU8sRUFBRUMsU0FBUyxFQUFFQyxRQUFRLEVBQUVDLFVBQVUsRUFBRTtJQUMzRCxJQUFJQSxVQUFVLEtBQUssS0FBSyxDQUFDLEVBQUU7TUFDekJBLFVBQVUsR0FBRyxFQUFFO0lBQ2pCO0lBQ0EsSUFBSSxDQUFDSCxPQUFPLEdBQUcsRUFBRTtJQUNqQixJQUFJQSxPQUFPLENBQUNJLFVBQVUsQ0FBQyxNQUFNLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFDeEMsSUFBSSxDQUFDSixPQUFPLEdBQUdBLE9BQU87SUFDeEI7SUFDQSxJQUFJLENBQUNDLFNBQVMsR0FBSUEsU0FBUyxDQUFDSSxPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUksSUFBSSxDQUFDQyxxQkFBcUIsQ0FBQ0wsU0FBUyxDQUFDLEdBQUdBLFNBQVM7SUFDcEcsSUFBSSxDQUFDRSxVQUFVLEdBQUdBLFVBQVU7SUFDNUIsSUFBSSxDQUFDRCxRQUFRLEdBQUdBLFFBQVE7RUFDMUI7RUFFQUgsUUFBUSxDQUFDUSxTQUFTLENBQUNELHFCQUFxQixHQUFHLFVBQVVMLFNBQVMsRUFBRTtJQUM5RCxJQUFNTyxVQUFVLEdBQUdQLFNBQVMsQ0FBQ1EsV0FBVyxDQUFDLEdBQUcsQ0FBQztJQUM3QyxJQUFNQyxLQUFLLEdBQUdULFNBQVMsQ0FBQ1UsU0FBUyxDQUFDLENBQUMsRUFBRUgsVUFBVSxDQUFDO0lBQ2hELElBQU1JLEdBQUcsR0FBR1gsU0FBUyxDQUFDVSxTQUFTLENBQUNILFVBQVUsR0FBRyxDQUFDLEVBQUVQLFNBQVMsQ0FBQ1ksTUFBTSxDQUFDO0lBQ2pFLElBQUksQ0FBQ2IsT0FBTyxJQUFJVSxLQUFLO0lBQ3JCLE9BQU9FLEdBQUc7RUFDWixDQUFDO0VBQ0RiLFFBQVEsQ0FBQ1EsU0FBUyxDQUFDTyxjQUFjLEdBQUcsWUFBWTtJQUM5QyxPQUFPLElBQUksQ0FBQ2QsT0FBTyxHQUFHLElBQUksQ0FBQ0MsU0FBUztFQUN0QyxDQUFDO0VBQ0QsT0FBT0YsUUFBUTtBQUNqQixDQUFDLEVBQUc7QUFDSmdCLGdCQUFnQixHQUFHaEIsUUFBUSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL21lZGlhLXVybC5qcz8xMTdjIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgTWVkaWFVcmwgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBNZWRpYVVybCAoYmFzZVVSTCwgbWVkaWFGaWxlLCBtaW1lVHlwZSwgdXJsX2RvbWFpbikge1xuICAgIGlmICh1cmxfZG9tYWluID09PSB2b2lkIDApIHtcbiAgICAgIHVybF9kb21haW4gPSAnJztcbiAgICB9XG4gICAgdGhpcy5iYXNlVVJMID0gJyc7XG4gICAgaWYgKGJhc2VVUkwuc3RhcnRzV2l0aCgnaHR0cCcpID09PSBmYWxzZSkge1xuICAgICAgdGhpcy5iYXNlVVJMID0gYmFzZVVSTDtcbiAgICB9XG4gICAgdGhpcy5tZWRpYUZpbGUgPSAobWVkaWFGaWxlLmluZGV4T2YoJy8nKSAhPT0gLTEpID8gdGhpcy50cnVuY2F0ZU1lZGlhRmlsZVBhdGgobWVkaWFGaWxlKSA6IG1lZGlhRmlsZTtcbiAgICB0aGlzLnVybF9kb21haW4gPSB1cmxfZG9tYWluO1xuICAgIHRoaXMubWltZVR5cGUgPSBtaW1lVHlwZTtcbiAgfVxuXG4gIE1lZGlhVXJsLnByb3RvdHlwZS50cnVuY2F0ZU1lZGlhRmlsZVBhdGggPSBmdW5jdGlvbiAobWVkaWFGaWxlKSB7XG4gICAgY29uc3Qgc3RhcnRJbmRleCA9IG1lZGlhRmlsZS5sYXN0SW5kZXhPZignLycpO1xuICAgIGNvbnN0IGZyb250ID0gbWVkaWFGaWxlLnN1YnN0cmluZygwLCBzdGFydEluZGV4KTtcbiAgICBjb25zdCBlbmQgPSBtZWRpYUZpbGUuc3Vic3RyaW5nKHN0YXJ0SW5kZXggKyAxLCBtZWRpYUZpbGUubGVuZ3RoKTtcbiAgICB0aGlzLmJhc2VVUkwgKz0gZnJvbnQ7XG4gICAgcmV0dXJuIGVuZDtcbiAgfTtcbiAgTWVkaWFVcmwucHJvdG90eXBlLmdldEZpbGVBZGRyZXNzID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VVUkwgKyB0aGlzLm1lZGlhRmlsZTtcbiAgfTtcbiAgcmV0dXJuIE1lZGlhVXJsO1xufSgpKTtcbmV4cG9ydHMuTWVkaWFVcmwgPSBNZWRpYVVybDtcbiJdLCJuYW1lcyI6WyJNZWRpYVVybCIsImJhc2VVUkwiLCJtZWRpYUZpbGUiLCJtaW1lVHlwZSIsInVybF9kb21haW4iLCJzdGFydHNXaXRoIiwiaW5kZXhPZiIsInRydW5jYXRlTWVkaWFGaWxlUGF0aCIsInByb3RvdHlwZSIsInN0YXJ0SW5kZXgiLCJsYXN0SW5kZXhPZiIsImZyb250Iiwic3Vic3RyaW5nIiwiZW5kIiwibGVuZ3RoIiwiZ2V0RmlsZUFkZHJlc3MiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9786\n")},3515:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar MediaUrl_1 = __webpack_require__(9786);\nvar SegmentInformation_1 = __webpack_require__(4749);\nvar FragmentInformation = function (_super) {\n  __extends(FragmentInformation, _super);\n  function FragmentInformation(presentationDuration, bandwidth, baseUrl, representationID, mimeType, segmentTemplate) {\n    _super.call(this, presentationDuration, bandwidth, baseUrl, representationID, mimeType);\n    if (segmentTemplate) {\n      this.segmentTemplate = segmentTemplate;\n      this.mediaTemplate = this.segmentTemplate.media;\n      this.mediaTemplate = this.replace$Bandwidth$(this.mediaTemplate, this.bandwidth);\n    }\n    if (this.segmentTemplate.media) {\n      this.timelineItemList = this.segmentTemplate.SegmentTimeline;\n    }\n    this.createFragmentUrlsFromTimeline(this.timelineItemList);\n  }\n  FragmentInformation.prototype.createFragmentUrlsFromTimeline = function (segmentNodes) {\n    for (var i = 0; i < segmentNodes.S.length; i++) {\n      var fragment = this.mediaTemplate;\n      fragment = this.replace$Time$(fragment, segmentNodes.S[i].t);\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n  return FragmentInformation;\n}(SegmentInformation_1.SegmentInformation);\nexports.FragmentInformation = FragmentInformation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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L21hbmlmZXN0L3BhcnNlci9tc3MvZnJhZ21lbnQtaW5mb3JtYXRpb24uanM/YjgxNCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yIChsZXQgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF9fICgpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICB9XG5cbiAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xuY29uc3QgTWVkaWFVcmxfMSA9IHJlcXVpcmUoXCIuLi9tZWRpYS11cmxcIik7XG5jb25zdCBTZWdtZW50SW5mb3JtYXRpb25fMSA9IHJlcXVpcmUoXCIuLi9zZWdtZW50LWluZm9ybWF0aW9uXCIpO1xuY29uc3QgRnJhZ21lbnRJbmZvcm1hdGlvbiA9IChmdW5jdGlvbiAoX3N1cGVyKSB7XG4gIF9fZXh0ZW5kcyhGcmFnbWVudEluZm9ybWF0aW9uLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBGcmFnbWVudEluZm9ybWF0aW9uIChwcmVzZW50YXRpb25EdXJhdGlvbiwgYmFuZHdpZHRoLCBiYXNlVXJsLCByZXByZXNlbnRhdGlvbklELCBtaW1lVHlwZSwgc2VnbWVudFRlbXBsYXRlKSB7XG4gICAgX3N1cGVyLmNhbGwodGhpcywgcHJlc2VudGF0aW9uRHVyYXRpb24sIGJhbmR3aWR0aCwgYmFzZVVybCwgcmVwcmVzZW50YXRpb25JRCwgbWltZVR5cGUpO1xuICAgIGlmIChzZWdtZW50VGVtcGxhdGUpIHtcbiAgICAgIHRoaXMuc2VnbWVudFRlbXBsYXRlID0gc2VnbWVudFRlbXBsYXRlO1xuICAgICAgdGhpcy5tZWRpYVRlbXBsYXRlID0gdGhpcy5zZWdtZW50VGVtcGxhdGUubWVkaWE7XG4gICAgICB0aGlzLm1lZGlhVGVtcGxhdGUgPSB0aGlzLnJlcGxhY2UkQmFuZHdpZHRoJCh0aGlzLm1lZGlhVGVtcGxhdGUsIHRoaXMuYmFuZHdpZHRoKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2VnbWVudFRlbXBsYXRlLm1lZGlhKSB7XG4gICAgICB0aGlzLnRpbWVsaW5lSXRlbUxpc3QgPSB0aGlzLnNlZ21lbnRUZW1wbGF0ZS5TZWdtZW50VGltZWxpbmU7XG4gICAgfVxuICAgIHRoaXMuY3JlYXRlRnJhZ21lbnRVcmxzRnJvbVRpbWVsaW5lKHRoaXMudGltZWxpbmVJdGVtTGlzdCk7XG4gIH1cblxuICBGcmFnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5jcmVhdGVGcmFnbWVudFVybHNGcm9tVGltZWxpbmUgPSBmdW5jdGlvbiAoc2VnbWVudE5vZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzZWdtZW50Tm9kZXMuUy5sZW5ndGg7IGkrKykge1xuICAgICAgbGV0IGZyYWdtZW50ID0gdGhpcy5tZWRpYVRlbXBsYXRlO1xuICAgICAgZnJhZ21lbnQgPSB0aGlzLnJlcGxhY2UkVGltZSQoZnJhZ21lbnQsIHNlZ21lbnROb2Rlcy5TW2ldLnQpO1xuXG4gICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgZnJhZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBGcmFnbWVudEluZm9ybWF0aW9uO1xufShTZWdtZW50SW5mb3JtYXRpb25fMS5TZWdtZW50SW5mb3JtYXRpb24pKTtcbmV4cG9ydHMuRnJhZ21lbnRJbmZvcm1hdGlvbiA9IEZyYWdtZW50SW5mb3JtYXRpb247Il0sIm5hbWVzIjpbIl9fZXh0ZW5kcyIsImQiLCJiIiwicCIsImhhc093blByb3BlcnR5IiwiX18iLCJjb25zdHJ1Y3RvciIsInByb3RvdHlwZSIsIk9iamVjdCIsImNyZWF0ZSIsIk1lZGlhVXJsXzEiLCJyZXF1aXJlIiwiU2VnbWVudEluZm9ybWF0aW9uXzEiLCJGcmFnbWVudEluZm9ybWF0aW9uIiwiX3N1cGVyIiwicHJlc2VudGF0aW9uRHVyYXRpb24iLCJiYW5kd2lkdGgiLCJiYXNlVXJsIiwicmVwcmVzZW50YXRpb25JRCIsIm1pbWVUeXBlIiwic2VnbWVudFRlbXBsYXRlIiwiY2FsbCIsIm1lZGlhVGVtcGxhdGUiLCJtZWRpYSIsInJlcGxhY2UkQmFuZHdpZHRoJCIsInRpbWVsaW5lSXRlbUxpc3QiLCJTZWdtZW50VGltZWxpbmUiLCJjcmVhdGVGcmFnbWVudFVybHNGcm9tVGltZWxpbmUiLCJzZWdtZW50Tm9kZXMiLCJpIiwiUyIsImxlbmd0aCIsImZyYWdtZW50IiwicmVwbGFjZSRUaW1lJCIsInQiLCJtZWRpYVVybHMiLCJwdXNoIiwiTWVkaWFVcmwiLCJTZWdtZW50SW5mb3JtYXRpb24iLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3515\n")},4624:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar ManifestXML_1 = __webpack_require__(9559);\nvar StreamIndexNode_1 = __webpack_require__(3605);\nManifestXML_1.ManifestXML.prototype.getManifestType = function (xml) {\n  return xml.getElementsByTagName('SmoothStreamingMedia').length !== 0 ? 'MSS' : 'DASH';\n};\nManifestXML_1.ManifestXML.prototype.getAdaptationSetNodeName = function () {\n  return this.manifestType === 'MSS' ? 'StreamIndex' : 'AdaptationSet';\n};\nManifestXML_1.ManifestXML.prototype.getRepresentationNodeName = function () {\n  return this.manifestType === 'MSS' ? 'QualityLevel' : 'Representation';\n};\nManifestXML_1.ManifestXML.prototype.parseStreams = function () {\n  var streams = this.xml.getElementsByTagName('StreamIndex');\n  for (var i = 0; i < streams.length; i++) {\n    var streamNode = new StreamIndexNode_1.StreamIndexNode(streams[i], this.xml);\n    this.adaptationSetColl[i] = streamNode;\n  }\n};\nManifestXML_1.ManifestXML.prototype._parseAdaptations = ManifestXML_1.ManifestXML.prototype.parseAdaptations;\nManifestXML_1.ManifestXML.prototype.parseAdaptations = function () {\n  // Manifest type detection\n  this.manifestType = this.getManifestType(this.xml);\n  if (this.manifestType === 'MSS') {\n    return this.parseStreams();\n  } else {\n    return this._parseAdaptations();\n  }\n};\nexports.ManifestXML = ManifestXML_1.ManifestXML;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDYyNC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxhQUFhLEdBQUdDLG1CQUFPLENBQUMsSUFBaUIsQ0FBQztBQUNoRCxJQUFNQyxpQkFBaUIsR0FBR0QsbUJBQU8sQ0FBQyxJQUFvQixDQUFDO0FBR3ZERCxhQUFhLENBQUNHLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDQyxlQUFlLEdBQUcsVUFBVUMsR0FBRyxFQUFFO0VBQ25FLE9BQU9BLEdBQUcsQ0FBQ0Msb0JBQW9CLENBQUMsc0JBQXNCLENBQUMsQ0FBQ0MsTUFBTSxLQUFLLENBQUMsR0FBRyxLQUFLLEdBQUcsTUFBTTtBQUN2RixDQUFDO0FBRURSLGFBQWEsQ0FBQ0csV0FBVyxDQUFDQyxTQUFTLENBQUNLLHdCQUF3QixHQUFHLFlBQVk7RUFDekUsT0FBUSxJQUFJLENBQUNDLFlBQVksS0FBSyxLQUFLLEdBQUksYUFBYSxHQUFHLGVBQWU7QUFDeEUsQ0FBQztBQUNEVixhQUFhLENBQUNHLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDTyx5QkFBeUIsR0FBRyxZQUFZO0VBQzFFLE9BQVEsSUFBSSxDQUFDRCxZQUFZLEtBQUssS0FBSyxHQUFJLGNBQWMsR0FBRyxnQkFBZ0I7QUFDMUUsQ0FBQztBQUNEVixhQUFhLENBQUNHLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDUSxZQUFZLEdBQUcsWUFBWTtFQUM3RCxJQUFNQyxPQUFPLEdBQUcsSUFBSSxDQUFDUCxHQUFHLENBQUNDLG9CQUFvQixDQUFDLGFBQWEsQ0FBQztFQUM1RCxLQUFLLElBQUlPLENBQUMsR0FBRyxDQUFDLEVBQUVBLENBQUMsR0FBR0QsT0FBTyxDQUFDTCxNQUFNLEVBQUVNLENBQUMsRUFBRSxFQUFFO0lBQ3ZDLElBQU1DLFVBQVUsR0FBRyxJQUFJYixpQkFBaUIsQ0FBQ2MsZUFBZSxDQUFDSCxPQUFPLENBQUNDLENBQUMsQ0FBQyxFQUFFLElBQUksQ0FBQ1IsR0FBRyxDQUFDO0lBQzlFLElBQUksQ0FBQ1csaUJBQWlCLENBQUNILENBQUMsQ0FBQyxHQUFHQyxVQUFVO0VBQ3hDO0FBQ0YsQ0FBQztBQUNEZixhQUFhLENBQUNHLFdBQVcsQ0FBQ0MsU0FBUyxDQUFDYyxpQkFBaUIsR0FBR2xCLGFBQWEsQ0FBQ0csV0FBVyxDQUFDQyxTQUFTLENBQUNlLGdCQUFnQjtBQUM1R25CLGFBQWEsQ0FBQ0csV0FBVyxDQUFDQyxTQUFTLENBQUNlLGdCQUFnQixHQUFHLFlBQVk7RUFDakU7RUFDQSxJQUFJLENBQUNULFlBQVksR0FBRyxJQUFJLENBQUNMLGVBQWUsQ0FBQyxJQUFJLENBQUNDLEdBQUcsQ0FBQztFQUVsRCxJQUFJLElBQUksQ0FBQ0ksWUFBWSxLQUFLLEtBQUssRUFBRTtJQUMvQixPQUFPLElBQUksQ0FBQ0UsWUFBWSxFQUFFO0VBQzVCLENBQUMsTUFBTTtJQUNMLE9BQU8sSUFBSSxDQUFDTSxpQkFBaUIsRUFBRTtFQUNqQztBQUNGLENBQUM7QUFFREUsbUJBQW1CLEdBQUdwQixhQUFhLENBQUNHLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9tc3MvbWFuaWZlc3QteG1sLmpzPzY1ZDAiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBNYW5pZmVzdFhNTF8xID0gcmVxdWlyZSgnLi4vbWFuaWZlc3QteG1sJyk7XG5jb25zdCBTdHJlYW1JbmRleE5vZGVfMSA9IHJlcXVpcmUoJy4vc3RyZWFtSW5kZXgtbm9kZScpO1xuXG5cbk1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldE1hbmlmZXN0VHlwZSA9IGZ1bmN0aW9uICh4bWwpIHtcbiAgcmV0dXJuIHhtbC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnU21vb3RoU3RyZWFtaW5nTWVkaWEnKS5sZW5ndGggIT09IDAgPyAnTVNTJyA6ICdEQVNIJztcbn07XG5cbk1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLmdldEFkYXB0YXRpb25TZXROb2RlTmFtZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0aGlzLm1hbmlmZXN0VHlwZSA9PT0gJ01TUycpID8gJ1N0cmVhbUluZGV4JyA6ICdBZGFwdGF0aW9uU2V0Jztcbn07XG5NYW5pZmVzdFhNTF8xLk1hbmlmZXN0WE1MLnByb3RvdHlwZS5nZXRSZXByZXNlbnRhdGlvbk5vZGVOYW1lID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKHRoaXMubWFuaWZlc3RUeXBlID09PSAnTVNTJykgPyAnUXVhbGl0eUxldmVsJyA6ICdSZXByZXNlbnRhdGlvbic7XG59O1xuTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTC5wcm90b3R5cGUucGFyc2VTdHJlYW1zID0gZnVuY3Rpb24gKCkge1xuICBjb25zdCBzdHJlYW1zID0gdGhpcy54bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1N0cmVhbUluZGV4Jyk7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyZWFtcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0cmVhbU5vZGUgPSBuZXcgU3RyZWFtSW5kZXhOb2RlXzEuU3RyZWFtSW5kZXhOb2RlKHN0cmVhbXNbaV0sIHRoaXMueG1sKTtcbiAgICB0aGlzLmFkYXB0YXRpb25TZXRDb2xsW2ldID0gc3RyZWFtTm9kZTtcbiAgfVxufTtcbk1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLl9wYXJzZUFkYXB0YXRpb25zID0gTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTC5wcm90b3R5cGUucGFyc2VBZGFwdGF0aW9ucztcbk1hbmlmZXN0WE1MXzEuTWFuaWZlc3RYTUwucHJvdG90eXBlLnBhcnNlQWRhcHRhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIE1hbmlmZXN0IHR5cGUgZGV0ZWN0aW9uXG4gIHRoaXMubWFuaWZlc3RUeXBlID0gdGhpcy5nZXRNYW5pZmVzdFR5cGUodGhpcy54bWwpO1xuXG4gIGlmICh0aGlzLm1hbmlmZXN0VHlwZSA9PT0gJ01TUycpIHtcbiAgICByZXR1cm4gdGhpcy5wYXJzZVN0cmVhbXMoKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5fcGFyc2VBZGFwdGF0aW9ucygpO1xuICB9XG59O1xuXG5leHBvcnRzLk1hbmlmZXN0WE1MID0gTWFuaWZlc3RYTUxfMS5NYW5pZmVzdFhNTDtcbiJdLCJuYW1lcyI6WyJNYW5pZmVzdFhNTF8xIiwicmVxdWlyZSIsIlN0cmVhbUluZGV4Tm9kZV8xIiwiTWFuaWZlc3RYTUwiLCJwcm90b3R5cGUiLCJnZXRNYW5pZmVzdFR5cGUiLCJ4bWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImxlbmd0aCIsImdldEFkYXB0YXRpb25TZXROb2RlTmFtZSIsIm1hbmlmZXN0VHlwZSIsImdldFJlcHJlc2VudGF0aW9uTm9kZU5hbWUiLCJwYXJzZVN0cmVhbXMiLCJzdHJlYW1zIiwiaSIsInN0cmVhbU5vZGUiLCJTdHJlYW1JbmRleE5vZGUiLCJhZGFwdGF0aW9uU2V0Q29sbCIsIl9wYXJzZUFkYXB0YXRpb25zIiwicGFyc2VBZGFwdGF0aW9ucyIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4624\n")},5968:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ManifestNode_1 = __webpack_require__(2167);\nvar IsoDurationParser_1 = __webpack_require__(6052);\nvar FragmentInformation_1 = __webpack_require__(3515);\nvar TIME_SCALE_100_NANOSECOND_UNIT = 10000000.0;\nvar QualityLevelNode = function (_super) {\n  __extends(QualityLevelNode, _super);\n  function QualityLevelNode(node, xml) {\n    _super.call(this, node, xml);\n  }\n  QualityLevelNode.prototype.createSegmentInformation = function () {\n    var presentationDuration = IsoDurationParser_1.IsoDurationParser.getDuration(parseFloat(this.attributeList['Duration'] / TIME_SCALE_100_NANOSECOND_UNIT));\n    var representationID = this.attributeList['id'];\n    this.bandwidth = this.attributeList['bandwidth'] ? parseInt(this.attributeList['bandwidth']) : -1;\n    this.segmentTemplate = this.mapMssSegmentTemplate();\n    this.segmentInformation = new FragmentInformation_1.FragmentInformation(presentationDuration, this.bandwidth, this.baseURL, representationID, this.attributeList['mimeType'], this.segmentTemplate);\n  };\n  QualityLevelNode.prototype.mapMssSegmentTemplate = function () {\n    var segmentTemplate = {};\n    var mediaUrl;\n    mediaUrl = this.attributeList['Url'].replace('{bitrate}', '$Bandwidth$');\n    mediaUrl = mediaUrl.replace('{start time}', '$Time$');\n    segmentTemplate.media = mediaUrl;\n    segmentTemplate.timescale = TIME_SCALE_100_NANOSECOND_UNIT;\n    segmentTemplate.SegmentTimeline = this.mapMssSegmentTimeline();\n    return segmentTemplate;\n  };\n  QualityLevelNode.prototype.mapMssSegmentTimeline = function () {\n    var segmentTimeline = {};\n    var chunks = this.currentNode.parentNode.getElementsByTagName('c');\n    var segments = [];\n    var segment;\n    var prevSegment;\n    var tManifest;\n    var i;\n    var duration = 0;\n    for (i = 0; i < chunks.length; i++) {\n      segment = {};\n\n      // Get time 't' attribute value\n      tManifest = chunks[i].getAttribute('t');\n\n      // => segment.tManifest = original timestamp value as a string (for constructing the fragment request url, see DashHandler)\n      // => segment.t = number value of timestamp (maybe rounded value, but only for 0.1 microsecond)\n      segment.tManifest = parseFloat(tManifest);\n      segment.t = parseFloat(tManifest);\n\n      // Get duration 'd' attribute value\n      segment.d = parseFloat(chunks[i].getAttribute('d'));\n\n      // If 't' not defined for first segment then t=0\n      if (i === 0 && !segment.t) {\n        segment.t = 0;\n      }\n      if (i > 0) {\n        prevSegment = segments[segments.length - 1];\n        // Update previous segment duration if not defined\n        if (!prevSegment.d) {\n          if (prevSegment.tManifest) {\n            prevSegment.d = parseFloat(tManifest) - parseFloat(prevSegment.tManifest);\n          } else {\n            prevSegment.d = segment.t - prevSegment.t;\n          }\n        }\n        // Set segment absolute timestamp if not set in manifest\n        if (!segment.t) {\n          if (prevSegment.tManifest) {\n            segment.tManifest = parseFloat(prevSegment.tManifest) + prevSegment.d;\n            segment.t = parseFloat(segment.tManifest);\n          } else {\n            segment.t = prevSegment.t + prevSegment.d;\n          }\n        }\n      }\n      duration += segment.d;\n\n      // Create new segment\n      segments.push(segment);\n    }\n    segmentTimeline.S = segments;\n    segmentTimeline.S_asArray = segments;\n    segmentTimeline.duration = duration / TIME_SCALE_100_NANOSECOND_UNIT;\n    return segmentTimeline;\n  };\n  QualityLevelNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n    var mimeTypeMap = {\n      'video': 'video/mp4',\n      'audio': 'audio/mp4',\n      'text': 'application/mp4'\n    };\n    for (var i = 0; i < node.childNodes.length; i++) {\n      if (!this.baseURL && node.childNodes[i].nodeName == 'BaseURL') {\n        this.baseURL = node.childNodes[i].firstChild.nodeValue;\n      }\n      if (!this.segmentBase && node.childNodes[i].nodeName == 'SegmentBase') {\n        this.segmentBase = node.childNodes[i];\n      }\n      if (!this.segmentTemplate && node.childNodes[i].nodeName == 'SegmentTemplate') {\n        this.segmentTemplate = node.childNodes[i];\n      }\n      if (!this.segmentList && node.childNodes[i].nodeName == 'SegmentList') {\n        this.segmentList = node.childNodes[i];\n      }\n    }\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n    if (list['Type'] !== undefined) {\n      list['contentType'] = list['Type'];\n      list['mimeType'] = mimeTypeMap[list['contentType']];\n      list['bandwidth'] = list['Bitrate'];\n      list['width'] = list['MaxWidth'];\n      list['height'] = list['MaxHeight'];\n      list.lang = list['Language'] || 'und';\n      var indexId = list['Name'] ? list['Name'] : list['Type'];\n      // build id\n      list['id'] = indexId + '_' + list['Index'];\n      if (list['Type'] === 'audio') {\n        list.audioSamplingRate = list['SamplingRate'];\n      }\n    }\n    if (list['Duration'] !== undefined) {\n      list['durationInS'] = this.attributeList['Duration'] / TIME_SCALE_100_NANOSECOND_UNIT;\n    }\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    } else {\n      if (!this.segmentInformation) {\n        this.createSegmentInformation();\n      }\n    }\n    _super.prototype.writeAttributesToList.call(this, node, list);\n  };\n  QualityLevelNode.prototype.getMimeType = function () {\n    return this.attributeList['mimeType'];\n  };\n  QualityLevelNode.prototype.hasMimeType = function () {\n    return this.attributeList['mimeType'] ? true : false;\n  };\n  QualityLevelNode.prototype.getContentType = function () {\n    return this.attributeList['contentType'];\n  };\n  QualityLevelNode.prototype.hasContentType = function () {\n    return this.attributeList['contentType'] ? true : false;\n  };\n  return QualityLevelNode;\n}(ManifestNode_1.ManifestNode);\nexports.QualityLevelNode = QualityLevelNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFDekIsQ0FBQyxDQUFDTCxjQUFjLENBQUNvRSxZQUFZLENBQUU7QUFDL0JDLHdCQUF3QixHQUFHaEUsZ0JBQWdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvbXNzL3F1YWxpdHlMZXZlbC1ub2RlLmpzPzNkMGYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgZnVuY3Rpb24gKGQsIGIpIHtcbiAgZm9yIChsZXQgcCBpbiBiKSB7XG4gICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgIGRbcF0gPSBiW3BdO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBfXyAoKSB7XG4gICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gIH1cblxuICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XG59O1xuXG5jb25zdCBNYW5pZmVzdE5vZGVfMSA9IHJlcXVpcmUoXCIuLi9tYW5pZmVzdC1ub2RlXCIpO1xuY29uc3QgSXNvRHVyYXRpb25QYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi8uLi91dGlsL0lzby1kdXJhdGlvbi1wYXJzZXJcIik7XG5jb25zdCBGcmFnbWVudEluZm9ybWF0aW9uXzEgPSByZXF1aXJlKFwiLi9mcmFnbWVudC1pbmZvcm1hdGlvblwiKTtcbmNvbnN0IFRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVCA9IDEwMDAwMDAwLjA7XG5jb25zdCBRdWFsaXR5TGV2ZWxOb2RlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFF1YWxpdHlMZXZlbE5vZGUsIF9zdXBlcik7XG4gIGZ1bmN0aW9uIFF1YWxpdHlMZXZlbE5vZGUgKG5vZGUsIHhtbCkge1xuICAgIF9zdXBlci5jYWxsKHRoaXMsIG5vZGUsIHhtbCk7XG4gIH1cblxuICBRdWFsaXR5TGV2ZWxOb2RlLnByb3RvdHlwZS5jcmVhdGVTZWdtZW50SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgcHJlc2VudGF0aW9uRHVyYXRpb24gPSBJc29EdXJhdGlvblBhcnNlcl8xLklzb0R1cmF0aW9uUGFyc2VyLmdldER1cmF0aW9uKHBhcnNlRmxvYXQodGhpcy5hdHRyaWJ1dGVMaXN0WydEdXJhdGlvbiddIC8gVElNRV9TQ0FMRV8xMDBfTkFOT1NFQ09ORF9VTklUKSk7XG4gICAgY29uc3QgcmVwcmVzZW50YXRpb25JRCA9IHRoaXMuYXR0cmlidXRlTGlzdFsnaWQnXTtcblxuICAgIHRoaXMuYmFuZHdpZHRoID0gKHRoaXMuYXR0cmlidXRlTGlzdFsnYmFuZHdpZHRoJ10pID8gcGFyc2VJbnQodGhpcy5hdHRyaWJ1dGVMaXN0WydiYW5kd2lkdGgnXSkgOiAtMTtcblxuICAgIHRoaXMuc2VnbWVudFRlbXBsYXRlID0gdGhpcy5tYXBNc3NTZWdtZW50VGVtcGxhdGUoKTtcbiAgICB0aGlzLnNlZ21lbnRJbmZvcm1hdGlvbiA9IG5ldyBGcmFnbWVudEluZm9ybWF0aW9uXzEuRnJhZ21lbnRJbmZvcm1hdGlvbihwcmVzZW50YXRpb25EdXJhdGlvbiwgdGhpcy5iYW5kd2lkdGgsIHRoaXMuYmFzZVVSTCwgcmVwcmVzZW50YXRpb25JRCwgdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddLCB0aGlzLnNlZ21lbnRUZW1wbGF0ZSk7XG4gIH07XG5cbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUubWFwTXNzU2VnbWVudFRlbXBsYXRlID0gZnVuY3Rpb24gKCkge1xuICAgIGxldCBzZWdtZW50VGVtcGxhdGUgPSB7fTtcbiAgICBsZXQgbWVkaWFVcmw7XG5cbiAgICBtZWRpYVVybCA9IHRoaXMuYXR0cmlidXRlTGlzdFsnVXJsJ10ucmVwbGFjZSgne2JpdHJhdGV9JywgJyRCYW5kd2lkdGgkJyk7XG4gICAgbWVkaWFVcmwgPSBtZWRpYVVybC5yZXBsYWNlKCd7c3RhcnQgdGltZX0nLCAnJFRpbWUkJyk7XG5cbiAgICBzZWdtZW50VGVtcGxhdGUubWVkaWEgPSBtZWRpYVVybDtcbiAgICBzZWdtZW50VGVtcGxhdGUudGltZXNjYWxlID0gVElNRV9TQ0FMRV8xMDBfTkFOT1NFQ09ORF9VTklUO1xuXG4gICAgc2VnbWVudFRlbXBsYXRlLlNlZ21lbnRUaW1lbGluZSA9IHRoaXMubWFwTXNzU2VnbWVudFRpbWVsaW5lKCk7XG5cbiAgICByZXR1cm4gc2VnbWVudFRlbXBsYXRlO1xuICB9O1xuXG4gIFF1YWxpdHlMZXZlbE5vZGUucHJvdG90eXBlLm1hcE1zc1NlZ21lbnRUaW1lbGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBsZXQgc2VnbWVudFRpbWVsaW5lID0ge307XG4gICAgbGV0IGNodW5rcyA9IHRoaXMuY3VycmVudE5vZGUucGFyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYycpO1xuICAgIGxldCBzZWdtZW50cyA9IFtdO1xuICAgIGxldCBzZWdtZW50O1xuICAgIGxldCBwcmV2U2VnbWVudDtcbiAgICBsZXQgdE1hbmlmZXN0O1xuICAgIGxldCBpO1xuICAgIGxldCBkdXJhdGlvbiA9IDA7XG5cbiAgICBmb3IgKGkgPSAwOyBpIDwgY2h1bmtzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHNlZ21lbnQgPSB7fTtcblxuICAgICAgICAvLyBHZXQgdGltZSAndCcgYXR0cmlidXRlIHZhbHVlXG4gICAgICAgIHRNYW5pZmVzdCA9IGNodW5rc1tpXS5nZXRBdHRyaWJ1dGUoJ3QnKTtcblxuICAgICAgICAvLyA9PiBzZWdtZW50LnRNYW5pZmVzdCA9IG9yaWdpbmFsIHRpbWVzdGFtcCB2YWx1ZSBhcyBhIHN0cmluZyAoZm9yIGNvbnN0cnVjdGluZyB0aGUgZnJhZ21lbnQgcmVxdWVzdCB1cmwsIHNlZSBEYXNoSGFuZGxlcilcbiAgICAgICAgLy8gPT4gc2VnbWVudC50ID0gbnVtYmVyIHZhbHVlIG9mIHRpbWVzdGFtcCAobWF5YmUgcm91bmRlZCB2YWx1ZSwgYnV0IG9ubHkgZm9yIDAuMSBtaWNyb3NlY29uZClcbiAgICAgICAgc2VnbWVudC50TWFuaWZlc3QgPSBwYXJzZUZsb2F0KHRNYW5pZmVzdCk7XG4gICAgICAgIHNlZ21lbnQudCA9IHBhcnNlRmxvYXQodE1hbmlmZXN0KTtcblxuICAgICAgICAvLyBHZXQgZHVyYXRpb24gJ2QnIGF0dHJpYnV0ZSB2YWx1ZVxuICAgICAgICBzZWdtZW50LmQgPSBwYXJzZUZsb2F0KGNodW5rc1tpXS5nZXRBdHRyaWJ1dGUoJ2QnKSk7XG5cbiAgICAgICAgLy8gSWYgJ3QnIG5vdCBkZWZpbmVkIGZvciBmaXJzdCBzZWdtZW50IHRoZW4gdD0wXG4gICAgICAgIGlmICgoaSA9PT0gMCkgJiYgIXNlZ21lbnQudCkge1xuICAgICAgICAgICAgc2VnbWVudC50ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgcHJldlNlZ21lbnQgPSBzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBwcmV2aW91cyBzZWdtZW50IGR1cmF0aW9uIGlmIG5vdCBkZWZpbmVkXG4gICAgICAgICAgICBpZiAoIXByZXZTZWdtZW50LmQpIHtcbiAgICAgICAgICAgICAgICBpZiAocHJldlNlZ21lbnQudE1hbmlmZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIHByZXZTZWdtZW50LmQgPSBwYXJzZUZsb2F0KHRNYW5pZmVzdCkgLSBwYXJzZUZsb2F0KHByZXZTZWdtZW50LnRNYW5pZmVzdCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJldlNlZ21lbnQuZCA9IHNlZ21lbnQudCAtIHByZXZTZWdtZW50LnQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gU2V0IHNlZ21lbnQgYWJzb2x1dGUgdGltZXN0YW1wIGlmIG5vdCBzZXQgaW4gbWFuaWZlc3RcbiAgICAgICAgICAgIGlmICghc2VnbWVudC50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZTZWdtZW50LnRNYW5pZmVzdCkge1xuICAgICAgICAgICAgICAgICAgICBzZWdtZW50LnRNYW5pZmVzdCA9IHBhcnNlRmxvYXQocHJldlNlZ21lbnQudE1hbmlmZXN0KSArIHByZXZTZWdtZW50LmQ7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQudCA9IHBhcnNlRmxvYXQoc2VnbWVudC50TWFuaWZlc3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHNlZ21lbnQudCA9IHByZXZTZWdtZW50LnQgKyBwcmV2U2VnbWVudC5kO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGR1cmF0aW9uICs9IHNlZ21lbnQuZDtcblxuICAgICAgICAvLyBDcmVhdGUgbmV3IHNlZ21lbnRcbiAgICAgICAgc2VnbWVudHMucHVzaChzZWdtZW50KTtcbiAgICB9XG5cbiAgICBzZWdtZW50VGltZWxpbmUuUyA9IHNlZ21lbnRzO1xuICAgIHNlZ21lbnRUaW1lbGluZS5TX2FzQXJyYXkgPSBzZWdtZW50cztcbiAgICBzZWdtZW50VGltZWxpbmUuZHVyYXRpb24gPSBkdXJhdGlvbiAvIFRJTUVfU0NBTEVfMTAwX05BTk9TRUNPTkRfVU5JVDtcblxuICAgIHJldHVybiBzZWdtZW50VGltZWxpbmU7XG4gIH07XG5cbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUud3JpdGVBdHRyaWJ1dGVzVG9MaXN0ID0gZnVuY3Rpb24gKG5vZGUsIGxpc3QpIHtcbiAgICBjb25zdCBhdHRyTGlzdCA9IG5vZGUuYXR0cmlidXRlcztcbiAgICBjb25zdCBtaW1lVHlwZU1hcCA9IHtcbiAgICAgICd2aWRlbyc6ICd2aWRlby9tcDQnLFxuICAgICAgJ2F1ZGlvJzogJ2F1ZGlvL21wNCcsXG4gICAgICAndGV4dCc6ICdhcHBsaWNhdGlvbi9tcDQnXG4gICAgfTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0aGlzLmJhc2VVUkwgJiYgbm9kZS5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09ICdCYXNlVVJMJykge1xuICAgICAgICB0aGlzLmJhc2VVUkwgPSBub2RlLmNoaWxkTm9kZXNbaV0uZmlyc3RDaGlsZC5ub2RlVmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudEJhc2UgJiYgbm9kZS5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09ICdTZWdtZW50QmFzZScpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50QmFzZSA9IG5vZGUuY2hpbGROb2Rlc1tpXTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zZWdtZW50VGVtcGxhdGUgJiYgbm9kZS5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09ICdTZWdtZW50VGVtcGxhdGUnKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudFRlbXBsYXRlID0gbm9kZS5jaGlsZE5vZGVzW2ldO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRMaXN0ICYmIG5vZGUuY2hpbGROb2Rlc1tpXS5ub2RlTmFtZSA9PSAnU2VnbWVudExpc3QnKSB7XG4gICAgICAgIHRoaXMuc2VnbWVudExpc3QgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAobGV0IGF0dHIgaW4gYXR0ckxpc3QpIHtcbiAgICAgIGlmICghbGlzdFthdHRyTGlzdFthdHRyXS5ub2RlTmFtZV0pIHtcbiAgICAgICAgbGlzdFthdHRyTGlzdFthdHRyXS5ub2RlTmFtZV0gPSBhdHRyTGlzdFthdHRyXS5ub2RlVmFsdWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGxpc3RbJ1R5cGUnXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0Wydjb250ZW50VHlwZSddID0gbGlzdFsnVHlwZSddO1xuICAgICAgbGlzdFsnbWltZVR5cGUnXSA9IG1pbWVUeXBlTWFwW2xpc3RbJ2NvbnRlbnRUeXBlJ11dO1xuICAgICAgbGlzdFsnYmFuZHdpZHRoJ10gPSBsaXN0WydCaXRyYXRlJ107XG4gICAgICBsaXN0Wyd3aWR0aCddID0gbGlzdFsnTWF4V2lkdGgnXTtcbiAgICAgIGxpc3RbJ2hlaWdodCddID0gbGlzdFsnTWF4SGVpZ2h0J107XG4gICAgICBsaXN0LmxhbmcgPSBsaXN0WydMYW5ndWFnZSddIHx8ICd1bmQnO1xuXG4gICAgICBsZXQgaW5kZXhJZCA9IGxpc3RbJ05hbWUnXSA/IGxpc3RbJ05hbWUnXSA6IGxpc3RbJ1R5cGUnXTtcbiAgICAgIC8vIGJ1aWxkIGlkXG4gICAgICBsaXN0WydpZCddID0gaW5kZXhJZCArICdfJyArIGxpc3RbJ0luZGV4J107XG5cbiAgICAgIGlmIChsaXN0WydUeXBlJ10gPT09ICdhdWRpbycgKSB7XG4gICAgICAgIGxpc3QuYXVkaW9TYW1wbGluZ1JhdGUgPSBsaXN0WydTYW1wbGluZ1JhdGUnXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobGlzdFsnRHVyYXRpb24nXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0WydkdXJhdGlvbkluUyddID0gdGhpcy5hdHRyaWJ1dGVMaXN0WydEdXJhdGlvbiddIC8gVElNRV9TQ0FMRV8xMDBfTkFOT1NFQ09ORF9VTklUO1xuICAgIH1cblxuICAgIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYnVpbGRBdHRyaWJ1dGVMaXN0KG5vZGUucGFyZW50Tm9kZSwgbGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5zZWdtZW50SW5mb3JtYXRpb24pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTZWdtZW50SW5mb3JtYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgX3N1cGVyLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZXNUb0xpc3QuY2FsbCh0aGlzLCBub2RlLCBsaXN0KTtcbiAgfTtcbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUuZ2V0TWltZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXTtcbiAgfTtcbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUuaGFzTWltZVR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnbWltZVR5cGUnXSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUuZ2V0Q29udGVudFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnY29udGVudFR5cGUnXTtcbiAgfTtcbiAgUXVhbGl0eUxldmVsTm9kZS5wcm90b3R5cGUuaGFzQ29udGVudFR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuYXR0cmlidXRlTGlzdFsnY29udGVudFR5cGUnXSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcbiAgcmV0dXJuIFF1YWxpdHlMZXZlbE5vZGU7XG59KE1hbmlmZXN0Tm9kZV8xLk1hbmlmZXN0Tm9kZSkpO1xuZXhwb3J0cy5RdWFsaXR5TGV2ZWxOb2RlID0gUXVhbGl0eUxldmVsTm9kZTtcbiJdLCJuYW1lcyI6WyJfX2V4dGVuZHMiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJNYW5pZmVzdE5vZGVfMSIsInJlcXVpcmUiLCJJc29EdXJhdGlvblBhcnNlcl8xIiwiRnJhZ21lbnRJbmZvcm1hdGlvbl8xIiwiVElNRV9TQ0FMRV8xMDBfTkFOT1NFQ09ORF9VTklUIiwiUXVhbGl0eUxldmVsTm9kZSIsIl9zdXBlciIsIm5vZGUiLCJ4bWwiLCJjYWxsIiwiY3JlYXRlU2VnbWVudEluZm9ybWF0aW9uIiwicHJlc2VudGF0aW9uRHVyYXRpb24iLCJJc29EdXJhdGlvblBhcnNlciIsImdldER1cmF0aW9uIiwicGFyc2VGbG9hdCIsImF0dHJpYnV0ZUxpc3QiLCJyZXByZXNlbnRhdGlvbklEIiwiYmFuZHdpZHRoIiwicGFyc2VJbnQiLCJzZWdtZW50VGVtcGxhdGUiLCJtYXBNc3NTZWdtZW50VGVtcGxhdGUiLCJzZWdtZW50SW5mb3JtYXRpb24iLCJGcmFnbWVudEluZm9ybWF0aW9uIiwiYmFzZVVSTCIsIm1lZGlhVXJsIiwicmVwbGFjZSIsIm1lZGlhIiwidGltZXNjYWxlIiwiU2VnbWVudFRpbWVsaW5lIiwibWFwTXNzU2VnbWVudFRpbWVsaW5lIiwic2VnbWVudFRpbWVsaW5lIiwiY2h1bmtzIiwiY3VycmVudE5vZGUiLCJwYXJlbnROb2RlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJzZWdtZW50cyIsInNlZ21lbnQiLCJwcmV2U2VnbWVudCIsInRNYW5pZmVzdCIsImkiLCJkdXJhdGlvbiIsImxlbmd0aCIsImdldEF0dHJpYnV0ZSIsInQiLCJwdXNoIiwiUyIsIlNfYXNBcnJheSIsIndyaXRlQXR0cmlidXRlc1RvTGlzdCIsImxpc3QiLCJhdHRyTGlzdCIsImF0dHJpYnV0ZXMiLCJtaW1lVHlwZU1hcCIsImNoaWxkTm9kZXMiLCJub2RlTmFtZSIsImZpcnN0Q2hpbGQiLCJub2RlVmFsdWUiLCJzZWdtZW50QmFzZSIsInNlZ21lbnRMaXN0IiwiYXR0ciIsInVuZGVmaW5lZCIsImxhbmciLCJpbmRleElkIiwiYXVkaW9TYW1wbGluZ1JhdGUiLCJidWlsZEF0dHJpYnV0ZUxpc3QiLCJnZXRNaW1lVHlwZSIsImhhc01pbWVUeXBlIiwiZ2V0Q29udGVudFR5cGUiLCJoYXNDb250ZW50VHlwZSIsIk1hbmlmZXN0Tm9kZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5968\n")},3605:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\nvar pssh = __webpack_require__(2310);\nvar DOMParser = (__webpack_require__(678).DOMParser);\nvar WIDEVINE_SCHEME_ID_URI = 'urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed';\nvar PLAYREADY_SCHEME_ID_URI = 'urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95';\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar AdaptationSetNode_1 = __webpack_require__(4872);\nvar QualityLevelNode_1 = __webpack_require__(5968);\nvar StreamIndexNode = function (_super) {\n  __extends(StreamIndexNode, _super);\n  function StreamIndexNode(node, xml) {\n    _super.call(this, node, xml);\n  }\n  StreamIndexNode.prototype.parse = function () {\n    var qualityLevels = this.currentNode.getElementsByTagName('QualityLevel');\n    for (var i = 0; i < qualityLevels.length; i++) {\n      var qualityLevelNode = new QualityLevelNode_1.QualityLevelNode(qualityLevels[i], this.xml);\n      this.representationColl[i] = qualityLevelNode;\n      if (this.representationColl[0].hasMimeType()) {\n        this.attributeList['mimeType'] = this.representationColl[0].getMimeType();\n      }\n      if (this.representationColl[0].hasContentType()) {\n        this.attributeList['mimeType'] = this.representationColl[0].getContentType();\n      }\n    }\n    var protection = this.xml.getElementsByTagName('Protection')[0];\n    if (protection !== undefined) {\n      var protectionHeader = protection.getElementsByTagName('ProtectionHeader')[0];\n      // Some packagers put newlines into the ProtectionHeader base64 string, which is not good\n      // because this cannot be correctly parsed. Let's just filter out any newlines found in there.\n      var psshPR = protectionHeader.firstChild.data.replace(/\\n|\\r/g, '');\n\n      // Get KID (in CENC format) from protection header\n      var KID = this.getKIDFromProtectionHeader(protectionHeader);\n\n      // Create ContentProtection for PlayReady\n      var cpPR = {\n        schemeIdUri: PLAYREADY_SCHEME_ID_URI,\n        cencPSSH: psshPR\n      };\n      this.contentProtections.push(cpPR);\n\n      // Create ContentProtection for Widevine (as a CENC protection)\n      var psshWV = pssh.createWidevinePssh(KID);\n      var cpWV = {\n        schemeIdUri: WIDEVINE_SCHEME_ID_URI,\n        cencPSSH: psshWV\n      };\n      this.contentProtections.push(cpWV);\n    }\n  };\n  StreamIndexNode.prototype.getKIDFromProtectionHeader = function (protectionHeader) {\n    var prHeader, wrmHeader, xmlReader, KID;\n\n    // Get PlayReady header as byte array (base64 decoded)\n    prHeader = BASE64.toByteArray(protectionHeader.firstChild.data);\n\n    // Get Right Management header (WRMHEADER) from PlayReady header\n    wrmHeader = this.getWRMHeaderFromPRHeader(prHeader);\n\n    // Convert from multi-byte to unicode\n    wrmHeader = new Uint16Array(wrmHeader.buffer);\n\n    // Convert to string\n    wrmHeader = String.fromCharCode.apply(null, wrmHeader);\n\n    // Parse <WRMHeader> to get KID field value\n    xmlReader = new DOMParser().parseFromString(wrmHeader, 'application/xml');\n    KID = xmlReader.getElementsByTagName('KID')[0].textContent;\n\n    // Get KID (base64 decoded) as byte array\n    KID = BASE64.toByteArray(KID);\n\n    // Convert UUID from little-endian to big-endian\n    this.convertUuidEndianness(KID);\n    return KID;\n  };\n  StreamIndexNode.prototype.convertUuidEndianness = function (uuid) {\n    this.swapBytes(uuid, 0, 3);\n    this.swapBytes(uuid, 1, 2);\n    this.swapBytes(uuid, 4, 5);\n    this.swapBytes(uuid, 6, 7);\n  };\n  StreamIndexNode.prototype.swapBytes = function (bytes, pos1, pos2) {\n    var temp = bytes[pos1];\n    bytes[pos1] = bytes[pos2];\n    bytes[pos2] = temp;\n  };\n  StreamIndexNode.prototype.getWRMHeaderFromPRHeader = function getWRMHeaderFromPRHeader(prHeader) {\n    var recordType, recordLength, recordValue;\n    var i = 0;\n\n    // Parse PlayReady header\n\n    // Length - 32 bits (LE format)\n    // var length = (prHeader[i + 3] << 24) + (prHeader[i + 2] << 16) + (prHeader[i + 1] << 8) + prHeader[i];\n    i += 4;\n\n    // Record count - 16 bits (LE format)\n    // var recordCount = (prHeader[i + 1] << 8) + prHeader[i];\n    i += 2;\n\n    // Parse records\n    while (i < prHeader.length) {\n      // Record type - 16 bits (LE format)\n      recordType = prHeader[i + 1] * 256 + prHeader[i];\n      i += 2;\n\n      // Check if Rights Management header (record type = 0x01)\n      if (recordType === 0x01) {\n        // Record length - 16 bits (LE format)\n        recordLength = prHeader[i + 1] * 256 + prHeader[i];\n        i += 2;\n\n        // Record value => contains <WRMHEADER>\n        recordValue = new Uint8Array(recordLength);\n        recordValue.set(prHeader.subarray(i, i + recordLength));\n        return recordValue;\n      }\n    }\n    return null;\n  };\n  return StreamIndexNode;\n}(AdaptationSetNode_1.AdaptationSetNode);\nexports.StreamIndexNode = StreamIndexNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UUFBUSxFQUFFO0lBQ2hHLElBQUltQixVQUFVLEVBQ1ZDLFlBQVksRUFDWkMsV0FBVztJQUNmLElBQUloRCxDQUFDLEdBQUcsQ0FBQzs7SUFFVDs7SUFFQTtJQUNBO0lBQ0FBLENBQUMsSUFBSSxDQUFDOztJQUVOO0lBQ0E7SUFDQUEsQ0FBQyxJQUFJLENBQUM7O0lBRU47SUFDQSxPQUFPQSxDQUFDLEdBQUcyQixRQUFRLENBQUMxQixNQUFNLEVBQUU7TUFDeEI7TUFDQTZDLFVBQVUsR0FBSW5CLFFBQVEsQ0FBQzNCLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUkyQixRQUFRLENBQUMzQixDQUFDLENBQUM7TUFDbERBLENBQUMsSUFBSSxDQUFDOztNQUVOO01BQ0EsSUFBSThDLFVBQVUsS0FBSyxJQUFJLEVBQUU7UUFFckI7UUFDQUMsWUFBWSxHQUFJcEIsUUFBUSxDQUFDM0IsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBSTJCLFFBQVEsQ0FBQzNCLENBQUMsQ0FBQztRQUNwREEsQ0FBQyxJQUFJLENBQUM7O1FBRU47UUFDQWdELFdBQVcsR0FBRyxJQUFJQyxVQUFVLENBQUNGLFlBQVksQ0FBQztRQUMxQ0MsV0FBVyxDQUFDRSxHQUFHLENBQUN2QixRQUFRLENBQUN3QixRQUFRLENBQUNuRCxDQUFDLEVBQUVBLENBQUMsR0FBRytDLFlBQVksQ0FBQyxDQUFDO1FBQ3ZELE9BQU9DLFdBQVc7TUFDdEI7SUFDSjtJQUNBLE9BQU8sSUFBSTtFQUNiLENBQUM7RUFFRCxPQUFPekQsZUFBZTtBQUN4QixDQUFDLENBQUNGLG1CQUFtQixDQUFDK0QsaUJBQWlCLENBQUU7QUFDekNDLHVCQUF1QixHQUFHOUQsZUFBZSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL21zcy9zdHJlYW1JbmRleC1ub2RlLmpzPzIzOWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBCQVNFNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKTtcbmNvbnN0IHBzc2ggPSByZXF1aXJlKFwiLi4vcHNzaFwiKTtcbmNvbnN0IERPTVBhcnNlciA9IHJlcXVpcmUoJ3htbGRvbScpLkRPTVBhcnNlcjtcblxuY29uc3QgV0lERVZJTkVfU0NIRU1FX0lEX1VSSSA9ICd1cm46dXVpZDplZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQnO1xuY29uc3QgUExBWVJFQURZX1NDSEVNRV9JRF9VUkkgPSAndXJuOnV1aWQ6OWEwNGYwNzktOTg0MC00Mjg2LWFiOTItZTY1YmUwODg1Zjk1JztcblxuY29uc3QgX19leHRlbmRzID0gKHRoaXMgJiYgdGhpcy5fX2V4dGVuZHMpIHx8IGZ1bmN0aW9uIChkLCBiKSB7XG4gICAgICBmb3IgKGxldCBwIGluIGIpIHtcbiAgICAgICAgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIHtcbiAgICAgICAgICBkW3BdID0gYltwXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZnVuY3Rpb24gX18gKCkge1xuICAgICAgICB0aGlzLmNvbnN0cnVjdG9yID0gZDtcbiAgICAgIH1cblxuICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpO1xuICAgIH07XG5jb25zdCBBZGFwdGF0aW9uU2V0Tm9kZV8xID0gcmVxdWlyZShcIi4uL2FkYXB0YXRpb24tc2V0LW5vZGVcIik7XG5jb25zdCBRdWFsaXR5TGV2ZWxOb2RlXzEgPSByZXF1aXJlKFwiLi9xdWFsaXR5TGV2ZWwtbm9kZVwiKTtcblxuY29uc3QgU3RyZWFtSW5kZXhOb2RlID0gKGZ1bmN0aW9uIChfc3VwZXIpIHtcbiAgX19leHRlbmRzKFN0cmVhbUluZGV4Tm9kZSwgX3N1cGVyKTtcbiAgZnVuY3Rpb24gU3RyZWFtSW5kZXhOb2RlIChub2RlLCB4bWwpIHtcbiAgICBfc3VwZXIuY2FsbCh0aGlzLCBub2RlLCB4bWwpO1xuICB9XG5cbiAgU3RyZWFtSW5kZXhOb2RlLnByb3RvdHlwZS5wYXJzZSA9IGZ1bmN0aW9uICgpIHtcblxuICAgIGxldCBxdWFsaXR5TGV2ZWxzID0gdGhpcy5jdXJyZW50Tm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnUXVhbGl0eUxldmVsJyk7XG5cbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHF1YWxpdHlMZXZlbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IHF1YWxpdHlMZXZlbE5vZGUgPSBuZXcgUXVhbGl0eUxldmVsTm9kZV8xLlF1YWxpdHlMZXZlbE5vZGUocXVhbGl0eUxldmVsc1tpXSwgdGhpcy54bWwpO1xuICAgICAgdGhpcy5yZXByZXNlbnRhdGlvbkNvbGxbaV0gPSBxdWFsaXR5TGV2ZWxOb2RlO1xuICAgICAgaWYgKHRoaXMucmVwcmVzZW50YXRpb25Db2xsWzBdLmhhc01pbWVUeXBlKCkpIHtcbiAgICAgICAgICB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10gPSB0aGlzLnJlcHJlc2VudGF0aW9uQ29sbFswXS5nZXRNaW1lVHlwZSgpO1xuICAgICAgfVxuICAgICAgaWYgKHRoaXMucmVwcmVzZW50YXRpb25Db2xsWzBdLmhhc0NvbnRlbnRUeXBlKCkpIHtcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddID0gdGhpcy5yZXByZXNlbnRhdGlvbkNvbGxbMF0uZ2V0Q29udGVudFR5cGUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwcm90ZWN0aW9uID0gdGhpcy54bWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ1Byb3RlY3Rpb24nKVswXTtcblxuICAgIGlmIChwcm90ZWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHByb3RlY3Rpb25IZWFkZXIgPSBwcm90ZWN0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdQcm90ZWN0aW9uSGVhZGVyJylbMF07XG4gICAgICAvLyBTb21lIHBhY2thZ2VycyBwdXQgbmV3bGluZXMgaW50byB0aGUgUHJvdGVjdGlvbkhlYWRlciBiYXNlNjQgc3RyaW5nLCB3aGljaCBpcyBub3QgZ29vZFxuICAgICAgLy8gYmVjYXVzZSB0aGlzIGNhbm5vdCBiZSBjb3JyZWN0bHkgcGFyc2VkLiBMZXQncyBqdXN0IGZpbHRlciBvdXQgYW55IG5ld2xpbmVzIGZvdW5kIGluIHRoZXJlLlxuICAgICAgY29uc3QgcHNzaFBSID0gcHJvdGVjdGlvbkhlYWRlci5maXJzdENoaWxkLmRhdGEucmVwbGFjZSgvXFxufFxcci9nLCAnJyk7XG5cbiAgICAgIC8vIEdldCBLSUQgKGluIENFTkMgZm9ybWF0KSBmcm9tIHByb3RlY3Rpb24gaGVhZGVyXG4gICAgICBjb25zdCBLSUQgPSB0aGlzLmdldEtJREZyb21Qcm90ZWN0aW9uSGVhZGVyKHByb3RlY3Rpb25IZWFkZXIpO1xuXG4gICAgICAvLyBDcmVhdGUgQ29udGVudFByb3RlY3Rpb24gZm9yIFBsYXlSZWFkeVxuICAgICAgY29uc3QgY3BQUiA9IHtcbiAgICAgICAgc2NoZW1lSWRVcmk6IFBMQVlSRUFEWV9TQ0hFTUVfSURfVVJJLFxuICAgICAgICBjZW5jUFNTSDogcHNzaFBSXG4gICAgICB9O1xuICAgICAgdGhpcy5jb250ZW50UHJvdGVjdGlvbnMucHVzaChjcFBSKTtcblxuICAgICAgLy8gQ3JlYXRlIENvbnRlbnRQcm90ZWN0aW9uIGZvciBXaWRldmluZSAoYXMgYSBDRU5DIHByb3RlY3Rpb24pXG4gICAgICBjb25zdCBwc3NoV1YgPSBwc3NoLmNyZWF0ZVdpZGV2aW5lUHNzaChLSUQpO1xuICAgICAgY29uc3QgY3BXViA9IHtcbiAgICAgICAgc2NoZW1lSWRVcmk6IFdJREVWSU5FX1NDSEVNRV9JRF9VUkksXG4gICAgICAgIGNlbmNQU1NIOiBwc3NoV1ZcbiAgICAgIH07XG4gICAgICB0aGlzLmNvbnRlbnRQcm90ZWN0aW9ucy5wdXNoKGNwV1YpO1xuICAgIH1cbiAgfVxuXG4gIFN0cmVhbUluZGV4Tm9kZS5wcm90b3R5cGUuZ2V0S0lERnJvbVByb3RlY3Rpb25IZWFkZXIgPSBmdW5jdGlvbiAocHJvdGVjdGlvbkhlYWRlcikge1xuICAgICAgbGV0IHBySGVhZGVyLFxuICAgICAgICAgIHdybUhlYWRlcixcbiAgICAgICAgICB4bWxSZWFkZXIsXG4gICAgICAgICAgS0lEO1xuXG4gICAgICAvLyBHZXQgUGxheVJlYWR5IGhlYWRlciBhcyBieXRlIGFycmF5IChiYXNlNjQgZGVjb2RlZClcbiAgICAgIHBySGVhZGVyID0gQkFTRTY0LnRvQnl0ZUFycmF5KHByb3RlY3Rpb25IZWFkZXIuZmlyc3RDaGlsZC5kYXRhKTtcblxuICAgICAgLy8gR2V0IFJpZ2h0IE1hbmFnZW1lbnQgaGVhZGVyIChXUk1IRUFERVIpIGZyb20gUGxheVJlYWR5IGhlYWRlclxuICAgICAgd3JtSGVhZGVyID0gdGhpcy5nZXRXUk1IZWFkZXJGcm9tUFJIZWFkZXIocHJIZWFkZXIpO1xuXG4gICAgICAvLyBDb252ZXJ0IGZyb20gbXVsdGktYnl0ZSB0byB1bmljb2RlXG4gICAgICB3cm1IZWFkZXIgPSBuZXcgVWludDE2QXJyYXkod3JtSGVhZGVyLmJ1ZmZlcik7XG5cbiAgICAgIC8vIENvbnZlcnQgdG8gc3RyaW5nXG4gICAgICB3cm1IZWFkZXIgPSBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIHdybUhlYWRlcik7XG5cbiAgICAgIC8vIFBhcnNlIDxXUk1IZWFkZXI+IHRvIGdldCBLSUQgZmllbGQgdmFsdWVcbiAgICAgIHhtbFJlYWRlciA9IChuZXcgRE9NUGFyc2VyKCkpLnBhcnNlRnJvbVN0cmluZyh3cm1IZWFkZXIsICdhcHBsaWNhdGlvbi94bWwnKTtcbiAgICAgIEtJRCA9IHhtbFJlYWRlci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnS0lEJylbMF0udGV4dENvbnRlbnQ7XG5cbiAgICAgIC8vIEdldCBLSUQgKGJhc2U2NCBkZWNvZGVkKSBhcyBieXRlIGFycmF5XG4gICAgICBLSUQgPSBCQVNFNjQudG9CeXRlQXJyYXkoS0lEKTtcblxuICAgICAgLy8gQ29udmVydCBVVUlEIGZyb20gbGl0dGxlLWVuZGlhbiB0byBiaWctZW5kaWFuXG4gICAgICB0aGlzLmNvbnZlcnRVdWlkRW5kaWFubmVzcyhLSUQpO1xuXG4gICAgICByZXR1cm4gS0lEO1xuICB9O1xuXG4gIFN0cmVhbUluZGV4Tm9kZS5wcm90b3R5cGUuY29udmVydFV1aWRFbmRpYW5uZXNzID0gZnVuY3Rpb24gKHV1aWQpIHtcbiAgICAgIHRoaXMuc3dhcEJ5dGVzKHV1aWQsIDAsIDMpO1xuICAgICAgdGhpcy5zd2FwQnl0ZXModXVpZCwgMSwgMik7XG4gICAgICB0aGlzLnN3YXBCeXRlcyh1dWlkLCA0LCA1KTtcbiAgICAgIHRoaXMuc3dhcEJ5dGVzKHV1aWQsIDYsIDcpO1xuICB9O1xuXG4gIFN0cmVhbUluZGV4Tm9kZS5wcm90b3R5cGUuc3dhcEJ5dGVzID0gZnVuY3Rpb24gKGJ5dGVzLCBwb3MxLCBwb3MyKSB7XG4gICAgICBsZXQgdGVtcCA9IGJ5dGVzW3BvczFdO1xuICAgICAgYnl0ZXNbcG9zMV0gPSBieXRlc1twb3MyXTtcbiAgICAgIGJ5dGVzW3BvczJdID0gdGVtcDtcbiAgfTtcblxuICBTdHJlYW1JbmRleE5vZGUucHJvdG90eXBlLmdldFdSTUhlYWRlckZyb21QUkhlYWRlciA9IGZ1bmN0aW9uIGdldFdSTUhlYWRlckZyb21QUkhlYWRlciAocHJIZWFkZXIpIHtcbiAgICBsZXQgcmVjb3JkVHlwZSxcbiAgICAgICAgcmVjb3JkTGVuZ3RoLFxuICAgICAgICByZWNvcmRWYWx1ZTtcbiAgICBsZXQgaSA9IDA7XG5cbiAgICAvLyBQYXJzZSBQbGF5UmVhZHkgaGVhZGVyXG5cbiAgICAvLyBMZW5ndGggLSAzMiBiaXRzIChMRSBmb3JtYXQpXG4gICAgLy8gdmFyIGxlbmd0aCA9IChwckhlYWRlcltpICsgM10gPDwgMjQpICsgKHBySGVhZGVyW2kgKyAyXSA8PCAxNikgKyAocHJIZWFkZXJbaSArIDFdIDw8IDgpICsgcHJIZWFkZXJbaV07XG4gICAgaSArPSA0O1xuXG4gICAgLy8gUmVjb3JkIGNvdW50IC0gMTYgYml0cyAoTEUgZm9ybWF0KVxuICAgIC8vIHZhciByZWNvcmRDb3VudCA9IChwckhlYWRlcltpICsgMV0gPDwgOCkgKyBwckhlYWRlcltpXTtcbiAgICBpICs9IDI7XG5cbiAgICAvLyBQYXJzZSByZWNvcmRzXG4gICAgd2hpbGUgKGkgPCBwckhlYWRlci5sZW5ndGgpIHtcbiAgICAgICAgLy8gUmVjb3JkIHR5cGUgLSAxNiBiaXRzIChMRSBmb3JtYXQpXG4gICAgICAgIHJlY29yZFR5cGUgPSAocHJIZWFkZXJbaSArIDFdICogMjU2KSArIHBySGVhZGVyW2ldO1xuICAgICAgICBpICs9IDI7XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgUmlnaHRzIE1hbmFnZW1lbnQgaGVhZGVyIChyZWNvcmQgdHlwZSA9IDB4MDEpXG4gICAgICAgIGlmIChyZWNvcmRUeXBlID09PSAweDAxKSB7XG5cbiAgICAgICAgICAgIC8vIFJlY29yZCBsZW5ndGggLSAxNiBiaXRzIChMRSBmb3JtYXQpXG4gICAgICAgICAgICByZWNvcmRMZW5ndGggPSAocHJIZWFkZXJbaSArIDFdICogMjU2KSArIHBySGVhZGVyW2ldO1xuICAgICAgICAgICAgaSArPSAyO1xuXG4gICAgICAgICAgICAvLyBSZWNvcmQgdmFsdWUgPT4gY29udGFpbnMgPFdSTUhFQURFUj5cbiAgICAgICAgICAgIHJlY29yZFZhbHVlID0gbmV3IFVpbnQ4QXJyYXkocmVjb3JkTGVuZ3RoKTtcbiAgICAgICAgICAgIHJlY29yZFZhbHVlLnNldChwckhlYWRlci5zdWJhcnJheShpLCBpICsgcmVjb3JkTGVuZ3RoKSk7XG4gICAgICAgICAgICByZXR1cm4gcmVjb3JkVmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH07XG5cbiAgcmV0dXJuIFN0cmVhbUluZGV4Tm9kZTtcbn0oQWRhcHRhdGlvblNldE5vZGVfMS5BZGFwdGF0aW9uU2V0Tm9kZSkpO1xuZXhwb3J0cy5TdHJlYW1JbmRleE5vZGUgPSBTdHJlYW1JbmRleE5vZGU7XG4iXSwibmFtZXMiOlsiQkFTRTY0IiwicmVxdWlyZSIsInBzc2giLCJET01QYXJzZXIiLCJXSURFVklORV9TQ0hFTUVfSURfVVJJIiwiUExBWVJFQURZX1NDSEVNRV9JRF9VUkkiLCJfX2V4dGVuZHMiLCJkIiwiYiIsInAiLCJoYXNPd25Qcm9wZXJ0eSIsIl9fIiwiY29uc3RydWN0b3IiLCJwcm90b3R5cGUiLCJPYmplY3QiLCJjcmVhdGUiLCJBZGFwdGF0aW9uU2V0Tm9kZV8xIiwiUXVhbGl0eUxldmVsTm9kZV8xIiwiU3RyZWFtSW5kZXhOb2RlIiwiX3N1cGVyIiwibm9kZSIsInhtbCIsImNhbGwiLCJwYXJzZSIsInF1YWxpdHlMZXZlbHMiLCJjdXJyZW50Tm9kZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaSIsImxlbmd0aCIsInF1YWxpdHlMZXZlbE5vZGUiLCJRdWFsaXR5TGV2ZWxOb2RlIiwicmVwcmVzZW50YXRpb25Db2xsIiwiaGFzTWltZVR5cGUiLCJhdHRyaWJ1dGVMaXN0IiwiZ2V0TWltZVR5cGUiLCJoYXNDb250ZW50VHlwZSIsImdldENvbnRlbnRUeXBlIiwicHJvdGVjdGlvbiIsInVuZGVmaW5lZCIsInByb3RlY3Rpb25IZWFkZXIiLCJwc3NoUFIiLCJmaXJzdENoaWxkIiwiZGF0YSIsInJlcGxhY2UiLCJLSUQiLCJnZXRLSURGcm9tUHJvdGVjdGlvbkhlYWRlciIsImNwUFIiLCJzY2hlbWVJZFVyaSIsImNlbmNQU1NIIiwiY29udGVudFByb3RlY3Rpb25zIiwicHVzaCIsInBzc2hXViIsImNyZWF0ZVdpZGV2aW5lUHNzaCIsImNwV1YiLCJwckhlYWRlciIsIndybUhlYWRlciIsInhtbFJlYWRlciIsInRvQnl0ZUFycmF5IiwiZ2V0V1JNSGVhZGVyRnJvbVBSSGVhZGVyIiwiVWludDE2QXJyYXkiLCJidWZmZXIiLCJTdHJpbmciLCJmcm9tQ2hhckNvZGUiLCJhcHBseSIsInBhcnNlRnJvbVN0cmluZyIsInRleHRDb250ZW50IiwiY29udmVydFV1aWRFbmRpYW5uZXNzIiwidXVpZCIsInN3YXBCeXRlcyIsImJ5dGVzIiwicG9zMSIsInBvczIiLCJ0ZW1wIiwicmVjb3JkVHlwZSIsInJlY29yZExlbmd0aCIsInJlY29yZFZhbHVlIiwiVWludDhBcnJheSIsInNldCIsInN1YmFycmF5IiwiQWRhcHRhdGlvblNldE5vZGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3605\n")},2310:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar BASE64 = __webpack_require__(7769);\nfunction createWidevinePssh(KID) {\n  // Create Widevine CENC header (Protocol Buffer) with KID value\n  var wvCencHeader = new Uint8Array(2 + KID.length);\n  wvCencHeader[0] = 0x12;\n  wvCencHeader[1] = 0x10;\n  wvCencHeader.set(KID, 2);\n\n  // Create a pssh box\n  var length = 12 /* box length, type, version and flags */ + 16 /* SystemID */ + 4 /* data length */ + wvCencHeader.length,\n    pssh = new Uint8Array(length),\n    i = 0;\n\n  // Set box length value (4 bytes)\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = length;\n\n  // Set type ('pssh'), version (0) and flags (0)\n  pssh.set([0x70, 0x73, 0x73, 0x68, 0x00, 0x00, 0x00, 0x00], i);\n  i += 8;\n\n  // Set SystemID ('edef8ba9-79d6-4ace-a3c8-27dcd51d21ed')\n  pssh.set([0xed, 0xef, 0x8b, 0xa9, 0x79, 0xd6, 0x4a, 0xce, 0xa3, 0xc8, 0x27, 0xdc, 0xd5, 0x1d, 0x21, 0xed], i);\n  i += 16;\n\n  // Set data length value\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = 0;\n  pssh[i++] = wvCencHeader.length;\n\n  // Copy Widevine CENC header\n  pssh.set(wvCencHeader, i);\n\n  // Convert to BASE64 string\n  pssh = BASE64.fromByteArray(pssh);\n  return pssh;\n}\nmodule.exports = {\n  createWidevinePssh: createWidevinePssh\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMjMxMC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBVyxDQUFDO0FBRW5DLFNBQVNDLGtCQUFrQixDQUFFQyxHQUFHLEVBQUU7RUFDaEM7RUFDQSxJQUFJQyxZQUFZLEdBQUcsSUFBSUMsVUFBVSxDQUFDLENBQUMsR0FBR0YsR0FBRyxDQUFDRyxNQUFNLENBQUM7RUFDakRGLFlBQVksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO0VBQ3RCQSxZQUFZLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSTtFQUN0QkEsWUFBWSxDQUFDRyxHQUFHLENBQUNKLEdBQUcsRUFBRSxDQUFDLENBQUM7O0VBRXhCO0VBQ0EsSUFBSUcsTUFBTSxHQUFHLEVBQUUsQ0FBQyw0Q0FBNEMsRUFBRSxDQUFDLGlCQUFpQixDQUFDLENBQUMsb0JBQW9CRixZQUFZLENBQUNFLE1BQU07SUFDckhFLElBQUksR0FBRyxJQUFJSCxVQUFVLENBQUNDLE1BQU0sQ0FBQztJQUM3QkcsQ0FBQyxHQUFHLENBQUM7O0VBRVQ7RUFDQUQsSUFBSSxDQUFDQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7RUFDYkQsSUFBSSxDQUFDQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7RUFDYkQsSUFBSSxDQUFDQyxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUM7RUFDYkQsSUFBSSxDQUFDQyxDQUFDLEVBQUUsQ0FBQyxHQUFHSCxNQUFNOztFQUVsQjtFQUNBRSxJQUFJLENBQUNELEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLENBQUMsRUFBRUUsQ0FBQyxDQUFDO0VBQzdEQSxDQUFDLElBQUksQ0FBQzs7RUFFTjtFQUNBRCxJQUFJLENBQUNELEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRyxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFRSxDQUFDLENBQUM7RUFDOUdBLENBQUMsSUFBSSxFQUFFOztFQUVQO0VBQ0FELElBQUksQ0FBQ0MsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDO0VBQ2JELElBQUksQ0FBQ0MsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDO0VBQ2JELElBQUksQ0FBQ0MsQ0FBQyxFQUFFLENBQUMsR0FBRyxDQUFDO0VBQ2JELElBQUksQ0FBQ0MsQ0FBQyxFQUFFLENBQUMsR0FBR0wsWUFBWSxDQUFDRSxNQUFNOztFQUUvQjtFQUNBRSxJQUFJLENBQUNELEdBQUcsQ0FBQ0gsWUFBWSxFQUFFSyxDQUFDLENBQUM7O0VBRXpCO0VBQ0FELElBQUksR0FBR1IsTUFBTSxDQUFDVSxhQUFhLENBQUNGLElBQUksQ0FBQztFQUNqQyxPQUFPQSxJQUFJO0FBQ2I7QUFFQUcsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZlYsa0JBQWtCLEVBQUVBO0FBQ3RCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL21hbmlmZXN0L3BhcnNlci9wc3NoLmpzP2U0NmQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBCQVNFNjQgPSByZXF1aXJlKCdiYXNlNjQtanMnKTtcblxuZnVuY3Rpb24gY3JlYXRlV2lkZXZpbmVQc3NoIChLSUQpIHtcbiAgLy8gQ3JlYXRlIFdpZGV2aW5lIENFTkMgaGVhZGVyIChQcm90b2NvbCBCdWZmZXIpIHdpdGggS0lEIHZhbHVlXG4gIHZhciB3dkNlbmNIZWFkZXIgPSBuZXcgVWludDhBcnJheSgyICsgS0lELmxlbmd0aCk7XG4gIHd2Q2VuY0hlYWRlclswXSA9IDB4MTI7XG4gIHd2Q2VuY0hlYWRlclsxXSA9IDB4MTA7XG4gIHd2Q2VuY0hlYWRlci5zZXQoS0lELCAyKTtcblxuICAvLyBDcmVhdGUgYSBwc3NoIGJveFxuICB2YXIgbGVuZ3RoID0gMTIgLyogYm94IGxlbmd0aCwgdHlwZSwgdmVyc2lvbiBhbmQgZmxhZ3MgKi8gKyAxNiAvKiBTeXN0ZW1JRCAqLyArIDQgLyogZGF0YSBsZW5ndGggKi8gKyB3dkNlbmNIZWFkZXIubGVuZ3RoLFxuICAgICAgcHNzaCA9IG5ldyBVaW50OEFycmF5KGxlbmd0aCksXG4gICAgICBpID0gMDtcblxuICAvLyBTZXQgYm94IGxlbmd0aCB2YWx1ZSAoNCBieXRlcylcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gbGVuZ3RoO1xuXG4gIC8vIFNldCB0eXBlICgncHNzaCcpLCB2ZXJzaW9uICgwKSBhbmQgZmxhZ3MgKDApXG4gIHBzc2guc2V0KFsweDcwLCAweDczLCAweDczLCAweDY4LCAweDAwLCAweDAwLCAweDAwLCAweDAwXSwgaSk7XG4gIGkgKz0gODtcblxuICAvLyBTZXQgU3lzdGVtSUQgKCdlZGVmOGJhOS03OWQ2LTRhY2UtYTNjOC0yN2RjZDUxZDIxZWQnKVxuICBwc3NoLnNldChbMHhlZCwgMHhlZiwgMHg4YiwgMHhhOSwgIDB4NzksIDB4ZDYsIDB4NGEsIDB4Y2UsIDB4YTMsIDB4YzgsIDB4MjcsIDB4ZGMsIDB4ZDUsIDB4MWQsIDB4MjEsIDB4ZWRdLCBpKTtcbiAgaSArPSAxNjtcblxuICAvLyBTZXQgZGF0YSBsZW5ndGggdmFsdWVcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gMDtcbiAgcHNzaFtpKytdID0gd3ZDZW5jSGVhZGVyLmxlbmd0aDtcblxuICAvLyBDb3B5IFdpZGV2aW5lIENFTkMgaGVhZGVyXG4gIHBzc2guc2V0KHd2Q2VuY0hlYWRlciwgaSk7XG5cbiAgLy8gQ29udmVydCB0byBCQVNFNjQgc3RyaW5nXG4gIHBzc2ggPSBCQVNFNjQuZnJvbUJ5dGVBcnJheShwc3NoKTtcbiAgcmV0dXJuIHBzc2g7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVXaWRldmluZVBzc2g6IGNyZWF0ZVdpZGV2aW5lUHNzaFxufVxuIl0sIm5hbWVzIjpbIkJBU0U2NCIsInJlcXVpcmUiLCJjcmVhdGVXaWRldmluZVBzc2giLCJLSUQiLCJ3dkNlbmNIZWFkZXIiLCJVaW50OEFycmF5IiwibGVuZ3RoIiwic2V0IiwicHNzaCIsImkiLCJmcm9tQnl0ZUFycmF5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///2310\n")},3188:function(__unused_webpack_module,exports,__webpack_require__){"use strict";eval("\n\nvar __extends = this && this.__extends || function (d, b) {\n  for (var p in b) {\n    if (b.hasOwnProperty(p)) {\n      d[p] = b[p];\n    }\n  }\n  function __() {\n    this.constructor = d;\n  }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n};\nvar ManifestNode_1 = __webpack_require__(2167);\nvar SegmentInformation_1 = __webpack_require__(4749);\nvar IsoDurationParser_1 = __webpack_require__(6052);\nvar RepresentationNode = function (_super) {\n  __extends(RepresentationNode, _super);\n  function RepresentationNode(node, xml) {\n    _super.call(this, node, xml);\n    this.markNodeForDownload(false);\n  }\n  RepresentationNode.prototype.createSegmentInformation = function () {\n    var presentationDuration = IsoDurationParser_1.IsoDurationParser.getDuration(this.attributeList['mediaPresentationDuration']);\n    var segmentTimeline;\n    var timelineItemList;\n    var segmentUrlList;\n    var representationID = this.attributeList['id'];\n    if (this.segmentTemplate && this.segmentTemplate.hasChildNodes()) {\n      for (var i = 0; i < this.segmentTemplate.childNodes.length; i++) {\n        if (this.segmentTemplate.childNodes[i].nodeName == \"SegmentTimeline\") {\n          segmentTimeline = this.segmentTemplate.childNodes[i];\n        }\n      }\n    }\n    try {\n      timelineItemList = segmentTimeline.getElementsByTagName('S');\n    } catch (e) {}\n    try {\n      segmentUrlList = this.segmentList.getElementsByTagName('SegmentURL');\n    } catch (e) {}\n    this.bandwidth = this.attributeList['bandwidth'] ? parseInt(this.attributeList['bandwidth']) : -1;\n    this.segmentInformation = new SegmentInformation_1.SegmentInformation(presentationDuration, this.bandwidth, this.baseURL, representationID, this.attributeList['mimeType'], this.segmentBase, this.segmentTemplate, segmentTimeline, timelineItemList, this.segmentList, segmentUrlList);\n  };\n  RepresentationNode.prototype.writeAttributesToList = function (node, list) {\n    var attrList = node.attributes;\n    for (var i = 0; i < node.childNodes.length; i++) {\n      if (!this.baseURL && node.childNodes[i].nodeName == 'BaseURL') {\n        this.baseURL = node.childNodes[i].firstChild.nodeValue;\n      }\n      if (!this.segmentBase && node.childNodes[i].nodeName == 'SegmentBase') {\n        this.segmentBase = node.childNodes[i];\n      }\n      if (!this.segmentTemplate && node.childNodes[i].nodeName == 'SegmentTemplate') {\n        this.segmentTemplate = node.childNodes[i];\n      }\n      if (!this.segmentList && node.childNodes[i].nodeName == 'SegmentList') {\n        this.segmentList = node.childNodes[i];\n      }\n    }\n    for (var attr in attrList) {\n      if (!list[attrList[attr].nodeName]) {\n        list[attrList[attr].nodeName] = attrList[attr].nodeValue;\n      }\n    }\n    if (list['mediaPresentationDuration'] !== undefined) {\n      list['durationInS'] = IsoDurationParser_1.IsoDurationParser.getDurationAsS(this.attributeList['mediaPresentationDuration']);\n    }\n    if (node.parentNode !== null) {\n      this.buildAttributeList(node.parentNode, list);\n    } else {\n      if (!this.segmentInformation) {\n        this.createSegmentInformation();\n      }\n    }\n    _super.prototype.writeAttributesToList.call(this, node, list);\n  };\n  RepresentationNode.prototype.getMimeType = function () {\n    return this.attributeList['mimeType'] || this.attributeList['contentType'];\n  };\n  RepresentationNode.prototype.hasMimeType = function () {\n    return this.attributeList['mimeType'] || this.attributeList['contentType'] ? true : false;\n  };\n  RepresentationNode.prototype.getMediaUrlList = function () {\n    return this.segmentInformation.getMediaUrlList();\n  };\n  RepresentationNode.prototype.getRepresentationId = function () {\n    return this.id;\n  };\n  return RepresentationNode;\n}(ManifestNode_1.ManifestNode);\nexports.RepresentationNode = RepresentationNode;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUMsSUFBSSxFQUFFRixJQUFJLEVBQUU2QixJQUFJLENBQUM7RUFDL0QsQ0FBQztFQUNEL0Isa0JBQWtCLENBQUNQLFNBQVMsQ0FBQ2dELFdBQVcsR0FBRyxZQUFZO0lBQ3JELE9BQU8sSUFBSSxDQUFDL0IsYUFBYSxDQUFDLFVBQVUsQ0FBQyxJQUFJLElBQUksQ0FBQ0EsYUFBYSxDQUFDLGFBQWEsQ0FBQztFQUM1RSxDQUFDO0VBQ0RWLGtCQUFrQixDQUFDUCxTQUFTLENBQUNpRCxXQUFXLEdBQUcsWUFBWTtJQUNyRCxPQUFPLElBQUksQ0FBQ2hDLGFBQWEsQ0FBQyxVQUFVLENBQUMsSUFBSSxJQUFJLENBQUNBLGFBQWEsQ0FBQyxhQUFhLENBQUMsR0FBRyxJQUFJLEdBQUcsS0FBSztFQUMzRixDQUFDO0VBQ0RWLGtCQUFrQixDQUFDUCxTQUFTLENBQUNrRCxlQUFlLEdBQUcsWUFBWTtJQUN6RCxPQUFPLElBQUksQ0FBQ2pCLGtCQUFrQixDQUFDaUIsZUFBZSxFQUFFO0VBQ2xELENBQUM7RUFDRDNDLGtCQUFrQixDQUFDUCxTQUFTLENBQUNtRCxtQkFBbUIsR0FBRyxZQUFZO0lBQzdELE9BQU8sSUFBSSxDQUFDQyxFQUFFO0VBQ2hCLENBQUM7RUFDRCxPQUFPN0Msa0JBQWtCO0FBQzNCLENBQUMsQ0FBQ0osY0FBYyxDQUFDa0QsWUFBWSxDQUFFO0FBQy9CQywwQkFBMEIsR0FBRy9DLGtCQUFrQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvbWFuaWZlc3QvcGFyc2VyL3JlcHJlc2VudGF0aW9uLW5vZGUuanM/ZWYxNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IF9fZXh0ZW5kcyA9ICh0aGlzICYmIHRoaXMuX19leHRlbmRzKSB8fCBmdW5jdGlvbiAoZCwgYikge1xuICAgICAgZm9yIChsZXQgcCBpbiBiKSB7XG4gICAgICAgIGlmIChiLmhhc093blByb3BlcnR5KHApKSB7XG4gICAgICAgICAgZFtwXSA9IGJbcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIF9fICgpIHtcbiAgICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7XG4gICAgICB9XG5cbiAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcbiAgICB9O1xuY29uc3QgTWFuaWZlc3ROb2RlXzEgPSByZXF1aXJlKFwiLi9tYW5pZmVzdC1ub2RlXCIpO1xuY29uc3QgU2VnbWVudEluZm9ybWF0aW9uXzEgPSByZXF1aXJlKFwiLi9zZWdtZW50LWluZm9ybWF0aW9uXCIpO1xuY29uc3QgSXNvRHVyYXRpb25QYXJzZXJfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL0lzby1kdXJhdGlvbi1wYXJzZXJcIik7XG5jb25zdCBSZXByZXNlbnRhdGlvbk5vZGUgPSAoZnVuY3Rpb24gKF9zdXBlcikge1xuICBfX2V4dGVuZHMoUmVwcmVzZW50YXRpb25Ob2RlLCBfc3VwZXIpO1xuICBmdW5jdGlvbiBSZXByZXNlbnRhdGlvbk5vZGUgKG5vZGUsIHhtbCkge1xuICAgIF9zdXBlci5jYWxsKHRoaXMsIG5vZGUsIHhtbCk7XG4gICAgdGhpcy5tYXJrTm9kZUZvckRvd25sb2FkKGZhbHNlKTtcbiAgfVxuXG4gIFJlcHJlc2VudGF0aW9uTm9kZS5wcm90b3R5cGUuY3JlYXRlU2VnbWVudEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHByZXNlbnRhdGlvbkR1cmF0aW9uID0gSXNvRHVyYXRpb25QYXJzZXJfMS5Jc29EdXJhdGlvblBhcnNlci5nZXREdXJhdGlvbihcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVMaXN0WydtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uJ10pO1xuICAgIGxldCBzZWdtZW50VGltZWxpbmU7XG4gICAgbGV0IHRpbWVsaW5lSXRlbUxpc3Q7XG4gICAgbGV0IHNlZ21lbnRVcmxMaXN0O1xuICAgIGNvbnN0IHJlcHJlc2VudGF0aW9uSUQgPSB0aGlzLmF0dHJpYnV0ZUxpc3RbJ2lkJ107XG4gICAgaWYgKHRoaXMuc2VnbWVudFRlbXBsYXRlICYmIHRoaXMuc2VnbWVudFRlbXBsYXRlLmhhc0NoaWxkTm9kZXMoKSkge1xuICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnNlZ21lbnRUZW1wbGF0ZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09IFwiU2VnbWVudFRpbWVsaW5lXCIpIHtcbiAgICAgICAgICBzZWdtZW50VGltZWxpbmUgPSB0aGlzLnNlZ21lbnRUZW1wbGF0ZS5jaGlsZE5vZGVzW2ldO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICB0aW1lbGluZUl0ZW1MaXN0ID0gc2VnbWVudFRpbWVsaW5lLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdTJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgc2VnbWVudFVybExpc3QgPSB0aGlzLnNlZ21lbnRMaXN0LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdTZWdtZW50VVJMJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0aGlzLmJhbmR3aWR0aCA9ICh0aGlzLmF0dHJpYnV0ZUxpc3RbJ2JhbmR3aWR0aCddKSA/IHBhcnNlSW50KHRoaXMuYXR0cmlidXRlTGlzdFsnYmFuZHdpZHRoJ10pIDogLTE7XG4gICAgdGhpcy5zZWdtZW50SW5mb3JtYXRpb24gPSBuZXcgU2VnbWVudEluZm9ybWF0aW9uXzEuU2VnbWVudEluZm9ybWF0aW9uKHByZXNlbnRhdGlvbkR1cmF0aW9uLCB0aGlzLmJhbmR3aWR0aCwgdGhpcy5iYXNlVVJMLCByZXByZXNlbnRhdGlvbklELCB0aGlzLmF0dHJpYnV0ZUxpc3RbJ21pbWVUeXBlJ10sIHRoaXMuc2VnbWVudEJhc2UsIHRoaXMuc2VnbWVudFRlbXBsYXRlLCBzZWdtZW50VGltZWxpbmUsIHRpbWVsaW5lSXRlbUxpc3QsIHRoaXMuc2VnbWVudExpc3QsIHNlZ21lbnRVcmxMaXN0KTtcbiAgfTtcbiAgUmVwcmVzZW50YXRpb25Ob2RlLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZXNUb0xpc3QgPSBmdW5jdGlvbiAobm9kZSwgbGlzdCkge1xuICAgIGNvbnN0IGF0dHJMaXN0ID0gbm9kZS5hdHRyaWJ1dGVzO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRoaXMuYmFzZVVSTCAmJiBub2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gJ0Jhc2VVUkwnKSB7XG4gICAgICAgIHRoaXMuYmFzZVVSTCA9IG5vZGUuY2hpbGROb2Rlc1tpXS5maXJzdENoaWxkLm5vZGVWYWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmICghdGhpcy5zZWdtZW50QmFzZSAmJiBub2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gJ1NlZ21lbnRCYXNlJykge1xuICAgICAgICB0aGlzLnNlZ21lbnRCYXNlID0gbm9kZS5jaGlsZE5vZGVzW2ldO1xuICAgICAgfVxuICAgICAgaWYgKCF0aGlzLnNlZ21lbnRUZW1wbGF0ZSAmJiBub2RlLmNoaWxkTm9kZXNbaV0ubm9kZU5hbWUgPT0gJ1NlZ21lbnRUZW1wbGF0ZScpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50VGVtcGxhdGUgPSBub2RlLmNoaWxkTm9kZXNbaV07XG4gICAgICB9XG4gICAgICBpZiAoIXRoaXMuc2VnbWVudExpc3QgJiYgbm9kZS5jaGlsZE5vZGVzW2ldLm5vZGVOYW1lID09ICdTZWdtZW50TGlzdCcpIHtcbiAgICAgICAgdGhpcy5zZWdtZW50TGlzdCA9IG5vZGUuY2hpbGROb2Rlc1tpXTtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9yIChsZXQgYXR0ciBpbiBhdHRyTGlzdCkge1xuICAgICAgaWYgKCFsaXN0W2F0dHJMaXN0W2F0dHJdLm5vZGVOYW1lXSkge1xuICAgICAgICBsaXN0W2F0dHJMaXN0W2F0dHJdLm5vZGVOYW1lXSA9IGF0dHJMaXN0W2F0dHJdLm5vZGVWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxpc3RbJ21lZGlhUHJlc2VudGF0aW9uRHVyYXRpb24nXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBsaXN0WydkdXJhdGlvbkluUyddID0gSXNvRHVyYXRpb25QYXJzZXJfMS5Jc29EdXJhdGlvblBhcnNlci5nZXREdXJhdGlvbkFzUyhcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVMaXN0WydtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uJ10pO1xuICAgIH1cblxuICAgIGlmIChub2RlLnBhcmVudE5vZGUgIT09IG51bGwpIHtcbiAgICAgIHRoaXMuYnVpbGRBdHRyaWJ1dGVMaXN0KG5vZGUucGFyZW50Tm9kZSwgbGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghdGhpcy5zZWdtZW50SW5mb3JtYXRpb24pIHtcbiAgICAgICAgdGhpcy5jcmVhdGVTZWdtZW50SW5mb3JtYXRpb24oKTtcbiAgICAgIH1cbiAgICB9XG4gICAgX3N1cGVyLnByb3RvdHlwZS53cml0ZUF0dHJpYnV0ZXNUb0xpc3QuY2FsbCh0aGlzLCBub2RlLCBsaXN0KTtcbiAgfTtcbiAgUmVwcmVzZW50YXRpb25Ob2RlLnByb3RvdHlwZS5nZXRNaW1lVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddIHx8IHRoaXMuYXR0cmlidXRlTGlzdFsnY29udGVudFR5cGUnXTtcbiAgfTtcbiAgUmVwcmVzZW50YXRpb25Ob2RlLnByb3RvdHlwZS5oYXNNaW1lVHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5hdHRyaWJ1dGVMaXN0WydtaW1lVHlwZSddIHx8IHRoaXMuYXR0cmlidXRlTGlzdFsnY29udGVudFR5cGUnXSA/IHRydWUgOiBmYWxzZTtcbiAgfTtcbiAgUmVwcmVzZW50YXRpb25Ob2RlLnByb3RvdHlwZS5nZXRNZWRpYVVybExpc3QgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuc2VnbWVudEluZm9ybWF0aW9uLmdldE1lZGlhVXJsTGlzdCgpO1xuICB9O1xuICBSZXByZXNlbnRhdGlvbk5vZGUucHJvdG90eXBlLmdldFJlcHJlc2VudGF0aW9uSWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH07XG4gIHJldHVybiBSZXByZXNlbnRhdGlvbk5vZGU7XG59KE1hbmlmZXN0Tm9kZV8xLk1hbmlmZXN0Tm9kZSkpO1xuZXhwb3J0cy5SZXByZXNlbnRhdGlvbk5vZGUgPSBSZXByZXNlbnRhdGlvbk5vZGU7XG4iXSwibmFtZXMiOlsiX19leHRlbmRzIiwiZCIsImIiLCJwIiwiaGFzT3duUHJvcGVydHkiLCJfXyIsImNvbnN0cnVjdG9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiTWFuaWZlc3ROb2RlXzEiLCJyZXF1aXJlIiwiU2VnbWVudEluZm9ybWF0aW9uXzEiLCJJc29EdXJhdGlvblBhcnNlcl8xIiwiUmVwcmVzZW50YXRpb25Ob2RlIiwiX3N1cGVyIiwibm9kZSIsInhtbCIsImNhbGwiLCJtYXJrTm9kZUZvckRvd25sb2FkIiwiY3JlYXRlU2VnbWVudEluZm9ybWF0aW9uIiwicHJlc2VudGF0aW9uRHVyYXRpb24iLCJJc29EdXJhdGlvblBhcnNlciIsImdldER1cmF0aW9uIiwiYXR0cmlidXRlTGlzdCIsInNlZ21lbnRUaW1lbGluZSIsInRpbWVsaW5lSXRlbUxpc3QiLCJzZWdtZW50VXJsTGlzdCIsInJlcHJlc2VudGF0aW9uSUQiLCJzZWdtZW50VGVtcGxhdGUiLCJoYXNDaGlsZE5vZGVzIiwiaSIsImNoaWxkTm9kZXMiLCJsZW5ndGgiLCJub2RlTmFtZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiZSIsInNlZ21lbnRMaXN0IiwiYmFuZHdpZHRoIiwicGFyc2VJbnQiLCJzZWdtZW50SW5mb3JtYXRpb24iLCJTZWdtZW50SW5mb3JtYXRpb24iLCJiYXNlVVJMIiwic2VnbWVudEJhc2UiLCJ3cml0ZUF0dHJpYnV0ZXNUb0xpc3QiLCJsaXN0IiwiYXR0ckxpc3QiLCJhdHRyaWJ1dGVzIiwiZmlyc3RDaGlsZCIsIm5vZGVWYWx1ZSIsImF0dHIiLCJ1bmRlZmluZWQiLCJnZXREdXJhdGlvbkFzUyIsInBhcmVudE5vZGUiLCJidWlsZEF0dHJpYnV0ZUxpc3QiLCJnZXRNaW1lVHlwZSIsImhhc01pbWVUeXBlIiwiZ2V0TWVkaWFVcmxMaXN0IiwiZ2V0UmVwcmVzZW50YXRpb25JZCIsImlkIiwiTWFuaWZlc3ROb2RlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///3188\n")},4749:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval('\n\nvar ZeroPadding_1 = __webpack_require__(9275);\nvar MediaUrl_1 = __webpack_require__(9786);\nvar CREATE_URL;\n(function (CREATE_URL) {\n  CREATE_URL[CREATE_URL["FROM_TEMPLATE"] = 0] = "FROM_TEMPLATE";\n  CREATE_URL[CREATE_URL["FROM_TIMELINE"] = 1] = "FROM_TIMELINE";\n  CREATE_URL[CREATE_URL["FROM_SEGMENTLIST"] = 2] = "FROM_SEGMENTLIST";\n  CREATE_URL[CREATE_URL["FROM_SEGMENT_BASE"] = 3] = "FROM_SEGMENT_BASE";\n})(CREATE_URL || (CREATE_URL = {}));\nvar SegmentInformation = function () {\n  function SegmentInformation(presentationDuration, bandwidth, baseUrl, representationID, mimeType, segmentBase, segmentTemplate, segmentTimeline, timelineItemList, segmentList, segmentUrlList) {\n    this.hasSegmentBase = false;\n    this.baseUrl = \'\';\n    this.presentationDuration = 0;\n    this.bandwidth = 0;\n    this.startNumber = 0;\n    this.mediaUrls = [];\n    this.whichUseCase = -1;\n    this.mimeType = \'\';\n    SegmentInformation.count += 1;\n    this.presentationDuration = presentationDuration;\n    this.mimeType = mimeType;\n    if (baseUrl) {\n      this.baseUrl = baseUrl;\n    }\n    if (bandwidth) {\n      this.bandwidth = bandwidth;\n    }\n    if (representationID) {\n      this.representationID = representationID;\n    }\n    if (segmentBase) {\n      this.segmentBase = segmentBase;\n      this.hasSegmentBase = true;\n      this.whichUseCase = CREATE_URL.FROM_SEGMENT_BASE;\n    }\n    if (segmentTemplate) {\n      this.segmentTemplate = segmentTemplate;\n      this.mediaTemplate = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n      this.mediaTemplate = this.replace$RepresentationID$(this.mediaTemplate, this.representationID);\n      this.mediaTemplate = this.replace$Bandwidth$(this.mediaTemplate, this.bandwidth);\n      this.startNumber = this.segmentTemplate.attributes.getNamedItem("startNumber") ? parseInt(this.segmentTemplate.attributes.getNamedItem("startNumber").nodeValue) : 0;\n      this.whichUseCase = CREATE_URL.FROM_TEMPLATE;\n    }\n    if (segmentTimeline) {\n      this.segmentTimeline = segmentTimeline;\n    }\n    if (timelineItemList) {\n      this.timelineItemList = timelineItemList;\n      this.whichUseCase = CREATE_URL.FROM_TIMELINE;\n    }\n    if (segmentList) {\n      this.segmentList = segmentList;\n    }\n    if (segmentUrlList) {\n      this.segmentUrlList = segmentUrlList;\n      this.whichUseCase = CREATE_URL.FROM_SEGMENTLIST;\n    }\n    var hasFileExtension = false;\n    var initSegment = \'\';\n    switch (this.whichUseCase) {\n      case CREATE_URL.FROM_SEGMENTLIST:\n        this.createFragmentFromUrlList(this.segmentUrlList);\n        initSegment = this.createInitSegment(this.segmentList.getElementsByTagName(\'Initialization\')[0].attributes.getNamedItem("sourceURL").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n        if (SegmentInformation.count == 0) {\n          // console.log(\'CREATE_URL.FROM_SEGMENTLIST\', this.mediaUrls, this);\n        }\n        break;\n      case CREATE_URL.FROM_TIMELINE:\n        initSegment = this.createInitSegment(this.segmentTemplate.attributes.getNamedItem("initialization").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n        this.createFragmentUrlsFromTimeline(this.timelineItemList);\n        break;\n      case CREATE_URL.FROM_SEGMENT_BASE:\n        try {\n          hasFileExtension = this.baseUrl.indexOf(\'.\') !== -1 ? true : false;\n        } catch (e) {}\n        if (hasFileExtension) {\n          this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, this.baseUrl, this.mimeType));\n        }\n        if (SegmentInformation.count == 0) {\n          // console.log(\'CREATE_URL.FROM_SEGMENT_BASE\', this.mediaUrls, this);\n        }\n        break;\n      case CREATE_URL.FROM_TEMPLATE:\n        this.createFragmentsFromTemplate();\n        initSegment = this.createInitSegment(this.segmentTemplate.attributes.getNamedItem("initialization").nodeValue);\n        this.mediaUrls.unshift(new MediaUrl_1.MediaUrl(this.baseUrl, initSegment, this.mimeType));\n        break;\n      default:\n        try {\n          hasFileExtension = this.baseUrl.indexOf(\'.\') !== -1 ? true : false;\n        } catch (e) {}\n        if (hasFileExtension) {\n          this.mediaUrls.push(new MediaUrl_1.MediaUrl("", this.baseUrl, this.mimeType));\n        }\n    }\n  }\n  SegmentInformation.prototype.createFragmentUrlsFromTimeline = function (segmentNodes) {\n    var currentTime = this.segmentTemplate.attributes.getNamedItem("presentationTimeOffset");\n    if (currentTime) {\n      currentTime = parseInt(currentTime.nodeValue, 10);\n    } else {\n      currentTime = 0;\n    }\n    var hasCurrentTime = false;\n    var time = 0;\n    for (var i = 0; i < segmentNodes.length; i++) {\n      if (i > 0 && segmentNodes[i].attributes.getNamedItem("t") && segmentNodes[i].attributes.getNamedItem("t").nodeValue !== undefined) {\n        hasCurrentTime = true;\n        time = parseInt(segmentNodes[i].attributes.getNamedItem("t").nodeValue);\n      } else {\n        hasCurrentTime = false;\n      }\n      var duration = segmentNodes[i].attributes.getNamedItem("d") && segmentNodes[i].attributes.getNamedItem("d").nodeValue !== undefined ? parseInt(segmentNodes[i].attributes.getNamedItem("d").nodeValue) : 0;\n      var repeat = segmentNodes[i].attributes.getNamedItem("r") && segmentNodes[i].attributes.getNamedItem("r").nodeValue !== undefined ? parseInt(segmentNodes[i].attributes.getNamedItem("r").nodeValue) : 0;\n      for (var k = 1; k <= repeat; k++) {\n        var fragment_1 = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n        fragment_1 = this.replace$RepresentationID$(fragment_1, this.representationID);\n        fragment_1 = this.replace$Time$(fragment_1, currentTime);\n        fragment_1 = this.replace$Bandwidth$(fragment_1, this.bandwidth);\n        this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment_1, this.mimeType));\n        if (!hasCurrentTime) {\n          currentTime += duration;\n        } else {\n          currentTime = time;\n        }\n      }\n      var fragment = this.segmentTemplate.attributes.getNamedItem("media").nodeValue;\n      fragment = this.replace$RepresentationID$(fragment, this.representationID);\n      fragment = this.replace$Time$(fragment, currentTime);\n      fragment = this.replace$Bandwidth$(fragment, this.bandwidth);\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n      if (!hasCurrentTime) {\n        currentTime += duration;\n      } else {\n        currentTime = time;\n      }\n    }\n  };\n  SegmentInformation.prototype.createFragmentFromUrlList = function (urlListNodes) {\n    for (var i = 0; i < urlListNodes.length; i++) {\n      var fragment = urlListNodes[i].attributes.getNamedItem("media").nodeValue;\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n  SegmentInformation.prototype.createFragmentsFromTemplate = function () {\n    var segmentDuration = parseInt(this.segmentTemplate.attributes.getNamedItem("duration").nodeValue);\n    var segmentTimescale = this.segmentTemplate.attributes.getNamedItem("timescale") ? parseInt(this.segmentTemplate.attributes.getNamedItem("timescale").nodeValue) : 1;\n    var numSegments = Math.ceil(this.presentationDuration / (segmentDuration / segmentTimescale) / 1000);\n    var mediaTemplateStringSegment = this.mediaTemplate.split(\'$\');\n    var templateReplaceableIndex;\n    var startNumber = this.startNumber || 0;\n    for (var k = 0; k < mediaTemplateStringSegment.length; k++) {\n      if (mediaTemplateStringSegment[k].indexOf(\'Number\') != -1) {\n        templateReplaceableIndex = \'$\' + mediaTemplateStringSegment[k] + \'$\';\n      }\n    }\n    var paddingAmount = ZeroPadding_1.ZeroPadding.getPaddingAmount(templateReplaceableIndex);\n    for (var i = startNumber; i < numSegments + startNumber; i++) {\n      var segmentIndex = ZeroPadding_1.ZeroPadding.addPadding(i, paddingAmount);\n      var fragment = void 0;\n      if (paddingAmount === 0) {\n        fragment = this.replace$Number$(this.mediaTemplate, i);\n      } else {\n        fragment = this.mediaTemplate.replace(templateReplaceableIndex, segmentIndex);\n      }\n      this.mediaUrls.push(new MediaUrl_1.MediaUrl(this.baseUrl, fragment, this.mimeType));\n    }\n  };\n  SegmentInformation.prototype.replace$RepresentationID$ = function (fragment, id) {\n    return fragment.replace(new RegExp(\'\\\\$RepresentationID\\\\$\', \'g\'), id);\n  };\n  SegmentInformation.prototype.replace$Number$ = function (fragment, num) {\n    return fragment.replace(new RegExp(\'\\\\$Number\\\\$\', \'g\'), num.toString());\n  };\n  SegmentInformation.prototype.replace$Bandwidth$ = function (fragment, bandwidth) {\n    return fragment.replace(new RegExp(\'\\\\$Bandwidth\\\\$\', \'g\'), bandwidth.toString());\n  };\n  SegmentInformation.prototype.replace$Time$ = function (fragment, currentIndex) {\n    return fragment.replace(new RegExp(\'\\\\$Time\\\\$\', \'g\'), currentIndex.toString());\n  };\n  SegmentInformation.prototype.createInitSegment = function (fragment) {\n    fragment = this.replace$Bandwidth$(fragment, this.bandwidth);\n    fragment = this.replace$RepresentationID$(fragment, this.representationID);\n    return fragment;\n  };\n  SegmentInformation.prototype.getMediaUrlList = function () {\n    return this.mediaUrls;\n  };\n  SegmentInformation.count = -1;\n  return SegmentInformation;\n}();\nexports.SegmentInformation = SegmentInformation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFVBQVVDLFFBQVEsRUFBRXFCLFlBQVksRUFBRTtJQUM3RSxPQUFPckIsUUFBUSxDQUFDZ0IsT0FBTyxDQUFDLElBQUlFLE1BQU0sQ0FBQyxZQUFZLEVBQUUsR0FBRyxDQUFDLEVBQUVHLFlBQVksQ0FBQ0QsUUFBUSxFQUFFLENBQUM7RUFDakYsQ0FBQztFQUNEekUsa0JBQWtCLENBQUN3QyxTQUFTLENBQUNULGlCQUFpQixHQUFHLFVBQVVzQixRQUFRLEVBQUU7SUFDbkVBLFFBQVEsR0FBRyxJQUFJLENBQUM5QixrQkFBa0IsQ0FBQzhCLFFBQVEsRUFBRSxJQUFJLENBQUNuRCxTQUFTLENBQUM7SUFDNURtRCxRQUFRLEdBQUcsSUFBSSxDQUFDL0IseUJBQXlCLENBQUMrQixRQUFRLEVBQUUsSUFBSSxDQUFDakQsZ0JBQWdCLENBQUM7SUFDMUUsT0FBT2lELFFBQVE7RUFDakIsQ0FBQztFQUNEckQsa0JBQWtCLENBQUN3QyxTQUFTLENBQUNtQyxlQUFlLEdBQUcsWUFBWTtJQUN6RCxPQUFPLElBQUksQ0FBQzdELFNBQVM7RUFDdkIsQ0FBQztFQUNEZCxrQkFBa0IsQ0FBQ2dCLEtBQUssR0FBRyxDQUFDLENBQUM7RUFDN0IsT0FBT2hCLGtCQUFrQjtBQUMzQixDQUFDLEVBQUc7QUFDSjRFLDBCQUEwQixHQUFHNUUsa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS9tYW5pZmVzdC9wYXJzZXIvc2VnbWVudC1pbmZvcm1hdGlvbi5qcz8wZjU1Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgWmVyb1BhZGRpbmdfMSA9IHJlcXVpcmUoXCIuLi8uLi91dGlsL3plcm8tcGFkZGluZ1wiKTtcbmNvbnN0IE1lZGlhVXJsXzEgPSByZXF1aXJlKFwiLi9tZWRpYS11cmxcIik7XG5sZXQgQ1JFQVRFX1VSTDtcbihmdW5jdGlvbiAoQ1JFQVRFX1VSTCkge1xuICBDUkVBVEVfVVJMW0NSRUFURV9VUkxbXCJGUk9NX1RFTVBMQVRFXCJdID0gMF0gPSBcIkZST01fVEVNUExBVEVcIjtcbiAgQ1JFQVRFX1VSTFtDUkVBVEVfVVJMW1wiRlJPTV9USU1FTElORVwiXSA9IDFdID0gXCJGUk9NX1RJTUVMSU5FXCI7XG4gIENSRUFURV9VUkxbQ1JFQVRFX1VSTFtcIkZST01fU0VHTUVOVExJU1RcIl0gPSAyXSA9IFwiRlJPTV9TRUdNRU5UTElTVFwiO1xuICBDUkVBVEVfVVJMW0NSRUFURV9VUkxbXCJGUk9NX1NFR01FTlRfQkFTRVwiXSA9IDNdID0gXCJGUk9NX1NFR01FTlRfQkFTRVwiO1xufSkoQ1JFQVRFX1VSTCB8fCAoQ1JFQVRFX1VSTCA9IHt9KSk7XG5jb25zdCBTZWdtZW50SW5mb3JtYXRpb24gPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTZWdtZW50SW5mb3JtYXRpb24gKHByZXNlbnRhdGlvbkR1cmF0aW9uLCBiYW5kd2lkdGgsIGJhc2VVcmwsIHJlcHJlc2VudGF0aW9uSUQsIG1pbWVUeXBlLCBzZWdtZW50QmFzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWdtZW50VGVtcGxhdGUsIHNlZ21lbnRUaW1lbGluZSwgdGltZWxpbmVJdGVtTGlzdCwgc2VnbWVudExpc3QsIHNlZ21lbnRVcmxMaXN0KSB7XG4gICAgdGhpcy5oYXNTZWdtZW50QmFzZSA9IGZhbHNlO1xuICAgIHRoaXMuYmFzZVVybCA9ICcnO1xuICAgIHRoaXMucHJlc2VudGF0aW9uRHVyYXRpb24gPSAwO1xuICAgIHRoaXMuYmFuZHdpZHRoID0gMDtcbiAgICB0aGlzLnN0YXJ0TnVtYmVyID0gMDtcbiAgICB0aGlzLm1lZGlhVXJscyA9IFtdO1xuICAgIHRoaXMud2hpY2hVc2VDYXNlID0gLTE7XG4gICAgdGhpcy5taW1lVHlwZSA9ICcnO1xuICAgIFNlZ21lbnRJbmZvcm1hdGlvbi5jb3VudCArPSAxO1xuICAgIHRoaXMucHJlc2VudGF0aW9uRHVyYXRpb24gPSBwcmVzZW50YXRpb25EdXJhdGlvbjtcbiAgICB0aGlzLm1pbWVUeXBlID0gbWltZVR5cGU7XG4gICAgaWYgKGJhc2VVcmwpIHtcbiAgICAgIHRoaXMuYmFzZVVybCA9IGJhc2VVcmw7XG4gICAgfVxuXG4gICAgaWYgKGJhbmR3aWR0aCkge1xuICAgICAgdGhpcy5iYW5kd2lkdGggPSBiYW5kd2lkdGg7XG4gICAgfVxuICAgIGlmIChyZXByZXNlbnRhdGlvbklEKSB7XG4gICAgICB0aGlzLnJlcHJlc2VudGF0aW9uSUQgPSByZXByZXNlbnRhdGlvbklEO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudEJhc2UpIHtcbiAgICAgIHRoaXMuc2VnbWVudEJhc2UgPSBzZWdtZW50QmFzZTtcbiAgICAgIHRoaXMuaGFzU2VnbWVudEJhc2UgPSB0cnVlO1xuICAgICAgdGhpcy53aGljaFVzZUNhc2UgPSBDUkVBVEVfVVJMLkZST01fU0VHTUVOVF9CQVNFO1xuICAgIH1cbiAgICBpZiAoc2VnbWVudFRlbXBsYXRlKSB7XG4gICAgICB0aGlzLnNlZ21lbnRUZW1wbGF0ZSA9IHNlZ21lbnRUZW1wbGF0ZTtcbiAgICAgIHRoaXMubWVkaWFUZW1wbGF0ZSA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWVkaWFcIikubm9kZVZhbHVlO1xuICAgICAgdGhpcy5tZWRpYVRlbXBsYXRlID0gdGhpcy5yZXBsYWNlJFJlcHJlc2VudGF0aW9uSUQkKHRoaXMubWVkaWFUZW1wbGF0ZSwgdGhpcy5yZXByZXNlbnRhdGlvbklEKTtcbiAgICAgIHRoaXMubWVkaWFUZW1wbGF0ZSA9IHRoaXMucmVwbGFjZSRCYW5kd2lkdGgkKHRoaXMubWVkaWFUZW1wbGF0ZSwgdGhpcy5iYW5kd2lkdGgpO1xuICAgICAgdGhpcy5zdGFydE51bWJlciA9ICh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInN0YXJ0TnVtYmVyXCIpKSA/IHBhcnNlSW50KFxuICAgICAgICAgIHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwic3RhcnROdW1iZXJcIikubm9kZVZhbHVlKSA6IDA7XG4gICAgICB0aGlzLndoaWNoVXNlQ2FzZSA9IENSRUFURV9VUkwuRlJPTV9URU1QTEFURTtcbiAgICB9XG4gICAgaWYgKHNlZ21lbnRUaW1lbGluZSkge1xuICAgICAgdGhpcy5zZWdtZW50VGltZWxpbmUgPSBzZWdtZW50VGltZWxpbmU7XG4gICAgfVxuICAgIGlmICh0aW1lbGluZUl0ZW1MaXN0KSB7XG4gICAgICB0aGlzLnRpbWVsaW5lSXRlbUxpc3QgPSB0aW1lbGluZUl0ZW1MaXN0O1xuICAgICAgdGhpcy53aGljaFVzZUNhc2UgPSBDUkVBVEVfVVJMLkZST01fVElNRUxJTkU7XG4gICAgfVxuICAgIGlmIChzZWdtZW50TGlzdCkge1xuICAgICAgdGhpcy5zZWdtZW50TGlzdCA9IHNlZ21lbnRMaXN0O1xuICAgIH1cbiAgICBpZiAoc2VnbWVudFVybExpc3QpIHtcbiAgICAgIHRoaXMuc2VnbWVudFVybExpc3QgPSBzZWdtZW50VXJsTGlzdDtcbiAgICAgIHRoaXMud2hpY2hVc2VDYXNlID0gQ1JFQVRFX1VSTC5GUk9NX1NFR01FTlRMSVNUO1xuICAgIH1cbiAgICBsZXQgaGFzRmlsZUV4dGVuc2lvbiA9IGZhbHNlO1xuICAgIGxldCBpbml0U2VnbWVudCA9ICcnO1xuICAgIHN3aXRjaCAodGhpcy53aGljaFVzZUNhc2UpIHtcbiAgICAgIGNhc2UgQ1JFQVRFX1VSTC5GUk9NX1NFR01FTlRMSVNUOlxuICAgICAgICB0aGlzLmNyZWF0ZUZyYWdtZW50RnJvbVVybExpc3QodGhpcy5zZWdtZW50VXJsTGlzdCk7XG4gICAgICAgIGluaXRTZWdtZW50ID0gdGhpcy5jcmVhdGVJbml0U2VnbWVudChcbiAgICAgICAgICAgIHRoaXMuc2VnbWVudExpc3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ0luaXRpYWxpemF0aW9uJylbMF0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJzb3VyY2VVUkxcIikubm9kZVZhbHVlKTtcbiAgICAgICAgdGhpcy5tZWRpYVVybHMudW5zaGlmdChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybCh0aGlzLmJhc2VVcmwsIGluaXRTZWdtZW50LCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgICAgIGlmIChTZWdtZW50SW5mb3JtYXRpb24uY291bnQgPT0gMCkge1xuICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdDUkVBVEVfVVJMLkZST01fU0VHTUVOVExJU1QnLCB0aGlzLm1lZGlhVXJscywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1JFQVRFX1VSTC5GUk9NX1RJTUVMSU5FOlxuICAgICAgICBpbml0U2VnbWVudCA9IHRoaXMuY3JlYXRlSW5pdFNlZ21lbnQodGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJpbml0aWFsaXphdGlvblwiKS5ub2RlVmFsdWUpO1xuICAgICAgICB0aGlzLm1lZGlhVXJscy51bnNoaWZ0KG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgaW5pdFNlZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgdGhpcy5jcmVhdGVGcmFnbWVudFVybHNGcm9tVGltZWxpbmUodGhpcy50aW1lbGluZUl0ZW1MaXN0KTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1JFQVRFX1VSTC5GUk9NX1NFR01FTlRfQkFTRTpcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBoYXNGaWxlRXh0ZW5zaW9uID0gKHRoaXMuYmFzZVVybC5pbmRleE9mKCcuJykgIT09IC0xKSA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgICAgaWYgKGhhc0ZpbGVFeHRlbnNpb24pIHtcbiAgICAgICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgdGhpcy5iYXNlVXJsLCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFNlZ21lbnRJbmZvcm1hdGlvbi5jb3VudCA9PSAwKSB7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coJ0NSRUFURV9VUkwuRlJPTV9TRUdNRU5UX0JBU0UnLCB0aGlzLm1lZGlhVXJscywgdGhpcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgQ1JFQVRFX1VSTC5GUk9NX1RFTVBMQVRFOlxuICAgICAgICB0aGlzLmNyZWF0ZUZyYWdtZW50c0Zyb21UZW1wbGF0ZSgpO1xuICAgICAgICBpbml0U2VnbWVudCA9IHRoaXMuY3JlYXRlSW5pdFNlZ21lbnQodGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJpbml0aWFsaXphdGlvblwiKS5ub2RlVmFsdWUpO1xuICAgICAgICB0aGlzLm1lZGlhVXJscy51bnNoaWZ0KG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgaW5pdFNlZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaGFzRmlsZUV4dGVuc2lvbiA9ICh0aGlzLmJhc2VVcmwuaW5kZXhPZignLicpICE9PSAtMSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIGlmIChoYXNGaWxlRXh0ZW5zaW9uKSB7XG4gICAgICAgICAgdGhpcy5tZWRpYVVybHMucHVzaChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybChcIlwiLCB0aGlzLmJhc2VVcmwsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUuY3JlYXRlRnJhZ21lbnRVcmxzRnJvbVRpbWVsaW5lID0gZnVuY3Rpb24gKHNlZ21lbnROb2Rlcykge1xuICAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwicHJlc2VudGF0aW9uVGltZU9mZnNldFwiKTtcbiAgICBpZiAoY3VycmVudFRpbWUpIHtcbiAgICAgIGN1cnJlbnRUaW1lID0gcGFyc2VJbnQoY3VycmVudFRpbWUubm9kZVZhbHVlLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRUaW1lID0gMDtcbiAgICB9XG4gICAgbGV0IGhhc0N1cnJlbnRUaW1lID0gZmFsc2U7XG4gICAgbGV0IHRpbWUgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudE5vZGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoaSA+IDAgJiYgc2VnbWVudE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwidFwiKSAmJiBzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXG4gICAgICAgICAgICAgIFwidFwiKS5ub2RlVmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBoYXNDdXJyZW50VGltZSA9IHRydWU7XG4gICAgICAgIHRpbWUgPSBwYXJzZUludChzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJ0XCIpLm5vZGVWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBoYXNDdXJyZW50VGltZSA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgY29uc3QgZHVyYXRpb24gPSAoc2VnbWVudE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiZFwiKSAmJiBzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXG4gICAgICAgICAgXCJkXCIpLm5vZGVWYWx1ZSAhPT0gdW5kZWZpbmVkKSA/IHBhcnNlSW50KHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImRcIikubm9kZVZhbHVlKSA6IDA7XG4gICAgICBjb25zdCByZXBlYXQgPSAoc2VnbWVudE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwiclwiKSAmJiBzZWdtZW50Tm9kZXNbaV0uYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXG4gICAgICAgICAgXCJyXCIpLm5vZGVWYWx1ZSAhPT0gdW5kZWZpbmVkKSA/IHBhcnNlSW50KHNlZ21lbnROb2Rlc1tpXS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInJcIikubm9kZVZhbHVlKSA6IDA7XG4gICAgICBmb3IgKGxldCBrID0gMTsgayA8PSByZXBlYXQ7IGsrKykge1xuICAgICAgICBsZXQgZnJhZ21lbnRfMSA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWVkaWFcIikubm9kZVZhbHVlO1xuICAgICAgICBmcmFnbWVudF8xID0gdGhpcy5yZXBsYWNlJFJlcHJlc2VudGF0aW9uSUQkKGZyYWdtZW50XzEsIHRoaXMucmVwcmVzZW50YXRpb25JRCk7XG4gICAgICAgIGZyYWdtZW50XzEgPSB0aGlzLnJlcGxhY2UkVGltZSQoZnJhZ21lbnRfMSwgY3VycmVudFRpbWUpO1xuICAgICAgICBmcmFnbWVudF8xID0gdGhpcy5yZXBsYWNlJEJhbmR3aWR0aCQoZnJhZ21lbnRfMSwgdGhpcy5iYW5kd2lkdGgpO1xuXG4gICAgICAgIHRoaXMubWVkaWFVcmxzLnB1c2gobmV3IE1lZGlhVXJsXzEuTWVkaWFVcmwodGhpcy5iYXNlVXJsLCBmcmFnbWVudF8xLCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgICAgIGlmICghaGFzQ3VycmVudFRpbWUpIHtcbiAgICAgICAgICBjdXJyZW50VGltZSArPSBkdXJhdGlvbjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxldCBmcmFnbWVudCA9IHRoaXMuc2VnbWVudFRlbXBsYXRlLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWVkaWFcIikubm9kZVZhbHVlO1xuICAgICAgZnJhZ21lbnQgPSB0aGlzLnJlcGxhY2UkUmVwcmVzZW50YXRpb25JRCQoZnJhZ21lbnQsIHRoaXMucmVwcmVzZW50YXRpb25JRCk7XG4gICAgICBmcmFnbWVudCA9IHRoaXMucmVwbGFjZSRUaW1lJChmcmFnbWVudCwgY3VycmVudFRpbWUpO1xuICAgICAgZnJhZ21lbnQgPSB0aGlzLnJlcGxhY2UkQmFuZHdpZHRoJChmcmFnbWVudCwgdGhpcy5iYW5kd2lkdGgpO1xuXG4gICAgICB0aGlzLm1lZGlhVXJscy5wdXNoKG5ldyBNZWRpYVVybF8xLk1lZGlhVXJsKHRoaXMuYmFzZVVybCwgZnJhZ21lbnQsIHRoaXMubWltZVR5cGUpKTtcbiAgICAgIGlmICghaGFzQ3VycmVudFRpbWUpIHtcbiAgICAgICAgY3VycmVudFRpbWUgKz0gZHVyYXRpb247XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50VGltZSA9IHRpbWU7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLmNyZWF0ZUZyYWdtZW50RnJvbVVybExpc3QgPSBmdW5jdGlvbiAodXJsTGlzdE5vZGVzKSB7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB1cmxMaXN0Tm9kZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNvbnN0IGZyYWdtZW50ID0gdXJsTGlzdE5vZGVzW2ldLmF0dHJpYnV0ZXMuZ2V0TmFtZWRJdGVtKFwibWVkaWFcIikubm9kZVZhbHVlO1xuICAgICAgdGhpcy5tZWRpYVVybHMucHVzaChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybCh0aGlzLmJhc2VVcmwsIGZyYWdtZW50LCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgfVxuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLmNyZWF0ZUZyYWdtZW50c0Zyb21UZW1wbGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBzZWdtZW50RHVyYXRpb24gPSBwYXJzZUludCh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcImR1cmF0aW9uXCIpLm5vZGVWYWx1ZSk7XG4gICAgY29uc3Qgc2VnbWVudFRpbWVzY2FsZSA9ICh0aGlzLnNlZ21lbnRUZW1wbGF0ZS5hdHRyaWJ1dGVzLmdldE5hbWVkSXRlbShcInRpbWVzY2FsZVwiKSkgPyBwYXJzZUludChcbiAgICAgICAgdGhpcy5zZWdtZW50VGVtcGxhdGUuYXR0cmlidXRlcy5nZXROYW1lZEl0ZW0oXCJ0aW1lc2NhbGVcIikubm9kZVZhbHVlKSA6IDE7XG4gICAgY29uc3QgbnVtU2VnbWVudHMgPSBNYXRoLmNlaWwodGhpcy5wcmVzZW50YXRpb25EdXJhdGlvbiAvIChzZWdtZW50RHVyYXRpb24gLyBzZWdtZW50VGltZXNjYWxlKSAvIDEwMDApO1xuICAgIGNvbnN0IG1lZGlhVGVtcGxhdGVTdHJpbmdTZWdtZW50ID0gdGhpcy5tZWRpYVRlbXBsYXRlLnNwbGl0KCckJyk7XG4gICAgbGV0IHRlbXBsYXRlUmVwbGFjZWFibGVJbmRleDtcbiAgICBjb25zdCBzdGFydE51bWJlciA9IHRoaXMuc3RhcnROdW1iZXIgfHwgMDtcbiAgICBmb3IgKGxldCBrID0gMDsgayA8IG1lZGlhVGVtcGxhdGVTdHJpbmdTZWdtZW50Lmxlbmd0aDsgaysrKSB7XG4gICAgICBpZiAobWVkaWFUZW1wbGF0ZVN0cmluZ1NlZ21lbnRba10uaW5kZXhPZignTnVtYmVyJykgIT0gLTEpIHtcbiAgICAgICAgdGVtcGxhdGVSZXBsYWNlYWJsZUluZGV4ID0gJyQnICsgbWVkaWFUZW1wbGF0ZVN0cmluZ1NlZ21lbnRba10gKyAnJCc7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHBhZGRpbmdBbW91bnQgPSBaZXJvUGFkZGluZ18xLlplcm9QYWRkaW5nLmdldFBhZGRpbmdBbW91bnQodGVtcGxhdGVSZXBsYWNlYWJsZUluZGV4KTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnROdW1iZXI7IGkgPCBudW1TZWdtZW50cyArIHN0YXJ0TnVtYmVyOyBpKyspIHtcbiAgICAgIGNvbnN0IHNlZ21lbnRJbmRleCA9IFplcm9QYWRkaW5nXzEuWmVyb1BhZGRpbmcuYWRkUGFkZGluZyhpLCBwYWRkaW5nQW1vdW50KTtcbiAgICAgIGxldCBmcmFnbWVudDtcbiAgICAgIGlmIChwYWRkaW5nQW1vdW50ID09PSAwKSB7XG4gICAgICAgIGZyYWdtZW50ID0gdGhpcy5yZXBsYWNlJE51bWJlciQodGhpcy5tZWRpYVRlbXBsYXRlLCBpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZyYWdtZW50ID0gdGhpcy5tZWRpYVRlbXBsYXRlLnJlcGxhY2UodGVtcGxhdGVSZXBsYWNlYWJsZUluZGV4LCBzZWdtZW50SW5kZXgpO1xuICAgICAgfVxuICAgICAgdGhpcy5tZWRpYVVybHMucHVzaChuZXcgTWVkaWFVcmxfMS5NZWRpYVVybCh0aGlzLmJhc2VVcmwsIGZyYWdtZW50LCB0aGlzLm1pbWVUeXBlKSk7XG4gICAgfVxuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLnJlcGxhY2UkUmVwcmVzZW50YXRpb25JRCQgPSBmdW5jdGlvbiAoZnJhZ21lbnQsIGlkKSB7XG4gICAgcmV0dXJuIGZyYWdtZW50LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXCRSZXByZXNlbnRhdGlvbklEXFxcXCQnLCAnZycpLCBpZCk7XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUucmVwbGFjZSROdW1iZXIkID0gZnVuY3Rpb24gKGZyYWdtZW50LCBudW0pIHtcbiAgICByZXR1cm4gZnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcJE51bWJlclxcXFwkJywgJ2cnKSwgbnVtLnRvU3RyaW5nKCkpO1xuICB9O1xuICBTZWdtZW50SW5mb3JtYXRpb24ucHJvdG90eXBlLnJlcGxhY2UkQmFuZHdpZHRoJCA9IGZ1bmN0aW9uIChmcmFnbWVudCwgYmFuZHdpZHRoKSB7XG4gICAgcmV0dXJuIGZyYWdtZW50LnJlcGxhY2UobmV3IFJlZ0V4cCgnXFxcXCRCYW5kd2lkdGhcXFxcJCcsICdnJyksIGJhbmR3aWR0aC50b1N0cmluZygpKTtcbiAgfTtcbiAgU2VnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5yZXBsYWNlJFRpbWUkID0gZnVuY3Rpb24gKGZyYWdtZW50LCBjdXJyZW50SW5kZXgpIHtcbiAgICByZXR1cm4gZnJhZ21lbnQucmVwbGFjZShuZXcgUmVnRXhwKCdcXFxcJFRpbWVcXFxcJCcsICdnJyksIGN1cnJlbnRJbmRleC50b1N0cmluZygpKTtcbiAgfTtcbiAgU2VnbWVudEluZm9ybWF0aW9uLnByb3RvdHlwZS5jcmVhdGVJbml0U2VnbWVudCA9IGZ1bmN0aW9uIChmcmFnbWVudCkge1xuICAgIGZyYWdtZW50ID0gdGhpcy5yZXBsYWNlJEJhbmR3aWR0aCQoZnJhZ21lbnQsIHRoaXMuYmFuZHdpZHRoKTtcbiAgICBmcmFnbWVudCA9IHRoaXMucmVwbGFjZSRSZXByZXNlbnRhdGlvbklEJChmcmFnbWVudCwgdGhpcy5yZXByZXNlbnRhdGlvbklEKTtcbiAgICByZXR1cm4gZnJhZ21lbnQ7XG4gIH07XG4gIFNlZ21lbnRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0TWVkaWFVcmxMaXN0ID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLm1lZGlhVXJscztcbiAgfTtcbiAgU2VnbWVudEluZm9ybWF0aW9uLmNvdW50ID0gLTE7XG4gIHJldHVybiBTZWdtZW50SW5mb3JtYXRpb247XG59KCkpO1xuZXhwb3J0cy5TZWdtZW50SW5mb3JtYXRpb24gPSBTZWdtZW50SW5mb3JtYXRpb247XG4iXSwibmFtZXMiOlsiWmVyb1BhZGRpbmdfMSIsInJlcXVpcmUiLCJNZWRpYVVybF8xIiwiQ1JFQVRFX1VSTCIsIlNlZ21lbnRJbmZvcm1hdGlvbiIsInByZXNlbnRhdGlvbkR1cmF0aW9uIiwiYmFuZHdpZHRoIiwiYmFzZVVybCIsInJlcHJlc2VudGF0aW9uSUQiLCJtaW1lVHlwZSIsInNlZ21lbnRCYXNlIiwic2VnbWVudFRlbXBsYXRlIiwic2VnbWVudFRpbWVsaW5lIiwidGltZWxpbmVJdGVtTGlzdCIsInNlZ21lbnRMaXN0Iiwic2VnbWVudFVybExpc3QiLCJoYXNTZWdtZW50QmFzZSIsInN0YXJ0TnVtYmVyIiwibWVkaWFVcmxzIiwid2hpY2hVc2VDYXNlIiwiY291bnQiLCJGUk9NX1NFR01FTlRfQkFTRSIsIm1lZGlhVGVtcGxhdGUiLCJhdHRyaWJ1dGVzIiwiZ2V0TmFtZWRJdGVtIiwibm9kZVZhbHVlIiwicmVwbGFjZSRSZXByZXNlbnRhdGlvbklEJCIsInJlcGxhY2UkQmFuZHdpZHRoJCIsInBhcnNlSW50IiwiRlJPTV9URU1QTEFURSIsIkZST01fVElNRUxJTkUiLCJGUk9NX1NFR01FTlRMSVNUIiwiaGFzRmlsZUV4dGVuc2lvbiIsImluaXRTZWdtZW50IiwiY3JlYXRlRnJhZ21lbnRGcm9tVXJsTGlzdCIsImNyZWF0ZUluaXRTZWdtZW50IiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ1bnNoaWZ0IiwiTWVkaWFVcmwiLCJjcmVhdGVGcmFnbWVudFVybHNGcm9tVGltZWxpbmUiLCJpbmRleE9mIiwiZSIsInB1c2giLCJjcmVhdGVGcmFnbWVudHNGcm9tVGVtcGxhdGUiLCJwcm90b3R5cGUiLCJzZWdtZW50Tm9kZXMiLCJjdXJyZW50VGltZSIsImhhc0N1cnJlbnRUaW1lIiwidGltZSIsImkiLCJsZW5ndGgiLCJ1bmRlZmluZWQiLCJkdXJhdGlvbiIsInJlcGVhdCIsImsiLCJmcmFnbWVudF8xIiwicmVwbGFjZSRUaW1lJCIsImZyYWdtZW50IiwidXJsTGlzdE5vZGVzIiwic2VnbWVudER1cmF0aW9uIiwic2VnbWVudFRpbWVzY2FsZSIsIm51bVNlZ21lbnRzIiwiTWF0aCIsImNlaWwiLCJtZWRpYVRlbXBsYXRlU3RyaW5nU2VnbWVudCIsInNwbGl0IiwidGVtcGxhdGVSZXBsYWNlYWJsZUluZGV4IiwicGFkZGluZ0Ftb3VudCIsIlplcm9QYWRkaW5nIiwiZ2V0UGFkZGluZ0Ftb3VudCIsInNlZ21lbnRJbmRleCIsImFkZFBhZGRpbmciLCJyZXBsYWNlJE51bWJlciQiLCJyZXBsYWNlIiwiaWQiLCJSZWdFeHAiLCJudW0iLCJ0b1N0cmluZyIsImN1cnJlbnRJbmRleCIsImdldE1lZGlhVXJsTGlzdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///4749\n')},9837:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("/*eslint no-console: [\"error\", { allow: [\"warn\", \"error\", \"info\", \"log\"] }] */\n/*eslint no-sync: [\"off\"]*/\n\n\nvar isPortTaken = __webpack_require__(3721);\nvar path = __webpack_require__(1017);\nvar fs = __webpack_require__(7147);\nvar fork = (__webpack_require__(2081).fork);\nvar appSettings = __webpack_require__(9277);\nvar _require = __webpack_require__(7194),\n  app = _require.app;\nvar CHILD_SCRIPT_FILENAME = 'startServer.js';\n\n/**\n * Offline content server\n * @param {object} offlineController : offline controller\n * @param {object} downloadController : download controller\n * @param {string} maxOfflineContentPortRange - max range for offline port to on which content can be served\n * @param {string} offlineContentPort - on which port offline content should be served, default is 3010\n * @constructor\n */\nfunction OfflineContentServer(offlineController, downloadController, maxOfflineContentPortRange, offlineContentPort) {\n  this._offlineController = offlineController;\n  this._downloadController = downloadController;\n  this._maxOfflineContentPortRange = maxOfflineContentPortRange;\n  this._offlineContentPort = offlineContentPort;\n  this.childProcess = undefined;\n}\n\n/**\n * Start http server in a child_process\n * @param {object} port : on which port offline content should be served, default is 3010\n * @param {object} callback : a callback function to get listen port (if default is already taken)\n * @constructor\n */\nOfflineContentServer.prototype._startServer = function (port, callback) {\n  var self = this;\n\n  // NOTE: this is so ugly FIXME\n  var serverPath = path.join(app.getAppPath(), 'node_modules/downstream-electron');\n  if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n    serverPath = path.join(app.getAppPath(), 'node_modules/downstream-electron/api/server');\n    if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n      serverPath = app.getAppPath();\n      if (!fs.existsSync(path.join(serverPath, CHILD_SCRIPT_FILENAME))) {\n        serverPath = __dirname;\n      }\n    }\n  }\n  console.log('Server Path:', serverPath);\n  var script = path.join(serverPath, CHILD_SCRIPT_FILENAME);\n  console.log('Script for server:', script);\n\n  //  FOR DEBUG PURPOSE self.childProcess = fork(script ,[],{execArgv:['--inspect=5860']});\n  self.childProcess = fork(script, []);\n  var routeName = appSettings.getSettings().downloadsName;\n\n  // send init data for http server\n  var data = {\n    cmd: 'init',\n    routeName: routeName,\n    port: port\n  };\n  self.childProcess.send(data);\n  self.childProcess.on('error', function (err) {\n    console.error(err);\n  });\n  // handles message from child process\n  self.childProcess.on('message', function (data) {\n    if (data.cmd === 'log') {\n      // http server wants to log some data\n      console.log(data.log);\n    }\n    if (data.cmd === 'listening_port') {\n      // http server is listening => notify application for listen port\n      callback(data.port);\n    }\n    if (data.cmd === 'get_info') {\n      var requestId = data.requestId;\n      // http server asks data folder for manifest id\n      var manifestId = data.args.manifest;\n      self._offlineController.getManifestInfo(manifestId, function (err, info) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: requestId\n          });\n        }\n        var downloadFolder = info.manifest.folder;\n        if (!downloadFolder) {\n          // try to serve from default download folder\n          downloadFolder = appSettings.getSettings().downloadsFolderPath;\n        }\n\n        // send response back\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: requestId,\n          result: {\n            folder: downloadFolder,\n            status: info.status\n          }\n        });\n      });\n    }\n    if (data.cmd === 'is_downloading') {\n      var _requestId = data.requestId;\n      var _manifestId = data.args.manifest;\n      var file = data.args.file;\n      var download = self._downloadController.getDownloading(_manifestId, file);\n      var downloadedCallback = function downloadedCallback(err) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: _requestId\n          });\n        }\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: _requestId\n        });\n      };\n      if (download) {\n        // file is created but being downloading => wait for download before sending result\n        self._downloadController.waitForDownload(download, downloadedCallback);\n      } else {\n        return downloadedCallback();\n      }\n    }\n    if (data.cmd === 'perform_seek') {\n      var _requestId2 = data.requestId;\n      var _manifestId2 = data.args.manifest;\n      var _file = data.args.file;\n      var _downloadedCallback = function _downloadedCallback(err) {\n        if (err) {\n          return self.childProcess.send({\n            error: err,\n            requestId: _requestId2\n          });\n        }\n        return self.childProcess.send({\n          status: 'OK',\n          requestId: _requestId2\n        });\n      };\n      self._downloadController.performSeek(_manifestId2, _file, _downloadedCallback);\n    }\n  });\n  self.childProcess.on('close', function (code, signal) {\n    // child has closed\n    if (code == null) {\n      console.log('Child process closed with signal:', signal);\n    } else {\n      console.log('Child process closed with code:', code);\n    }\n  });\n};\n/**\n * @param {Function} callback - a callback function to get listen port (if default is taken)\n * @constructor\n */\nOfflineContentServer.prototype.serveOfflineContent = function (callback) {\n  var self = this;\n  function startOnPort(port) {\n    if (port > self._maxOfflineContentPortRange) {\n      return;\n    }\n    isPortTaken(port, function (err) {\n      if (err) {\n        port++;\n        startOnPort(port);\n      } else {\n        console.log('Port found:', port);\n        self._startServer(port, function () {\n          self._offlineContentPort = port;\n          callback(self._offlineContentPort);\n          console.info('Offline content served on port:', port);\n        });\n      }\n    });\n  }\n  startOnPort(this._offlineContentPort);\n};\n\n/*\n * Stop server process\n * @returns\n */\nOfflineContentServer.prototype.stop = function () {\n  this.childProcess.kill('SIGTERM');\n};\nmodule.exports = OfflineContentServer;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTgzNy5qcyIsIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ2E7O0FBRWIsSUFBTUEsV0FBVyxHQUFHQyxtQkFBTyxDQUFDLElBQXVCLENBQUM7QUFDcEQsSUFBTUMsSUFBSSxHQUFHRCxtQkFBTyxDQUFDLElBQU0sQ0FBQztBQUM1QixJQUFNRSxFQUFFLEdBQUdGLG1CQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLElBQUlHLElBQUksR0FBR0gsZ0NBQTZCO0FBQ3hDLElBQU1JLFdBQVcsR0FBR0osbUJBQU8sQ0FBQyxJQUFpQixDQUFDO0FBQzlDLGVBQWNBLG1CQUFPLENBQUMsSUFBVSxDQUFDO0VBQTFCSyxHQUFHLFlBQUhBLEdBQUc7QUFFVixJQUFNQyxxQkFBcUIsR0FBRyxnQkFBZ0I7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTQyxvQkFBb0IsQ0FBRUMsaUJBQWlCLEVBQUVDLGtCQUFrQixFQUFFQywwQkFBMEIsRUFBRUMsa0JBQWtCLEVBQUU7RUFDcEgsSUFBSSxDQUFDQyxrQkFBa0IsR0FBR0osaUJBQWlCO0VBQzNDLElBQUksQ0FBQ0ssbUJBQW1CLEdBQUdKLGtCQUFrQjtFQUM3QyxJQUFJLENBQUNLLDJCQUEyQixHQUFHSiwwQkFBMEI7RUFDN0QsSUFBSSxDQUFDSyxtQkFBbUIsR0FBR0osa0JBQWtCO0VBQzdDLElBQUksQ0FBQ0ssWUFBWSxHQUFHQyxTQUFTO0FBQy9COztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBVixvQkFBb0IsQ0FBQ1csU0FBUyxDQUFDQyxZQUFZLEdBQUcsVUFBVUMsSUFBSSxFQUFFQyxRQUFRLEVBQUU7RUFDdEUsSUFBSUMsSUFBSSxHQUFHLElBQUk7O0VBRWY7RUFDQSxJQUFJQyxVQUFVLEdBQUd0QixJQUFJLENBQUN1QixJQUFJLENBQUNuQixHQUFHLENBQUNvQixVQUFVLEVBQUUsRUFBRSxrQ0FBa0MsQ0FBQztFQUNoRixJQUFJLENBQUN2QixFQUFFLENBQUN3QixVQUFVLENBQUN6QixJQUFJLENBQUN1QixJQUFJLENBQUNELFVBQVUsRUFBRWpCLHFCQUFxQixDQUFDLENBQUMsRUFBRTtJQUNoRWlCLFVBQVUsR0FBR3RCLElBQUksQ0FBQ3VCLElBQUksQ0FBQ25CLEdBQUcsQ0FBQ29CLFVBQVUsRUFBRSxFQUFFLDZDQUE2QyxDQUFDO0lBQ3ZGLElBQUksQ0FBQ3ZCLEVBQUUsQ0FBQ3dCLFVBQVUsQ0FBQ3pCLElBQUksQ0FBQ3VCLElBQUksQ0FBQ0QsVUFBVSxFQUFFakIscUJBQXFCLENBQUMsQ0FBQyxFQUFFO01BQ2hFaUIsVUFBVSxHQUFHbEIsR0FBRyxDQUFDb0IsVUFBVSxFQUFFO01BQzdCLElBQUksQ0FBQ3ZCLEVBQUUsQ0FBQ3dCLFVBQVUsQ0FBQ3pCLElBQUksQ0FBQ3VCLElBQUksQ0FBQ0QsVUFBVSxFQUFFakIscUJBQXFCLENBQUMsQ0FBQyxFQUFFO1FBQ2hFaUIsVUFBVSxHQUFHSSxTQUFTO01BQ3hCO0lBQ0Y7RUFDRjtFQUVBQyxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLEVBQUVOLFVBQVUsQ0FBQztFQUN2QyxJQUFJTyxNQUFNLEdBQUc3QixJQUFJLENBQUN1QixJQUFJLENBQUNELFVBQVUsRUFBRWpCLHFCQUFxQixDQUFDO0VBQ3pEc0IsT0FBTyxDQUFDQyxHQUFHLENBQUMsb0JBQW9CLEVBQUVDLE1BQU0sQ0FBQzs7RUFFekM7RUFDQVIsSUFBSSxDQUFDTixZQUFZLEdBQUdiLElBQUksQ0FBQzJCLE1BQU0sRUFBRSxFQUFFLENBQUM7RUFDcEMsSUFBSUMsU0FBUyxHQUFHM0IsV0FBVyxDQUFDNEIsV0FBVyxFQUFFLENBQUNDLGFBQWE7O0VBRXZEO0VBQ0EsSUFBSUMsSUFBSSxHQUFHO0lBQ1RDLEdBQUcsRUFBRSxNQUFNO0lBQ1hKLFNBQVMsRUFBRUEsU0FBUztJQUNwQlgsSUFBSSxFQUFFQTtFQUNSLENBQUM7RUFDREUsSUFBSSxDQUFDTixZQUFZLENBQUNvQixJQUFJLENBQUNGLElBQUksQ0FBQztFQUU1QlosSUFBSSxDQUFDTixZQUFZLENBQUNxQixFQUFFLENBQUMsT0FBTyxFQUFFLFVBQVVDLEdBQUcsRUFBRTtJQUMzQ1YsT0FBTyxDQUFDVyxLQUFLLENBQUNELEdBQUcsQ0FBQztFQUNwQixDQUFDLENBQUM7RUFDRjtFQUNBaEIsSUFBSSxDQUFDTixZQUFZLENBQUNxQixFQUFFLENBQUMsU0FBUyxFQUFFLFVBQVVILElBQUksRUFBRTtJQUM5QyxJQUFJQSxJQUFJLENBQUNDLEdBQUcsS0FBSyxLQUFLLEVBQUU7TUFDdEI7TUFDQVAsT0FBTyxDQUFDQyxHQUFHLENBQUNLLElBQUksQ0FBQ0wsR0FBRyxDQUFDO0lBQ3ZCO0lBRUEsSUFBSUssSUFBSSxDQUFDQyxHQUFHLEtBQUssZ0JBQWdCLEVBQUU7TUFDakM7TUFDQWQsUUFBUSxDQUFDYSxJQUFJLENBQUNkLElBQUksQ0FBQztJQUNyQjtJQUVBLElBQUljLElBQUksQ0FBQ0MsR0FBRyxLQUFLLFVBQVUsRUFBRTtNQUUzQixJQUFJSyxTQUFTLEdBQUdOLElBQUksQ0FBQ00sU0FBUztNQUM5QjtNQUNBLElBQUlDLFVBQVUsR0FBR1AsSUFBSSxDQUFDUSxJQUFJLENBQUNDLFFBQVE7TUFFbkNyQixJQUFJLENBQUNWLGtCQUFrQixDQUFDZ0MsZUFBZSxDQUFDSCxVQUFVLEVBQUUsVUFBVUgsR0FBRyxFQUFFTyxJQUFJLEVBQUU7UUFDdkUsSUFBSVAsR0FBRyxFQUFFO1VBQ1AsT0FBT2hCLElBQUksQ0FBQ04sWUFBWSxDQUFDb0IsSUFBSSxDQUFDO1lBQUNHLEtBQUssRUFBRUQsR0FBRztZQUN0QkUsU0FBUyxFQUFFQTtVQUNaLENBQUMsQ0FBQztRQUN0QjtRQUNBLElBQUlNLGNBQWMsR0FBR0QsSUFBSSxDQUFDRixRQUFRLENBQUNJLE1BQU07UUFDekMsSUFBSSxDQUFDRCxjQUFjLEVBQUU7VUFDbkI7VUFDQUEsY0FBYyxHQUFHMUMsV0FBVyxDQUFDNEIsV0FBVyxFQUFFLENBQUNnQixtQkFBbUI7UUFDaEU7O1FBRUE7UUFDQSxPQUFPMUIsSUFBSSxDQUFDTixZQUFZLENBQUNvQixJQUFJLENBQUM7VUFBQ2EsTUFBTSxFQUFFLElBQUk7VUFBRVQsU0FBUyxFQUFFQSxTQUFTO1VBQUVVLE1BQU0sRUFBRTtZQUFDSCxNQUFNLEVBQUVELGNBQWM7WUFBRUcsTUFBTSxFQUFFSixJQUFJLENBQUNJO1VBQU07UUFBQyxDQUFDLENBQUM7TUFDNUgsQ0FBQyxDQUFDO0lBQ0o7SUFFQSxJQUFJZixJQUFJLENBQUNDLEdBQUcsS0FBSyxnQkFBZ0IsRUFBRTtNQUNqQyxJQUFJSyxVQUFTLEdBQUdOLElBQUksQ0FBQ00sU0FBUztNQUM5QixJQUFJQyxXQUFVLEdBQUdQLElBQUksQ0FBQ1EsSUFBSSxDQUFDQyxRQUFRO01BQ25DLElBQUlRLElBQUksR0FBR2pCLElBQUksQ0FBQ1EsSUFBSSxDQUFDUyxJQUFJO01BRXpCLElBQUlDLFFBQVEsR0FBRzlCLElBQUksQ0FBQ1QsbUJBQW1CLENBQUN3QyxjQUFjLENBQUNaLFdBQVUsRUFBRVUsSUFBSSxDQUFDO01BQ3hFLElBQUlHLGtCQUFrQixHQUFHLFNBQXJCQSxrQkFBa0IsQ0FBYWhCLEdBQUcsRUFBRTtRQUN0QyxJQUFJQSxHQUFHLEVBQUU7VUFDUCxPQUFPaEIsSUFBSSxDQUFDTixZQUFZLENBQUNvQixJQUFJLENBQUM7WUFBQ0csS0FBSyxFQUFFRCxHQUFHO1lBQUVFLFNBQVMsRUFBRUE7VUFBUyxDQUFDLENBQUM7UUFDbkU7UUFDQSxPQUFPbEIsSUFBSSxDQUFDTixZQUFZLENBQUNvQixJQUFJLENBQUM7VUFBQ2EsTUFBTSxFQUFFLElBQUk7VUFBRVQsU0FBUyxFQUFFQTtRQUFTLENBQUMsQ0FBQztNQUNyRSxDQUFDO01BQ0QsSUFBSVksUUFBUSxFQUFFO1FBQ1o7UUFDQTlCLElBQUksQ0FBQ1QsbUJBQW1CLENBQUMwQyxlQUFlLENBQUNILFFBQVEsRUFBRUUsa0JBQWtCLENBQUM7TUFDeEUsQ0FBQyxNQUFNO1FBQ0wsT0FBT0Esa0JBQWtCLEVBQUU7TUFDN0I7SUFDRjtJQUVBLElBQUlwQixJQUFJLENBQUNDLEdBQUcsS0FBSyxjQUFjLEVBQUU7TUFDL0IsSUFBSUssV0FBUyxHQUFHTixJQUFJLENBQUNNLFNBQVM7TUFDOUIsSUFBSUMsWUFBVSxHQUFHUCxJQUFJLENBQUNRLElBQUksQ0FBQ0MsUUFBUTtNQUNuQyxJQUFJUSxLQUFJLEdBQUdqQixJQUFJLENBQUNRLElBQUksQ0FBQ1MsSUFBSTtNQUN6QixJQUFJRyxtQkFBa0IsR0FBRyxTQUFyQkEsbUJBQWtCLENBQWFoQixHQUFHLEVBQUU7UUFDdEMsSUFBSUEsR0FBRyxFQUFFO1VBQ1AsT0FBT2hCLElBQUksQ0FBQ04sWUFBWSxDQUFDb0IsSUFBSSxDQUFDO1lBQUNHLEtBQUssRUFBRUQsR0FBRztZQUFFRSxTQUFTLEVBQUVBO1VBQVMsQ0FBQyxDQUFDO1FBQ25FO1FBQ0EsT0FBT2xCLElBQUksQ0FBQ04sWUFBWSxDQUFDb0IsSUFBSSxDQUFDO1VBQUNhLE1BQU0sRUFBRSxJQUFJO1VBQUVULFNBQVMsRUFBRUE7UUFBUyxDQUFDLENBQUM7TUFDckUsQ0FBQztNQUNEbEIsSUFBSSxDQUFDVCxtQkFBbUIsQ0FBQzJDLFdBQVcsQ0FBQ2YsWUFBVSxFQUFFVSxLQUFJLEVBQUVHLG1CQUFrQixDQUFDO0lBQzVFO0VBQ0YsQ0FBQyxDQUFDO0VBRUZoQyxJQUFJLENBQUNOLFlBQVksQ0FBQ3FCLEVBQUUsQ0FBQyxPQUFPLEVBQUUsVUFBVW9CLElBQUksRUFBRUMsTUFBTSxFQUFFO0lBQ3BEO0lBQ0EsSUFBSUQsSUFBSSxJQUFJLElBQUksRUFBRTtNQUNoQjdCLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLG1DQUFtQyxFQUFFNkIsTUFBTSxDQUFDO0lBQzFELENBQUMsTUFBTTtNQUNMOUIsT0FBTyxDQUFDQyxHQUFHLENBQUMsaUNBQWlDLEVBQUU0QixJQUFJLENBQUM7SUFDdEQ7RUFDRixDQUFDLENBQUM7QUFDSixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQWxELG9CQUFvQixDQUFDVyxTQUFTLENBQUN5QyxtQkFBbUIsR0FBRyxVQUFVdEMsUUFBUSxFQUFFO0VBQ3ZFLElBQU1DLElBQUksR0FBRyxJQUFJO0VBRWpCLFNBQVNzQyxXQUFXLENBQUV4QyxJQUFJLEVBQUU7SUFDMUIsSUFBSUEsSUFBSSxHQUFHRSxJQUFJLENBQUNSLDJCQUEyQixFQUFFO01BQzNDO0lBQ0Y7SUFDQWYsV0FBVyxDQUFDcUIsSUFBSSxFQUFFLFVBQVVrQixHQUFHLEVBQUU7TUFDL0IsSUFBSUEsR0FBRyxFQUFFO1FBQ1BsQixJQUFJLEVBQUU7UUFDTndDLFdBQVcsQ0FBQ3hDLElBQUksQ0FBQztNQUNuQixDQUFDLE1BQU07UUFDTFEsT0FBTyxDQUFDQyxHQUFHLENBQUMsYUFBYSxFQUFFVCxJQUFJLENBQUM7UUFDaENFLElBQUksQ0FBQ0gsWUFBWSxDQUFDQyxJQUFJLEVBQUUsWUFBWTtVQUNsQ0UsSUFBSSxDQUFDUCxtQkFBbUIsR0FBR0ssSUFBSTtVQUMvQkMsUUFBUSxDQUFDQyxJQUFJLENBQUNQLG1CQUFtQixDQUFDO1VBQ2xDYSxPQUFPLENBQUNpQixJQUFJLENBQUMsaUNBQWlDLEVBQUV6QixJQUFJLENBQUM7UUFDdkQsQ0FBQyxDQUFDO01BQ0o7SUFDRixDQUFDLENBQUM7RUFDSjtFQUVBd0MsV0FBVyxDQUFDLElBQUksQ0FBQzdDLG1CQUFtQixDQUFDO0FBQ3ZDLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQVIsb0JBQW9CLENBQUNXLFNBQVMsQ0FBQzJDLElBQUksR0FBRyxZQUFZO0VBQ2hELElBQUksQ0FBQzdDLFlBQVksQ0FBQzhDLElBQUksQ0FBQyxTQUFTLENBQUM7QUFDbkMsQ0FBQztBQUVEQyxNQUFNLENBQUNDLE9BQU8sR0FBR3pELG9CQUFvQiIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvc2VydmVyL3NlcnZlci5qcz82MzQ0Il0sInNvdXJjZXNDb250ZW50IjpbIi8qZXNsaW50IG5vLWNvbnNvbGU6IFtcImVycm9yXCIsIHsgYWxsb3c6IFtcIndhcm5cIiwgXCJlcnJvclwiLCBcImluZm9cIiwgXCJsb2dcIl0gfV0gKi9cbi8qZXNsaW50IG5vLXN5bmM6IFtcIm9mZlwiXSovXG5cInVzZSBzdHJpY3RcIjtcblxuY29uc3QgaXNQb3J0VGFrZW4gPSByZXF1aXJlKCcuLi91dGlsL2lzLXBvcnQtdGFrZW4nKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG52YXIgZm9yayA9IHJlcXVpcmUoJ2NoaWxkX3Byb2Nlc3MnKS5mb3JrO1xuY29uc3QgYXBwU2V0dGluZ3MgPSByZXF1aXJlKFwiLi4vYXBwLXNldHRpbmdzXCIpO1xuY29uc3Qge2FwcH0gPSByZXF1aXJlKCdlbGVjdHJvbicpO1xuXG5jb25zdCBDSElMRF9TQ1JJUFRfRklMRU5BTUUgPSAnc3RhcnRTZXJ2ZXIuanMnO1xuXG4vKipcbiAqIE9mZmxpbmUgY29udGVudCBzZXJ2ZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBvZmZsaW5lQ29udHJvbGxlciA6IG9mZmxpbmUgY29udHJvbGxlclxuICogQHBhcmFtIHtvYmplY3R9IGRvd25sb2FkQ29udHJvbGxlciA6IGRvd25sb2FkIGNvbnRyb2xsZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZSAtIG1heCByYW5nZSBmb3Igb2ZmbGluZSBwb3J0IHRvIG9uIHdoaWNoIGNvbnRlbnQgY2FuIGJlIHNlcnZlZFxuICogQHBhcmFtIHtzdHJpbmd9IG9mZmxpbmVDb250ZW50UG9ydCAtIG9uIHdoaWNoIHBvcnQgb2ZmbGluZSBjb250ZW50IHNob3VsZCBiZSBzZXJ2ZWQsIGRlZmF1bHQgaXMgMzAxMFxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIE9mZmxpbmVDb250ZW50U2VydmVyIChvZmZsaW5lQ29udHJvbGxlciwgZG93bmxvYWRDb250cm9sbGVyLCBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZSwgb2ZmbGluZUNvbnRlbnRQb3J0KSB7XG4gIHRoaXMuX29mZmxpbmVDb250cm9sbGVyID0gb2ZmbGluZUNvbnRyb2xsZXI7XG4gIHRoaXMuX2Rvd25sb2FkQ29udHJvbGxlciA9IGRvd25sb2FkQ29udHJvbGxlcjtcbiAgdGhpcy5fbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UgPSBtYXhPZmZsaW5lQ29udGVudFBvcnRSYW5nZTtcbiAgdGhpcy5fb2ZmbGluZUNvbnRlbnRQb3J0ID0gb2ZmbGluZUNvbnRlbnRQb3J0O1xuICB0aGlzLmNoaWxkUHJvY2VzcyA9IHVuZGVmaW5lZDtcbn1cblxuLyoqXG4gKiBTdGFydCBodHRwIHNlcnZlciBpbiBhIGNoaWxkX3Byb2Nlc3NcbiAqIEBwYXJhbSB7b2JqZWN0fSBwb3J0IDogb24gd2hpY2ggcG9ydCBvZmZsaW5lIGNvbnRlbnQgc2hvdWxkIGJlIHNlcnZlZCwgZGVmYXVsdCBpcyAzMDEwXG4gKiBAcGFyYW0ge29iamVjdH0gY2FsbGJhY2sgOiBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGdldCBsaXN0ZW4gcG9ydCAoaWYgZGVmYXVsdCBpcyBhbHJlYWR5IHRha2VuKVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbk9mZmxpbmVDb250ZW50U2VydmVyLnByb3RvdHlwZS5fc3RhcnRTZXJ2ZXIgPSBmdW5jdGlvbiAocG9ydCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8vIE5PVEU6IHRoaXMgaXMgc28gdWdseSBGSVhNRVxuICBsZXQgc2VydmVyUGF0aCA9IHBhdGguam9pbihhcHAuZ2V0QXBwUGF0aCgpLCAnbm9kZV9tb2R1bGVzL2Rvd25zdHJlYW0tZWxlY3Ryb24nKTtcbiAgaWYgKCFmcy5leGlzdHNTeW5jKHBhdGguam9pbihzZXJ2ZXJQYXRoLCBDSElMRF9TQ1JJUFRfRklMRU5BTUUpKSkge1xuICAgIHNlcnZlclBhdGggPSBwYXRoLmpvaW4oYXBwLmdldEFwcFBhdGgoKSwgJ25vZGVfbW9kdWxlcy9kb3duc3RyZWFtLWVsZWN0cm9uL2FwaS9zZXJ2ZXInKTtcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmMocGF0aC5qb2luKHNlcnZlclBhdGgsIENISUxEX1NDUklQVF9GSUxFTkFNRSkpKSB7XG4gICAgICBzZXJ2ZXJQYXRoID0gYXBwLmdldEFwcFBhdGgoKTtcbiAgICAgIGlmICghZnMuZXhpc3RzU3luYyhwYXRoLmpvaW4oc2VydmVyUGF0aCwgQ0hJTERfU0NSSVBUX0ZJTEVOQU1FKSkpIHtcbiAgICAgICAgc2VydmVyUGF0aCA9IF9fZGlybmFtZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zb2xlLmxvZygnU2VydmVyIFBhdGg6Jywgc2VydmVyUGF0aCk7XG4gIGxldCBzY3JpcHQgPSBwYXRoLmpvaW4oc2VydmVyUGF0aCwgQ0hJTERfU0NSSVBUX0ZJTEVOQU1FKTtcbiAgY29uc29sZS5sb2coJ1NjcmlwdCBmb3Igc2VydmVyOicsIHNjcmlwdCk7XG5cbiAgLy8gIEZPUiBERUJVRyBQVVJQT1NFIHNlbGYuY2hpbGRQcm9jZXNzID0gZm9yayhzY3JpcHQgLFtdLHtleGVjQXJndjpbJy0taW5zcGVjdD01ODYwJ119KTtcbiAgc2VsZi5jaGlsZFByb2Nlc3MgPSBmb3JrKHNjcmlwdCwgW10pO1xuICBsZXQgcm91dGVOYW1lID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZHNOYW1lO1xuXG4gIC8vIHNlbmQgaW5pdCBkYXRhIGZvciBodHRwIHNlcnZlclxuICBsZXQgZGF0YSA9IHtcbiAgICBjbWQ6ICdpbml0JyxcbiAgICByb3V0ZU5hbWU6IHJvdXRlTmFtZSxcbiAgICBwb3J0OiBwb3J0XG4gIH07XG4gIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoZGF0YSlcblxuICBzZWxmLmNoaWxkUHJvY2Vzcy5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgY29uc29sZS5lcnJvcihlcnIpO1xuICB9KVxuICAvLyBoYW5kbGVzIG1lc3NhZ2UgZnJvbSBjaGlsZCBwcm9jZXNzXG4gIHNlbGYuY2hpbGRQcm9jZXNzLm9uKCdtZXNzYWdlJywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICBpZiAoZGF0YS5jbWQgPT09ICdsb2cnKSB7XG4gICAgICAvLyBodHRwIHNlcnZlciB3YW50cyB0byBsb2cgc29tZSBkYXRhXG4gICAgICBjb25zb2xlLmxvZyhkYXRhLmxvZyk7XG4gICAgfVxuXG4gICAgaWYgKGRhdGEuY21kID09PSAnbGlzdGVuaW5nX3BvcnQnKSB7XG4gICAgICAvLyBodHRwIHNlcnZlciBpcyBsaXN0ZW5pbmcgPT4gbm90aWZ5IGFwcGxpY2F0aW9uIGZvciBsaXN0ZW4gcG9ydFxuICAgICAgY2FsbGJhY2soZGF0YS5wb3J0KTtcbiAgICB9XG5cbiAgICBpZiAoZGF0YS5jbWQgPT09ICdnZXRfaW5mbycpIHtcblxuICAgICAgbGV0IHJlcXVlc3RJZCA9IGRhdGEucmVxdWVzdElkO1xuICAgICAgLy8gaHR0cCBzZXJ2ZXIgYXNrcyBkYXRhIGZvbGRlciBmb3IgbWFuaWZlc3QgaWRcbiAgICAgIGxldCBtYW5pZmVzdElkID0gZGF0YS5hcmdzLm1hbmlmZXN0O1xuXG4gICAgICBzZWxmLl9vZmZsaW5lQ29udHJvbGxlci5nZXRNYW5pZmVzdEluZm8obWFuaWZlc3RJZCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe2Vycm9yOiBlcnIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RJZDogcmVxdWVzdElkXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRvd25sb2FkRm9sZGVyID0gaW5mby5tYW5pZmVzdC5mb2xkZXI7XG4gICAgICAgIGlmICghZG93bmxvYWRGb2xkZXIpIHtcbiAgICAgICAgICAvLyB0cnkgdG8gc2VydmUgZnJvbSBkZWZhdWx0IGRvd25sb2FkIGZvbGRlclxuICAgICAgICAgIGRvd25sb2FkRm9sZGVyID0gYXBwU2V0dGluZ3MuZ2V0U2V0dGluZ3MoKS5kb3dubG9hZHNGb2xkZXJQYXRoXG4gICAgICAgIH1cblxuICAgICAgICAvLyBzZW5kIHJlc3BvbnNlIGJhY2tcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe3N0YXR1czogJ09LJywgcmVxdWVzdElkOiByZXF1ZXN0SWQsIHJlc3VsdDoge2ZvbGRlcjogZG93bmxvYWRGb2xkZXIsIHN0YXR1czogaW5mby5zdGF0dXN9fSk7XG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmIChkYXRhLmNtZCA9PT0gJ2lzX2Rvd25sb2FkaW5nJykge1xuICAgICAgbGV0IHJlcXVlc3RJZCA9IGRhdGEucmVxdWVzdElkO1xuICAgICAgbGV0IG1hbmlmZXN0SWQgPSBkYXRhLmFyZ3MubWFuaWZlc3Q7XG4gICAgICBsZXQgZmlsZSA9IGRhdGEuYXJncy5maWxlO1xuXG4gICAgICBsZXQgZG93bmxvYWQgPSBzZWxmLl9kb3dubG9hZENvbnRyb2xsZXIuZ2V0RG93bmxvYWRpbmcobWFuaWZlc3RJZCwgZmlsZSk7XG4gICAgICBsZXQgZG93bmxvYWRlZENhbGxiYWNrID0gZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe2Vycm9yOiBlcnIsIHJlcXVlc3RJZDogcmVxdWVzdElkfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNlbGYuY2hpbGRQcm9jZXNzLnNlbmQoe3N0YXR1czogJ09LJywgcmVxdWVzdElkOiByZXF1ZXN0SWR9KTtcbiAgICAgIH1cbiAgICAgIGlmIChkb3dubG9hZCkge1xuICAgICAgICAvLyBmaWxlIGlzIGNyZWF0ZWQgYnV0IGJlaW5nIGRvd25sb2FkaW5nID0+IHdhaXQgZm9yIGRvd25sb2FkIGJlZm9yZSBzZW5kaW5nIHJlc3VsdFxuICAgICAgICBzZWxmLl9kb3dubG9hZENvbnRyb2xsZXIud2FpdEZvckRvd25sb2FkKGRvd25sb2FkLCBkb3dubG9hZGVkQ2FsbGJhY2spO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGRvd25sb2FkZWRDYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChkYXRhLmNtZCA9PT0gJ3BlcmZvcm1fc2VlaycpIHtcbiAgICAgIGxldCByZXF1ZXN0SWQgPSBkYXRhLnJlcXVlc3RJZDtcbiAgICAgIGxldCBtYW5pZmVzdElkID0gZGF0YS5hcmdzLm1hbmlmZXN0O1xuICAgICAgbGV0IGZpbGUgPSBkYXRhLmFyZ3MuZmlsZTtcbiAgICAgIGxldCBkb3dubG9hZGVkQ2FsbGJhY2sgPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gc2VsZi5jaGlsZFByb2Nlc3Muc2VuZCh7ZXJyb3I6IGVyciwgcmVxdWVzdElkOiByZXF1ZXN0SWR9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2VsZi5jaGlsZFByb2Nlc3Muc2VuZCh7c3RhdHVzOiAnT0snLCByZXF1ZXN0SWQ6IHJlcXVlc3RJZH0pO1xuICAgICAgfVxuICAgICAgc2VsZi5fZG93bmxvYWRDb250cm9sbGVyLnBlcmZvcm1TZWVrKG1hbmlmZXN0SWQsIGZpbGUsIGRvd25sb2FkZWRDYWxsYmFjaylcbiAgICB9XG4gIH0pO1xuXG4gIHNlbGYuY2hpbGRQcm9jZXNzLm9uKCdjbG9zZScsIGZ1bmN0aW9uIChjb2RlLCBzaWduYWwpIHtcbiAgICAvLyBjaGlsZCBoYXMgY2xvc2VkXG4gICAgaWYgKGNvZGUgPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coJ0NoaWxkIHByb2Nlc3MgY2xvc2VkIHdpdGggc2lnbmFsOicsIHNpZ25hbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKCdDaGlsZCBwcm9jZXNzIGNsb3NlZCB3aXRoIGNvZGU6JywgY29kZSk7XG4gICAgfVxuICB9KTtcbn1cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbn0gY2FsbGJhY2sgLSBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIGdldCBsaXN0ZW4gcG9ydCAoaWYgZGVmYXVsdCBpcyB0YWtlbilcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5PZmZsaW5lQ29udGVudFNlcnZlci5wcm90b3R5cGUuc2VydmVPZmZsaW5lQ29udGVudCA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICBjb25zdCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBzdGFydE9uUG9ydCAocG9ydCkge1xuICAgIGlmIChwb3J0ID4gc2VsZi5fbWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaXNQb3J0VGFrZW4ocG9ydCwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwb3J0Kys7XG4gICAgICAgIHN0YXJ0T25Qb3J0KHBvcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ1BvcnQgZm91bmQ6JywgcG9ydClcbiAgICAgICAgc2VsZi5fc3RhcnRTZXJ2ZXIocG9ydCwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHNlbGYuX29mZmxpbmVDb250ZW50UG9ydCA9IHBvcnQ7XG4gICAgICAgICAgY2FsbGJhY2soc2VsZi5fb2ZmbGluZUNvbnRlbnRQb3J0KTtcbiAgICAgICAgICBjb25zb2xlLmluZm8oJ09mZmxpbmUgY29udGVudCBzZXJ2ZWQgb24gcG9ydDonLCBwb3J0KTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBzdGFydE9uUG9ydCh0aGlzLl9vZmZsaW5lQ29udGVudFBvcnQpO1xufVxuXG4vKlxuICogU3RvcCBzZXJ2ZXIgcHJvY2Vzc1xuICogQHJldHVybnNcbiAqL1xuT2ZmbGluZUNvbnRlbnRTZXJ2ZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2hpbGRQcm9jZXNzLmtpbGwoJ1NJR1RFUk0nKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBPZmZsaW5lQ29udGVudFNlcnZlcjtcbiJdLCJuYW1lcyI6WyJpc1BvcnRUYWtlbiIsInJlcXVpcmUiLCJwYXRoIiwiZnMiLCJmb3JrIiwiYXBwU2V0dGluZ3MiLCJhcHAiLCJDSElMRF9TQ1JJUFRfRklMRU5BTUUiLCJPZmZsaW5lQ29udGVudFNlcnZlciIsIm9mZmxpbmVDb250cm9sbGVyIiwiZG93bmxvYWRDb250cm9sbGVyIiwibWF4T2ZmbGluZUNvbnRlbnRQb3J0UmFuZ2UiLCJvZmZsaW5lQ29udGVudFBvcnQiLCJfb2ZmbGluZUNvbnRyb2xsZXIiLCJfZG93bmxvYWRDb250cm9sbGVyIiwiX21heE9mZmxpbmVDb250ZW50UG9ydFJhbmdlIiwiX29mZmxpbmVDb250ZW50UG9ydCIsImNoaWxkUHJvY2VzcyIsInVuZGVmaW5lZCIsInByb3RvdHlwZSIsIl9zdGFydFNlcnZlciIsInBvcnQiLCJjYWxsYmFjayIsInNlbGYiLCJzZXJ2ZXJQYXRoIiwiam9pbiIsImdldEFwcFBhdGgiLCJleGlzdHNTeW5jIiwiX19kaXJuYW1lIiwiY29uc29sZSIsImxvZyIsInNjcmlwdCIsInJvdXRlTmFtZSIsImdldFNldHRpbmdzIiwiZG93bmxvYWRzTmFtZSIsImRhdGEiLCJjbWQiLCJzZW5kIiwib24iLCJlcnIiLCJlcnJvciIsInJlcXVlc3RJZCIsIm1hbmlmZXN0SWQiLCJhcmdzIiwibWFuaWZlc3QiLCJnZXRNYW5pZmVzdEluZm8iLCJpbmZvIiwiZG93bmxvYWRGb2xkZXIiLCJmb2xkZXIiLCJkb3dubG9hZHNGb2xkZXJQYXRoIiwic3RhdHVzIiwicmVzdWx0IiwiZmlsZSIsImRvd25sb2FkIiwiZ2V0RG93bmxvYWRpbmciLCJkb3dubG9hZGVkQ2FsbGJhY2siLCJ3YWl0Rm9yRG93bmxvYWQiLCJwZXJmb3JtU2VlayIsImNvZGUiLCJzaWduYWwiLCJzZXJ2ZU9mZmxpbmVDb250ZW50Iiwic3RhcnRPblBvcnQiLCJzdG9wIiwia2lsbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9837\n")},2197:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar _ = __webpack_require__(4952);\n\n/**\n * how much of progress should be connected with writing chunks to a hard drive (1 - 100%)\n * @type {number}\n */\nvar writeProgressUsage = 0.1;\n\n/**\n *\n * @param {DownloadsStorageController} storage - downloads storage controller\n * @constructor\n */\nfunction DownloadStats(storage) {\n  this._storage = storage;\n  this._stats = {};\n  this._statsPrevious = {};\n  this._STATS_TIME_GENERATION = 1000;\n  _.bindAll(this, "_generate");\n}\n\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision for kilobytes\n * @param {number=} precision2 - precision for megabytes\n * @param {number=} precision3 - precision for gigabytes\n * @returns {string} converted bytes to kb or mb or gb\n * @private\n */\nDownloadStats.prototype._convertToBytes = function (value, precision, precision2, precision3) {\n  precision2 = typeof precision2 !== "undefined" ? precision2 : precision;\n  precision3 = typeof precision3 !== "undefined" ? precision3 : precision;\n  if (value < 100000) {\n    return this._convertToKB(value, precision);\n  } else if (value < 1024 * 1024 * 1024) {\n    return this._convertToMB(value, precision2);\n  } else {\n    return this._convertToGB(value, precision3);\n  }\n};\n\n/**\n *\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} kilobytes\n * @private\n */\nDownloadStats.prototype._convertToKB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneKB = 1024;\n  return Math.round(value * a / oneKB) / a + "kB";\n};\n\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} - megabytes\n * @private\n */\nDownloadStats.prototype._convertToMB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneMB = 1024 * 1024;\n  return Math.round(value * a / oneMB) / a + "MB";\n};\n\n/**\n * @param {number} value - bytes\n * @param {number} precision - precision\n * @returns {string} gigabytes\n * @private\n */\nDownloadStats.prototype._convertToGB = function (value, precision) {\n  precision = typeof precision !== "undefined" ? precision : 0;\n  var a = Math.pow(10, precision);\n  var oneGB = 1024 * 1024 * 1024;\n  return Math.round(value * a / oneGB) / a + "GB";\n};\nDownloadStats.prototype._clearSpeed = function () {\n  var allManifestIds = Object.keys(this._stats) || [];\n  for (var i = 0, j = allManifestIds.length; i < j; i++) {\n    var manifestId = allManifestIds[i];\n    if (!this._storage.keyExists(manifestId) && this._stats[manifestId] && this._stats[manifestId].speed) {\n      this._stats[manifestId].speed = 0;\n      this._stats[manifestId].speedBytes = this._convertToBytes(this._stats[manifestId].speed, 3, 2);\n    }\n  }\n};\n\n/**\n * @param {boolean} refresh - decides if stats should be only calculated without setting previous stats\n * this is useful when downloads finishes and stats are being calculated one more time\n * @returns {void}\n * @private\n */\nDownloadStats.prototype._generate = function (refresh) {\n  var allStats = {};\n  var manifests = this._storage.getKeys();\n  this._clearSpeed();\n  function countParts(items) {\n    var parts = 0;\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = items[k];\n      parts += item.bandwidth || 1;\n    }\n    return parts;\n  }\n  function countPartsObj(items, withDownloadedOnly) {\n    var parts = 0;\n    for (var key in items) {\n      if (items.hasOwnProperty(key)) {\n        var item = items[key];\n        parts += (withDownloadedOnly ? item.stats.available / (item.stats.file_size || 1) : 1) * (item.bandwidth || 1);\n      }\n    }\n    return parts;\n  }\n  function toArray(obj) {\n    var arr = [];\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        var item = obj[key];\n        arr.push(item);\n      }\n    }\n    return arr;\n  }\n  var stats = {\n    downloading: 0,\n    downloaded: 0,\n    available: 0,\n    left: 0,\n    downloadingAvailableBytes: 0,\n    downloading_file_size: 0,\n    downloadingBytes: 0,\n    downloadedBytes: 0,\n    availableBytes: 0,\n    writeProgress: 0,\n    writeProgressDownloading: 0,\n    writeProgressDownloaded: 0,\n    errors: 0,\n    progress: 0,\n    speed: 0,\n    status: \'\'\n  };\n\n  //availableBytes - bates that has been already downloaded\n  //downloadedBytes - bytes used to calculate the current speed\n  //if for any reason the connection is broken or user stopped, then after resuming the available bytes are\n  //always bigger then the actual downloaded bytes.\n  //once the file is finished both values are equal and have the same value as file_size\n\n  var now = new Date().getTime();\n  if (!this._statsTime) {\n    this._statsTime = now;\n  }\n  for (var i = 0, j = manifests.length; i < j; i++) {\n    var manifestId = manifests[i];\n    allStats[manifestId] = _.clone(stats);\n    allStats[manifestId].left = this._storage.left.count(manifestId);\n    allStats[manifestId].leftI = this._storage.left.getItems(manifestId);\n    allStats[manifestId].errors = this._storage.errors.count(manifestId);\n    allStats[manifestId].errorsI = this._storage.errors.getItems(manifestId);\n    var items = this._storage.downloading.getKeys(manifestId);\n    allStats[manifestId].downloading = items.length;\n    allStats[manifestId].downloadingI = this._storage.downloading.getItems(manifestId);\n    var writeProgressDownloadingItemsLength = items.length;\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = this._storage.downloading.getItem(manifestId, items[k]);\n      allStats[manifestId].downloadingBytes += item.stats.downloaded;\n      allStats[manifestId].downloading_file_size += item.stats.file_size;\n      allStats[manifestId].downloadingAvailableBytes += item.stats.available;\n      allStats[manifestId].writeProgressDownloading += item.stats.writeProgress;\n    }\n    items = this._storage.downloaded.getItems(manifestId);\n    allStats[manifestId].downloaded = items.length;\n    allStats[manifestId].downloadedI = items;\n    var writeProgressItemsDownloadedLength = items.length;\n    for (var _k = 0, _l = items.length; _k < _l; _k++) {\n      var _item = items[_k];\n      allStats[manifestId].downloadedBytes += _item.stats.downloaded;\n      allStats[manifestId].writeProgressDownloaded += _item.stats.writeProgress;\n    }\n\n    //need to calculate what percentage of bytes that are going to be written to hard drive are according the the whole\n    // size for example 5 files are being downloaded, 4 smaller are 100mb and one large 1,9GB. When the large file is\n    // being saved the write progress is basically 1900/2000 = 95% of all written bytes.\n    allStats[manifestId].writeProgressDownloading = allStats[manifestId].writeProgressDownloading * (allStats[manifestId].downloadingAvailableBytes / (allStats[manifestId].downloadedBytes + allStats[manifestId].downloading_file_size) || 1);\n    allStats[manifestId].writeProgressDownloading = allStats[manifestId].writeProgressDownloading / (writeProgressDownloadingItemsLength || 1);\n    allStats[manifestId].writeProgressDownloaded = allStats[manifestId].writeProgressDownloaded * (allStats[manifestId].downloadedBytes / (allStats[manifestId].downloadedBytes + allStats[manifestId].downloading_file_size) || 1);\n    allStats[manifestId].writeProgressDownloaded = allStats[manifestId].writeProgressDownloaded / (writeProgressItemsDownloadedLength || 1);\n    allStats[manifestId].writeProgress = allStats[manifestId].writeProgressDownloading + allStats[manifestId].writeProgressDownloaded;\n    var speed = this._getDiff("downloadingBytes", manifestId, allStats, this._statsPrevious);\n    speed += this._getDiff("downloadedBytes", manifestId, allStats, this._statsPrevious);\n    speed = speed * 1000 / (now - this._statsTime || 1);\n    allStats[manifestId].speed = speed;\n    allStats[manifestId].status = this._storage.status.getItem(manifestId, "status");\n    allStats[manifestId].details = this._storage.status.getItem(manifestId, "details");\n\n    //progress for downloaded\n    var leftParts = countParts(allStats[manifestId].leftI);\n    var downloadedParts = countParts(allStats[manifestId].downloadedI);\n    var downloadingPartsSize = countPartsObj(allStats[manifestId].downloadingI);\n    var downloadingParts = countPartsObj(allStats[manifestId].downloadingI, true);\n    var errorParts = countPartsObj(allStats[manifestId].errorsI);\n    var allParts = leftParts + downloadedParts + downloadingPartsSize + errorParts;\n    allStats[manifestId].progress = (downloadedParts + downloadingParts) / (allParts || 1);\n    allStats[manifestId].progress = allStats[manifestId].progress * (1 - writeProgressUsage);\n    allStats[manifestId].progress += allStats[manifestId].writeProgress * writeProgressUsage;\n    allStats[manifestId].downloadedBytesTotal = Math.round(allStats[manifestId].progress * 10000) / 100;\n    allStats[manifestId].downloadedBytesTotal += "%";\n\n    // progress of each represention\n    var reduceFunc = function reduceFunc(map, obj) {\n      if (!map[obj.id]) {\n        map[obj.id] = [];\n      }\n      map[obj.id].push(obj);\n      return map;\n    };\n    var downloadedById = allStats[manifestId].downloadedI.reduce(reduceFunc, {});\n    var downloadingArray = toArray(allStats[manifestId].downloadingI);\n    var downloadingById = downloadingArray.reduce(reduceFunc, {});\n    var leftById = allStats[manifestId].leftI.reduce(reduceFunc, {});\n    var errorArray = toArray(allStats[manifestId].errorsI);\n    var errorsById = errorArray.reduce(reduceFunc, {});\n    var extend = function extend(obj, src) {\n      for (var key in src) {\n        if (src.hasOwnProperty(key)) {\n          if (!obj[key]) {\n            obj[key] = [];\n          }\n          obj[key] = obj[key].concat(src[key]);\n        }\n      }\n      return obj;\n    };\n    var allPartsById = {};\n    extend(allPartsById, downloadedById);\n    extend(allPartsById, downloadingById);\n    extend(allPartsById, leftById);\n    extend(allPartsById, errorsById);\n\n    // compute progres for each id\n    var progressById = {};\n    var key = void 0;\n    for (key in allPartsById) {\n      if (allPartsById.hasOwnProperty(key)) {\n        progressById[key] = countPartsObj(downloadedById[key]) / (countPartsObj(allPartsById[key]) || 1);\n      }\n    }\n    var progressByIdPercent = {};\n    for (key in progressById) {\n      if (progressById.hasOwnProperty(key)) {\n        progressByIdPercent[key] = Math.round(progressById[key] * 10000) / 100 + "%";\n      }\n    }\n    allStats[manifestId].progressById = progressById;\n    allStats[manifestId].progressByIdPercent = progressByIdPercent;\n  }\n  var showStats = {};\n  for (var _i = 0, _j = manifests.length; _i < _j; _i++) {\n    var _manifestId = manifests[_i];\n    showStats[_manifestId] = {};\n    var downloadedBytesTotal = allStats[_manifestId].downloadedBytes + allStats[_manifestId].downloadingAvailableBytes;\n    showStats[_manifestId].progress = allStats[_manifestId].progress;\n    showStats[_manifestId].progressPercentage = allStats[_manifestId].downloadedBytesTotal;\n    showStats[_manifestId].progressById = allStats[_manifestId].progressById;\n    showStats[_manifestId].progressByIdPercent = allStats[_manifestId].progressByIdPercent;\n    showStats[_manifestId].downloadedBytesTotal = this._convertToBytes(downloadedBytesTotal, 1, 2, 2);\n    showStats[_manifestId].downloaded = allStats[_manifestId].downloaded;\n    showStats[_manifestId].left = allStats[_manifestId].left;\n    showStats[_manifestId].errors = allStats[_manifestId].errors;\n    if (allStats[_manifestId].speed < 0) {\n      allStats[_manifestId].speed = 0;\n    }\n    showStats[_manifestId].speed = allStats[_manifestId].speed;\n    showStats[_manifestId].speedBytes = this._convertToBytes(allStats[_manifestId].speed, 3, 2);\n    showStats[_manifestId].status = allStats[_manifestId].status;\n    showStats[_manifestId].details = allStats[_manifestId].details;\n  }\n  for (var _key in showStats) {\n    if (showStats.hasOwnProperty(_key)) {\n      this._stats[_key] = showStats[_key];\n    }\n  }\n  if (!refresh) {\n    this._statsTime = now;\n    for (var _key2 in allStats) {\n      if (allStats.hasOwnProperty(_key2)) {\n        this._statsPrevious[_key2] = allStats[_key2];\n      }\n    }\n  }\n};\n\n/**\n * @param {string} key - key stats identifier\n * @param {string} manifestId - manifest identifier\n * @param {number} current - current value\n * @param {number} previous - previous value\n * @returns {number} - difference between current and previous value\n * @private\n */\nDownloadStats.prototype._getDiff = function (key, manifestId, current, previous) {\n  var currentValue = current[manifestId] && current[manifestId][key] || 0;\n  var previousValue = previous[manifestId] && previous[manifestId][key] || 0;\n  return currentValue - previousValue;\n};\n\n/**\n *\n * @param {string|array} manifestIds - manifest identifier or array of manifests identifier\n * @returns {*} stats for certain download or array of stats for downloads\n */\nDownloadStats.prototype.getStats = function (manifestIds) {\n  var stats;\n  if (this._stats) {\n    if (typeof manifestIds === \'string\') {\n      stats = this._stats[manifestIds];\n    } else {\n      stats = [];\n      for (var i = 0, j = manifestIds.length; i < j; i++) {\n        var stat = this._stats[manifestIds[i]];\n        if (stat) {\n          stats.push(stat);\n        }\n      }\n    }\n  }\n  return stats;\n};\nDownloadStats.prototype.refresh = function () {\n  this._generate(true);\n};\nDownloadStats.prototype.start = function () {\n  if (!this._interval) {\n    this._interval = setInterval(this._generate, this._STATS_TIME_GENERATION);\n    this._generate();\n  }\n};\nDownloadStats.prototype.stop = function () {\n  clearInterval(this._interval);\n  this._interval = null;\n  this._generate();\n  this._statsPrevious = {};\n};\nmodule.exports = DownloadStats;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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T0FBTyxHQUFHLFlBQVk7RUFDNUMsSUFBSSxDQUFDRCxTQUFTLENBQUMsSUFBSSxDQUFDO0FBQ3RCLENBQUM7QUFFRGxDLGFBQWEsQ0FBQ08sU0FBUyxDQUFDZ0gsS0FBSyxHQUFHLFlBQVk7RUFDMUMsSUFBSSxDQUFDLElBQUksQ0FBQ0MsU0FBUyxFQUFFO0lBQ25CLElBQUksQ0FBQ0EsU0FBUyxHQUFHQyxXQUFXLENBQUMsSUFBSSxDQUFDdkYsU0FBUyxFQUFFLElBQUksQ0FBQzdCLHNCQUFzQixDQUFDO0lBQ3pFLElBQUksQ0FBQzZCLFNBQVMsRUFBRTtFQUNsQjtBQUNGLENBQUM7QUFFRGxDLGFBQWEsQ0FBQ08sU0FBUyxDQUFDbUgsSUFBSSxHQUFHLFlBQVk7RUFDekNDLGFBQWEsQ0FBQyxJQUFJLENBQUNILFNBQVMsQ0FBQztFQUM3QixJQUFJLENBQUNBLFNBQVMsR0FBRyxJQUFJO0VBQ3JCLElBQUksQ0FBQ3RGLFNBQVMsRUFBRTtFQUNoQixJQUFJLENBQUM5QixjQUFjLEdBQUcsQ0FBQyxDQUFDO0FBQzFCLENBQUM7QUFFRHdILE1BQU0sQ0FBQ0MsT0FBTyxHQUFHN0gsYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvc3RhdHMvZG93bmxvYWRfc3RhdHMuanM/ZmY0MyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxuLyoqXG4gKiBob3cgbXVjaCBvZiBwcm9ncmVzcyBzaG91bGQgYmUgY29ubmVjdGVkIHdpdGggd3JpdGluZyBjaHVua3MgdG8gYSBoYXJkIGRyaXZlICgxIC0gMTAwJSlcbiAqIEB0eXBlIHtudW1iZXJ9XG4gKi9cbmNvbnN0IHdyaXRlUHJvZ3Jlc3NVc2FnZSA9IDAuMTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtEb3dubG9hZHNTdG9yYWdlQ29udHJvbGxlcn0gc3RvcmFnZSAtIGRvd25sb2FkcyBzdG9yYWdlIGNvbnRyb2xsZXJcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBEb3dubG9hZFN0YXRzIChzdG9yYWdlKSB7XG4gIHRoaXMuX3N0b3JhZ2UgPSBzdG9yYWdlO1xuICB0aGlzLl9zdGF0cyA9IHt9O1xuICB0aGlzLl9zdGF0c1ByZXZpb3VzID0ge307XG4gIHRoaXMuX1NUQVRTX1RJTUVfR0VORVJBVElPTiA9IDEwMDA7XG4gIF8uYmluZEFsbCh0aGlzLCBcIl9nZW5lcmF0ZVwiKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBieXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIHByZWNpc2lvbiBmb3Iga2lsb2J5dGVzXG4gKiBAcGFyYW0ge251bWJlcj19IHByZWNpc2lvbjIgLSBwcmVjaXNpb24gZm9yIG1lZ2FieXRlc1xuICogQHBhcmFtIHtudW1iZXI9fSBwcmVjaXNpb24zIC0gcHJlY2lzaW9uIGZvciBnaWdhYnl0ZXNcbiAqIEByZXR1cm5zIHtzdHJpbmd9IGNvbnZlcnRlZCBieXRlcyB0byBrYiBvciBtYiBvciBnYlxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuX2NvbnZlcnRUb0J5dGVzID0gZnVuY3Rpb24gKHZhbHVlLCBwcmVjaXNpb24sIHByZWNpc2lvbjIsIHByZWNpc2lvbjMpIHtcbiAgcHJlY2lzaW9uMiA9IHR5cGVvZiBwcmVjaXNpb24yICE9PSBcInVuZGVmaW5lZFwiID8gcHJlY2lzaW9uMiA6IHByZWNpc2lvbjtcbiAgcHJlY2lzaW9uMyA9IHR5cGVvZiBwcmVjaXNpb24zICE9PSBcInVuZGVmaW5lZFwiID8gcHJlY2lzaW9uMyA6IHByZWNpc2lvbjtcbiAgaWYgKHZhbHVlIDwgMTAwMDAwKSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRUb0tCKHZhbHVlLCBwcmVjaXNpb24pXG4gIH0gZWxzZSBpZiAodmFsdWUgPCAxMDI0ICogMTAyNCAqIDEwMjQpIHtcbiAgICByZXR1cm4gdGhpcy5fY29udmVydFRvTUIodmFsdWUsIHByZWNpc2lvbjIpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMuX2NvbnZlcnRUb0dCKHZhbHVlLCBwcmVjaXNpb24zKVxuICB9XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBieXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIHByZWNpc2lvblxuICogQHJldHVybnMge3N0cmluZ30ga2lsb2J5dGVzXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fY29udmVydFRvS0IgPSBmdW5jdGlvbiAodmFsdWUsIHByZWNpc2lvbikge1xuICBwcmVjaXNpb24gPSB0eXBlb2YgcHJlY2lzaW9uICE9PSBcInVuZGVmaW5lZFwiID8gcHJlY2lzaW9uIDogMDtcbiAgY29uc3QgYSA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICBjb25zdCBvbmVLQiA9IDEwMjQ7XG4gIHJldHVybiAoTWF0aC5yb3VuZCgodmFsdWUgKiBhKSAvIG9uZUtCKSAvIGEpICsgXCJrQlwiO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBieXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIHByZWNpc2lvblxuICogQHJldHVybnMge3N0cmluZ30gLSBtZWdhYnl0ZXNcbiAqIEBwcml2YXRlXG4gKi9cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLl9jb252ZXJ0VG9NQiA9IGZ1bmN0aW9uICh2YWx1ZSwgcHJlY2lzaW9uKSB7XG4gIHByZWNpc2lvbiA9IHR5cGVvZiBwcmVjaXNpb24gIT09IFwidW5kZWZpbmVkXCIgPyBwcmVjaXNpb24gOiAwO1xuICBjb25zdCBhID0gTWF0aC5wb3coMTAsIHByZWNpc2lvbik7XG4gIGNvbnN0IG9uZU1CID0gMTAyNCAqIDEwMjQ7XG4gIHJldHVybiAoTWF0aC5yb3VuZCgodmFsdWUgKiBhKSAvIG9uZU1CKSAvIGEpICsgXCJNQlwiO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgLSBieXRlc1xuICogQHBhcmFtIHtudW1iZXJ9IHByZWNpc2lvbiAtIHByZWNpc2lvblxuICogQHJldHVybnMge3N0cmluZ30gZ2lnYWJ5dGVzXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fY29udmVydFRvR0IgPSBmdW5jdGlvbiAodmFsdWUsIHByZWNpc2lvbikge1xuICBwcmVjaXNpb24gPSB0eXBlb2YgcHJlY2lzaW9uICE9PSBcInVuZGVmaW5lZFwiID8gcHJlY2lzaW9uIDogMDtcbiAgY29uc3QgYSA9IE1hdGgucG93KDEwLCBwcmVjaXNpb24pO1xuICBjb25zdCBvbmVHQiA9IDEwMjQgKiAxMDI0ICogMTAyNDtcbiAgcmV0dXJuIChNYXRoLnJvdW5kKCh2YWx1ZSAqIGEpIC8gb25lR0IpIC8gYSkgKyBcIkdCXCI7XG59O1xuXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fY2xlYXJTcGVlZCA9IGZ1bmN0aW9uICgpIHtcbiAgY29uc3QgYWxsTWFuaWZlc3RJZHMgPSBPYmplY3Qua2V5cyh0aGlzLl9zdGF0cykgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gYWxsTWFuaWZlc3RJZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgbGV0IG1hbmlmZXN0SWQgPSBhbGxNYW5pZmVzdElkc1tpXTtcbiAgICBpZiAoIXRoaXMuX3N0b3JhZ2Uua2V5RXhpc3RzKG1hbmlmZXN0SWQpICYmIHRoaXMuX3N0YXRzW21hbmlmZXN0SWRdICYmIHRoaXMuX3N0YXRzW21hbmlmZXN0SWRdLnNwZWVkKSAge1xuICAgICAgdGhpcy5fc3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQgPSAwO1xuICAgICAgdGhpcy5fc3RhdHNbbWFuaWZlc3RJZF0uc3BlZWRCeXRlcyA9IHRoaXMuX2NvbnZlcnRUb0J5dGVzKHRoaXMuX3N0YXRzW21hbmlmZXN0SWRdLnNwZWVkLCAzLCAyKTtcbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtib29sZWFufSByZWZyZXNoIC0gZGVjaWRlcyBpZiBzdGF0cyBzaG91bGQgYmUgb25seSBjYWxjdWxhdGVkIHdpdGhvdXQgc2V0dGluZyBwcmV2aW91cyBzdGF0c1xuICogdGhpcyBpcyB1c2VmdWwgd2hlbiBkb3dubG9hZHMgZmluaXNoZXMgYW5kIHN0YXRzIGFyZSBiZWluZyBjYWxjdWxhdGVkIG9uZSBtb3JlIHRpbWVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICogQHByaXZhdGVcbiAqL1xuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuX2dlbmVyYXRlID0gZnVuY3Rpb24gKHJlZnJlc2gpIHtcbiAgbGV0IGFsbFN0YXRzID0ge307XG5cbiAgbGV0IG1hbmlmZXN0cyA9IHRoaXMuX3N0b3JhZ2UuZ2V0S2V5cygpO1xuXG4gIHRoaXMuX2NsZWFyU3BlZWQoKTtcblxuICBmdW5jdGlvbiBjb3VudFBhcnRzIChpdGVtcykge1xuICAgIGxldCBwYXJ0cyA9IDA7XG4gICAgZm9yIChsZXQgayA9IDAsIGwgPSBpdGVtcy5sZW5ndGg7IGsgPCBsOyBrKyspIHtcbiAgICAgIGxldCBpdGVtID0gaXRlbXNba107XG4gICAgICBwYXJ0cyArPSBpdGVtLmJhbmR3aWR0aCB8fCAxO1xuICAgIH1cbiAgICByZXR1cm4gcGFydHM7XG4gIH1cblxuICBmdW5jdGlvbiBjb3VudFBhcnRzT2JqIChpdGVtcywgd2l0aERvd25sb2FkZWRPbmx5KSB7XG4gICAgbGV0IHBhcnRzID0gMDtcbiAgICBmb3IgKGxldCBrZXkgaW4gaXRlbXMpIHtcbiAgICAgIGlmIChpdGVtcy5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgIGxldCBpdGVtID0gaXRlbXNba2V5XTtcbiAgICAgICAgcGFydHMgKz0gKHdpdGhEb3dubG9hZGVkT25seSA/IChpdGVtLnN0YXRzLmF2YWlsYWJsZSAvIChpdGVtLnN0YXRzLmZpbGVfc2l6ZSB8fCAxKSkgOiAxKSAqIChpdGVtLmJhbmR3aWR0aCB8fCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9BcnJheSAob2JqKSB7XG4gICAgbGV0IGFyciA9IFtdO1xuICAgIGZvciAobGV0IGtleSBpbiBvYmopIHtcbiAgICAgIGlmIChvYmouaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBsZXQgaXRlbSA9IG9ialtrZXldO1xuICAgICAgICBhcnIucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycjtcbiAgfVxuXG4gIGNvbnN0IHN0YXRzID0ge1xuICAgIGRvd25sb2FkaW5nOiAwLFxuICAgIGRvd25sb2FkZWQ6IDAsXG4gICAgYXZhaWxhYmxlOiAwLFxuICAgIGxlZnQ6IDAsXG4gICAgZG93bmxvYWRpbmdBdmFpbGFibGVCeXRlczogMCxcbiAgICBkb3dubG9hZGluZ19maWxlX3NpemU6IDAsXG4gICAgZG93bmxvYWRpbmdCeXRlczogMCxcbiAgICBkb3dubG9hZGVkQnl0ZXM6IDAsXG4gICAgYXZhaWxhYmxlQnl0ZXM6IDAsXG4gICAgd3JpdGVQcm9ncmVzczogMCxcbiAgICB3cml0ZVByb2dyZXNzRG93bmxvYWRpbmc6IDAsXG4gICAgd3JpdGVQcm9ncmVzc0Rvd25sb2FkZWQ6IDAsXG4gICAgZXJyb3JzOiAwLFxuICAgIHByb2dyZXNzOiAwLFxuICAgIHNwZWVkOiAwLFxuICAgIHN0YXR1czogJydcbiAgfTtcblxuICAvL2F2YWlsYWJsZUJ5dGVzIC0gYmF0ZXMgdGhhdCBoYXMgYmVlbiBhbHJlYWR5IGRvd25sb2FkZWRcbiAgLy9kb3dubG9hZGVkQnl0ZXMgLSBieXRlcyB1c2VkIHRvIGNhbGN1bGF0ZSB0aGUgY3VycmVudCBzcGVlZFxuICAvL2lmIGZvciBhbnkgcmVhc29uIHRoZSBjb25uZWN0aW9uIGlzIGJyb2tlbiBvciB1c2VyIHN0b3BwZWQsIHRoZW4gYWZ0ZXIgcmVzdW1pbmcgdGhlIGF2YWlsYWJsZSBieXRlcyBhcmVcbiAgLy9hbHdheXMgYmlnZ2VyIHRoZW4gdGhlIGFjdHVhbCBkb3dubG9hZGVkIGJ5dGVzLlxuICAvL29uY2UgdGhlIGZpbGUgaXMgZmluaXNoZWQgYm90aCB2YWx1ZXMgYXJlIGVxdWFsIGFuZCBoYXZlIHRoZSBzYW1lIHZhbHVlIGFzIGZpbGVfc2l6ZVxuXG4gIGxldCBub3cgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgaWYgKCF0aGlzLl9zdGF0c1RpbWUpIHtcbiAgICB0aGlzLl9zdGF0c1RpbWUgPSBub3c7XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGogPSBtYW5pZmVzdHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgbGV0IG1hbmlmZXN0SWQgPSBtYW5pZmVzdHNbaV07XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0gPSBfLmNsb25lKHN0YXRzKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5sZWZ0ID0gdGhpcy5fc3RvcmFnZS5sZWZ0LmNvdW50KG1hbmlmZXN0SWQpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmxlZnRJID0gdGhpcy5fc3RvcmFnZS5sZWZ0LmdldEl0ZW1zKG1hbmlmZXN0SWQpO1xuXG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZXJyb3JzID0gdGhpcy5fc3RvcmFnZS5lcnJvcnMuY291bnQobWFuaWZlc3RJZCk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZXJyb3JzSSA9IHRoaXMuX3N0b3JhZ2UuZXJyb3JzLmdldEl0ZW1zKG1hbmlmZXN0SWQpO1xuICAgIGxldCBpdGVtcyA9IHRoaXMuX3N0b3JhZ2UuZG93bmxvYWRpbmcuZ2V0S2V5cyhtYW5pZmVzdElkKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZyA9IGl0ZW1zLmxlbmd0aDtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ0kgPSB0aGlzLl9zdG9yYWdlLmRvd25sb2FkaW5nLmdldEl0ZW1zKG1hbmlmZXN0SWQpO1xuICAgIGxldCB3cml0ZVByb2dyZXNzRG93bmxvYWRpbmdJdGVtc0xlbmd0aCA9IGl0ZW1zLmxlbmd0aDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgayA8IGw7IGsrKykge1xuICAgICAgbGV0IGl0ZW0gPSB0aGlzLl9zdG9yYWdlLmRvd25sb2FkaW5nLmdldEl0ZW0obWFuaWZlc3RJZCwgaXRlbXNba10pO1xuICAgICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdCeXRlcyArPSBpdGVtLnN0YXRzLmRvd25sb2FkZWQ7XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ19maWxlX3NpemUgKz0gaXRlbS5zdGF0cy5maWxlX3NpemU7XG4gICAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGluZ0F2YWlsYWJsZUJ5dGVzICs9IGl0ZW0uc3RhdHMuYXZhaWxhYmxlO1xuICAgICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkaW5nICs9IGl0ZW0uc3RhdHMud3JpdGVQcm9ncmVzcztcbiAgICB9XG4gICAgaXRlbXMgPSB0aGlzLl9zdG9yYWdlLmRvd25sb2FkZWQuZ2V0SXRlbXMobWFuaWZlc3RJZCk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZCA9IGl0ZW1zLmxlbmd0aDtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkSSA9IGl0ZW1zO1xuICAgIGxldCB3cml0ZVByb2dyZXNzSXRlbXNEb3dubG9hZGVkTGVuZ3RoID0gaXRlbXMubGVuZ3RoO1xuICAgIGZvciAobGV0IGsgPSAwLCBsID0gaXRlbXMubGVuZ3RoOyBrIDwgbDsgaysrKSB7XG4gICAgICBsZXQgaXRlbSA9IGl0ZW1zW2tdO1xuICAgICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzICs9IGl0ZW0uc3RhdHMuZG93bmxvYWRlZDtcbiAgICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkICs9IGl0ZW0uc3RhdHMud3JpdGVQcm9ncmVzcztcbiAgICB9XG5cbiAgICAvL25lZWQgdG8gY2FsY3VsYXRlIHdoYXQgcGVyY2VudGFnZSBvZiBieXRlcyB0aGF0IGFyZSBnb2luZyB0byBiZSB3cml0dGVuIHRvIGhhcmQgZHJpdmUgYXJlIGFjY29yZGluZyB0aGUgdGhlIHdob2xlXG4gICAgLy8gc2l6ZSBmb3IgZXhhbXBsZSA1IGZpbGVzIGFyZSBiZWluZyBkb3dubG9hZGVkLCA0IHNtYWxsZXIgYXJlIDEwMG1iIGFuZCBvbmUgbGFyZ2UgMSw5R0IuIFdoZW4gdGhlIGxhcmdlIGZpbGUgaXNcbiAgICAvLyBiZWluZyBzYXZlZCB0aGUgd3JpdGUgcHJvZ3Jlc3MgaXMgYmFzaWNhbGx5IDE5MDAvMjAwMCA9IDk1JSBvZiBhbGwgd3JpdHRlbiBieXRlcy5cbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgKlxuICAgICAgKGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nQXZhaWxhYmxlQnl0ZXMgLyAoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzICsgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdfZmlsZV9zaXplKSB8fCAxKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRpbmcgLyAod3JpdGVQcm9ncmVzc0Rvd25sb2FkaW5nSXRlbXNMZW5ndGggfHwgMSk7XG5cbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRlZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkICpcbiAgICAgIChhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXMgLyAoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEJ5dGVzICsgYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdfZmlsZV9zaXplKSB8fCAxKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzRG93bmxvYWRlZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLndyaXRlUHJvZ3Jlc3NEb3dubG9hZGVkIC8gKHdyaXRlUHJvZ3Jlc3NJdGVtc0Rvd25sb2FkZWRMZW5ndGggfHwgMSk7XG5cbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS53cml0ZVByb2dyZXNzID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkaW5nICsgYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzc0Rvd25sb2FkZWQ7XG5cbiAgICBsZXQgc3BlZWQgPSB0aGlzLl9nZXREaWZmKFwiZG93bmxvYWRpbmdCeXRlc1wiLCBtYW5pZmVzdElkLCBhbGxTdGF0cywgdGhpcy5fc3RhdHNQcmV2aW91cyk7XG4gICAgc3BlZWQgKz0gdGhpcy5fZ2V0RGlmZihcImRvd25sb2FkZWRCeXRlc1wiLCBtYW5pZmVzdElkLCBhbGxTdGF0cywgdGhpcy5fc3RhdHNQcmV2aW91cyk7XG4gICAgc3BlZWQgPSAoc3BlZWQgKiAxMDAwKSAvICgobm93IC0gdGhpcy5fc3RhdHNUaW1lKSB8fCAxICApO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLnNwZWVkID0gc3BlZWQ7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3RhdHVzID0gdGhpcy5fc3RvcmFnZS5zdGF0dXMuZ2V0SXRlbShtYW5pZmVzdElkLCBcInN0YXR1c1wiKTtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kZXRhaWxzID0gdGhpcy5fc3RvcmFnZS5zdGF0dXMuZ2V0SXRlbShtYW5pZmVzdElkLCBcImRldGFpbHNcIik7XG5cbiAgICAvL3Byb2dyZXNzIGZvciBkb3dubG9hZGVkXG4gICAgbGV0IGxlZnRQYXJ0cyA9IGNvdW50UGFydHMoYWxsU3RhdHNbbWFuaWZlc3RJZF0ubGVmdEkpO1xuICAgIGxldCBkb3dubG9hZGVkUGFydHMgPSBjb3VudFBhcnRzKGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRJKTtcbiAgICBsZXQgZG93bmxvYWRpbmdQYXJ0c1NpemUgPSBjb3VudFBhcnRzT2JqKGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nSSk7XG4gICAgbGV0IGRvd25sb2FkaW5nUGFydHMgPSBjb3VudFBhcnRzT2JqKGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nSSwgdHJ1ZSk7XG4gICAgbGV0IGVycm9yUGFydHMgPSBjb3VudFBhcnRzT2JqKGFsbFN0YXRzW21hbmlmZXN0SWRdLmVycm9yc0kpO1xuICAgIGxldCBhbGxQYXJ0cyA9IGxlZnRQYXJ0cyArIGRvd25sb2FkZWRQYXJ0cyArIGRvd25sb2FkaW5nUGFydHNTaXplICsgZXJyb3JQYXJ0cztcblxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzID0gKGRvd25sb2FkZWRQYXJ0cyArIGRvd25sb2FkaW5nUGFydHMpIC8gKGFsbFBhcnRzIHx8IDEpO1xuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3MgKiAoMSAtIHdyaXRlUHJvZ3Jlc3NVc2FnZSk7XG4gICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3MgKz0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ud3JpdGVQcm9ncmVzcyAqIHdyaXRlUHJvZ3Jlc3NVc2FnZTtcblxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlc1RvdGFsID0gTWF0aC5yb3VuZChhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzcyAqIDEwMDAwKSAvIDEwMDtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXNUb3RhbCArPSBcIiVcIjtcblxuICAgIC8vIHByb2dyZXNzIG9mIGVhY2ggcmVwcmVzZW50aW9uXG4gICAgbGV0IHJlZHVjZUZ1bmMgPSBmdW5jdGlvbiAobWFwLCBvYmopIHtcbiAgICAgIGlmICggIW1hcFtvYmouaWRdICkgIHtcbiAgICAgICAgbWFwW29iai5pZF0gPSBbXVxuICAgICAgfVxuICAgICAgbWFwW29iai5pZF0ucHVzaChvYmopO1xuICAgICAgcmV0dXJuIG1hcDtcbiAgICB9XG4gICAgbGV0IGRvd25sb2FkZWRCeUlkID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZEkucmVkdWNlKHJlZHVjZUZ1bmMsIHt9KTtcbiAgICBsZXQgZG93bmxvYWRpbmdBcnJheSA9IHRvQXJyYXkoYWxsU3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRpbmdJKTtcbiAgICBsZXQgZG93bmxvYWRpbmdCeUlkID0gZG93bmxvYWRpbmdBcnJheS5yZWR1Y2UocmVkdWNlRnVuYywge30pO1xuICAgIGxldCBsZWZ0QnlJZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmxlZnRJLnJlZHVjZShyZWR1Y2VGdW5jLCB7fSk7XG4gICAgbGV0IGVycm9yQXJyYXkgPSB0b0FycmF5KGFsbFN0YXRzW21hbmlmZXN0SWRdLmVycm9yc0kpO1xuICAgIGxldCBlcnJvcnNCeUlkID0gZXJyb3JBcnJheS5yZWR1Y2UocmVkdWNlRnVuYywge30pO1xuXG4gICAgbGV0IGV4dGVuZCA9IGZ1bmN0aW9uIChvYmosIHNyYykge1xuICAgICAgZm9yICh2YXIga2V5IGluIHNyYykge1xuICAgICAgICBpZiAoc3JjLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICBpZiAoIW9ialtrZXldKSB7XG4gICAgICAgICAgICBvYmpba2V5XSA9IFtdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBvYmpba2V5XSA9IG9ialtrZXldLmNvbmNhdChzcmNba2V5XSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGxldCBhbGxQYXJ0c0J5SWQgPSB7fTtcbiAgICBleHRlbmQoYWxsUGFydHNCeUlkLCBkb3dubG9hZGVkQnlJZCk7XG4gICAgZXh0ZW5kKGFsbFBhcnRzQnlJZCwgZG93bmxvYWRpbmdCeUlkKTtcbiAgICBleHRlbmQoYWxsUGFydHNCeUlkLCBsZWZ0QnlJZCk7XG4gICAgZXh0ZW5kKGFsbFBhcnRzQnlJZCwgZXJyb3JzQnlJZCk7XG5cbiAgICAvLyBjb21wdXRlIHByb2dyZXMgZm9yIGVhY2ggaWRcbiAgICBsZXQgcHJvZ3Jlc3NCeUlkID0ge307XG4gICAgbGV0IGtleTtcbiAgICBmb3IgKGtleSBpbiBhbGxQYXJ0c0J5SWQpIHtcbiAgICAgIGlmIChhbGxQYXJ0c0J5SWQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBwcm9ncmVzc0J5SWRba2V5XSA9IChjb3VudFBhcnRzT2JqKGRvd25sb2FkZWRCeUlkW2tleV0pKSAvIChjb3VudFBhcnRzT2JqKGFsbFBhcnRzQnlJZFtrZXldKSB8fCAxKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IHByb2dyZXNzQnlJZFBlcmNlbnQgPSB7fTtcbiAgICBmb3IgKGtleSBpbiBwcm9ncmVzc0J5SWQpIHtcbiAgICAgIGlmIChwcm9ncmVzc0J5SWQuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICBwcm9ncmVzc0J5SWRQZXJjZW50W2tleV0gPSBNYXRoLnJvdW5kKHByb2dyZXNzQnlJZFtrZXldICogMTAwMDApIC8gMTAwICsgXCIlXCI7XG4gICAgICB9XG4gICAgfVxuICAgIGFsbFN0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZCA9IHByb2dyZXNzQnlJZDtcbiAgICBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzc0J5SWRQZXJjZW50ID0gcHJvZ3Jlc3NCeUlkUGVyY2VudDtcbiAgfVxuICBsZXQgc2hvd1N0YXRzID0ge307XG4gIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGxldCBtYW5pZmVzdElkID0gbWFuaWZlc3RzW2ldO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXSA9IHt9O1xuICAgIGxldCBkb3dubG9hZGVkQnl0ZXNUb3RhbCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlcyArIGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkaW5nQXZhaWxhYmxlQnl0ZXM7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0ucHJvZ3Jlc3M7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzUGVyY2VudGFnZSA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWRCeXRlc1RvdGFsO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzc0J5SWQgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzc0J5SWQ7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLnByb2dyZXNzQnlJZFBlcmNlbnQgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5wcm9ncmVzc0J5SWRQZXJjZW50O1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5kb3dubG9hZGVkQnl0ZXNUb3RhbCA9IHRoaXMuX2NvbnZlcnRUb0J5dGVzKGRvd25sb2FkZWRCeXRlc1RvdGFsLCAxLCAyLCAyKTtcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0uZG93bmxvYWRlZCA9IGFsbFN0YXRzW21hbmlmZXN0SWRdLmRvd25sb2FkZWQ7XG4gICAgc2hvd1N0YXRzW21hbmlmZXN0SWRdLmxlZnQgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5sZWZ0O1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5lcnJvcnMgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5lcnJvcnM7XG4gICAgaWYgKGFsbFN0YXRzW21hbmlmZXN0SWRdLnNwZWVkIDwgMCkge1xuICAgICAgYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQgPSAwO1xuICAgIH1cbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0uc3BlZWQgPSBhbGxTdGF0c1ttYW5pZmVzdElkXS5zcGVlZDtcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0uc3BlZWRCeXRlcyA9IHRoaXMuX2NvbnZlcnRUb0J5dGVzKGFsbFN0YXRzW21hbmlmZXN0SWRdLnNwZWVkLCAzLCAyKTtcbiAgICBzaG93U3RhdHNbbWFuaWZlc3RJZF0uc3RhdHVzID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uc3RhdHVzO1xuICAgIHNob3dTdGF0c1ttYW5pZmVzdElkXS5kZXRhaWxzID0gYWxsU3RhdHNbbWFuaWZlc3RJZF0uZGV0YWlscztcblxuICB9XG4gIGZvciAobGV0IGtleSBpbiBzaG93U3RhdHMpIHtcbiAgICBpZiAoc2hvd1N0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHRoaXMuX3N0YXRzW2tleV0gPSBzaG93U3RhdHNba2V5XTtcbiAgICB9XG4gIH1cbiAgaWYgKCFyZWZyZXNoKSB7XG4gICAgdGhpcy5fc3RhdHNUaW1lID0gbm93O1xuICAgIGZvciAobGV0IGtleSBpbiBhbGxTdGF0cykge1xuICAgICAgaWYgKGFsbFN0YXRzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgdGhpcy5fc3RhdHNQcmV2aW91c1trZXldID0gYWxsU3RhdHNba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGtleSAtIGtleSBzdGF0cyBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSBjdXJyZW50IC0gY3VycmVudCB2YWx1ZVxuICogQHBhcmFtIHtudW1iZXJ9IHByZXZpb3VzIC0gcHJldmlvdXMgdmFsdWVcbiAqIEByZXR1cm5zIHtudW1iZXJ9IC0gZGlmZmVyZW5jZSBiZXR3ZWVuIGN1cnJlbnQgYW5kIHByZXZpb3VzIHZhbHVlXG4gKiBAcHJpdmF0ZVxuICovXG5Eb3dubG9hZFN0YXRzLnByb3RvdHlwZS5fZ2V0RGlmZiA9IGZ1bmN0aW9uIChrZXksIG1hbmlmZXN0SWQsIGN1cnJlbnQsIHByZXZpb3VzKSB7XG4gIGNvbnN0IGN1cnJlbnRWYWx1ZSA9IGN1cnJlbnRbbWFuaWZlc3RJZF0gJiYgY3VycmVudFttYW5pZmVzdElkXVtrZXldIHx8IDA7XG4gIGNvbnN0IHByZXZpb3VzVmFsdWUgPSBwcmV2aW91c1ttYW5pZmVzdElkXSAmJiBwcmV2aW91c1ttYW5pZmVzdElkXVtrZXldIHx8IDA7XG4gIHJldHVybiBjdXJyZW50VmFsdWUgLSBwcmV2aW91c1ZhbHVlO1xufTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtzdHJpbmd8YXJyYXl9IG1hbmlmZXN0SWRzIC0gbWFuaWZlc3QgaWRlbnRpZmllciBvciBhcnJheSBvZiBtYW5pZmVzdHMgaWRlbnRpZmllclxuICogQHJldHVybnMgeyp9IHN0YXRzIGZvciBjZXJ0YWluIGRvd25sb2FkIG9yIGFycmF5IG9mIHN0YXRzIGZvciBkb3dubG9hZHNcbiAqL1xuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuZ2V0U3RhdHMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZHMpIHtcbiAgbGV0IHN0YXRzO1xuICBpZiAodGhpcy5fc3RhdHMpIHtcbiAgICBpZiAodHlwZW9mIG1hbmlmZXN0SWRzID09PSAnc3RyaW5nJykge1xuICAgICAgc3RhdHMgPSB0aGlzLl9zdGF0c1ttYW5pZmVzdElkc107XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXRzID0gW107XG4gICAgICBmb3IgKGxldCBpID0gMCwgaiA9IG1hbmlmZXN0SWRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICBsZXQgc3RhdCA9IHRoaXMuX3N0YXRzW21hbmlmZXN0SWRzW2ldXTtcbiAgICAgICAgaWYgKHN0YXQpIHtcbiAgICAgICAgICBzdGF0cy5wdXNoKHN0YXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBzdGF0cztcbn07XG5cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLnJlZnJlc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuX2dlbmVyYXRlKHRydWUpO1xufTtcblxuRG93bmxvYWRTdGF0cy5wcm90b3R5cGUuc3RhcnQgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5faW50ZXJ2YWwpIHtcbiAgICB0aGlzLl9pbnRlcnZhbCA9IHNldEludGVydmFsKHRoaXMuX2dlbmVyYXRlLCB0aGlzLl9TVEFUU19USU1FX0dFTkVSQVRJT04pO1xuICAgIHRoaXMuX2dlbmVyYXRlKCk7XG4gIH1cbn07XG5cbkRvd25sb2FkU3RhdHMucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xuICB0aGlzLl9pbnRlcnZhbCA9IG51bGw7XG4gIHRoaXMuX2dlbmVyYXRlKCk7XG4gIHRoaXMuX3N0YXRzUHJldmlvdXMgPSB7fTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gRG93bmxvYWRTdGF0cztcbiJdLCJuYW1lcyI6WyJfIiwicmVxdWlyZSIsIndyaXRlUHJvZ3Jlc3NVc2FnZSIsIkRvd25sb2FkU3RhdHMiLCJzdG9yYWdlIiwiX3N0b3JhZ2UiLCJfc3RhdHMiLCJfc3RhdHNQcmV2aW91cyIsIl9TVEFUU19USU1FX0dFTkVSQVRJT04iLCJiaW5kQWxsIiwicHJvdG90eXBlIiwiX2NvbnZlcnRUb0J5dGVzIiwidmFsdWUiLCJwcmVjaXNpb24iLCJwcmVjaXNpb24yIiwicHJlY2lzaW9uMyIsIl9jb252ZXJ0VG9LQiIsIl9jb252ZXJ0VG9NQiIsIl9jb252ZXJ0VG9HQiIsImEiLCJNYXRoIiwicG93Iiwib25lS0IiLCJyb3VuZCIsIm9uZU1CIiwib25lR0IiLCJfY2xlYXJTcGVlZCIsImFsbE1hbmlmZXN0SWRzIiwiT2JqZWN0Iiwia2V5cyIsImkiLCJqIiwibGVuZ3RoIiwibWFuaWZlc3RJZCIsImtleUV4aXN0cyIsInNwZWVkIiwic3BlZWRCeXRlcyIsIl9nZW5lcmF0ZSIsInJlZnJlc2giLCJhbGxTdGF0cyIsIm1hbmlmZXN0cyIsImdldEtleXMiLCJjb3VudFBhcnRzIiwiaXRlbXMiLCJwYXJ0cyIsImsiLCJsIiwiaXRlbSIsImJhbmR3aWR0aCIsImNvdW50UGFydHNPYmoiLCJ3aXRoRG93bmxvYWRlZE9ubHkiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsInN0YXRzIiwiYXZhaWxhYmxlIiwiZmlsZV9zaXplIiwidG9BcnJheSIsIm9iaiIsImFyciIsInB1c2giLCJkb3dubG9hZGluZyIsImRvd25sb2FkZWQiLCJsZWZ0IiwiZG93bmxvYWRpbmdBdmFpbGFibGVCeXRlcyIsImRvd25sb2FkaW5nX2ZpbGVfc2l6ZSIsImRvd25sb2FkaW5nQnl0ZXMiLCJkb3dubG9hZGVkQnl0ZXMiLCJhdmFpbGFibGVCeXRlcyIsIndyaXRlUHJvZ3Jlc3MiLCJ3cml0ZVByb2dyZXNzRG93bmxvYWRpbmciLCJ3cml0ZVByb2dyZXNzRG93bmxvYWRlZCIsImVycm9ycyIsInByb2dyZXNzIiwic3RhdHVzIiwibm93IiwiRGF0ZSIsImdldFRpbWUiLCJfc3RhdHNUaW1lIiwiY2xvbmUiLCJjb3VudCIsImxlZnRJIiwiZ2V0SXRlbXMiLCJlcnJvcnNJIiwiZG93bmxvYWRpbmdJIiwid3JpdGVQcm9ncmVzc0Rvd25sb2FkaW5nSXRlbXNMZW5ndGgiLCJnZXRJdGVtIiwiZG93bmxvYWRlZEkiLCJ3cml0ZVByb2dyZXNzSXRlbXNEb3dubG9hZGVkTGVuZ3RoIiwiX2dldERpZmYiLCJkZXRhaWxzIiwibGVmdFBhcnRzIiwiZG93bmxvYWRlZFBhcnRzIiwiZG93bmxvYWRpbmdQYXJ0c1NpemUiLCJkb3dubG9hZGluZ1BhcnRzIiwiZXJyb3JQYXJ0cyIsImFsbFBhcnRzIiwiZG93bmxvYWRlZEJ5dGVzVG90YWwiLCJyZWR1Y2VGdW5jIiwibWFwIiwiaWQiLCJkb3dubG9hZGVkQnlJZCIsInJlZHVjZSIsImRvd25sb2FkaW5nQXJyYXkiLCJkb3dubG9hZGluZ0J5SWQiLCJsZWZ0QnlJZCIsImVycm9yQXJyYXkiLCJlcnJvcnNCeUlkIiwiZXh0ZW5kIiwic3JjIiwiY29uY2F0IiwiYWxsUGFydHNCeUlkIiwicHJvZ3Jlc3NCeUlkIiwicHJvZ3Jlc3NCeUlkUGVyY2VudCIsInNob3dTdGF0cyIsInByb2dyZXNzUGVyY2VudGFnZSIsImN1cnJlbnQiLCJwcmV2aW91cyIsImN1cnJlbnRWYWx1ZSIsInByZXZpb3VzVmFsdWUiLCJnZXRTdGF0cyIsIm1hbmlmZXN0SWRzIiwic3RhdCIsInN0YXJ0IiwiX2ludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJzdG9wIiwiY2xlYXJJbnRlcnZhbCIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///2197\n')},7314:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar CODES = __webpack_require__(6999);\nvar translationErrors = {\n  downloads: {\n    _GENERAL: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Sorry we are unable to process your request - some internal error occurred"\n    },\n    ALREADY_FINISHED: {\n      code: CODES.ERRORS.FINISHED,\n      msg: "This download \'%manifestId%\' has been already finished."\n    },\n    ALREADY_REMOVED_ALL_UNFINISHED: {\n      code: CODES.ERRORS.REMOVED,\n      msg: "All unfinished downloads have been already removed, nothing left."\n    },\n    ALREADY_RESUMED: {\n      code: CODES.ERRORS.RESUMED,\n      msg: "This download \'%manifestId%\' has been already resumed."\n    },\n    ALREADY_STOPPED: {\n      code: CODES.ERRORS.STOPPED,\n      msg: "This download \'%manifestId%\' has been already stopped or has been already downloaded."\n    },\n    ALREADY_STOPPED_ALL: {\n      code: CODES.ERRORS.STOPPED,\n      msg: "There are no downloads to be stopped."\n    },\n    ALREADY_STARTED: {\n      code: CODES.ERRORS.STARTED,\n      msg: "This download \'%manifestId%\' has been already started."\n    },\n    BROKEN_CANNOT_BE_RESUMED: {\n      code: CODES.ERRORS.BROKEN,\n      msg: "This download \'%manifestId%\' is broken and cannot be resumed."\n    },\n    INFO_FAILED: {\n      code: CODES.ERRORS.INFO,\n      msg: "Gettting info of download \'%manifestId%\' failed."\n    },\n    REMOVING_ALL_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of all downloads failed."\n    },\n    REMOVING_ALL_UNFINISHED_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of all unfinished downloads failed."\n    },\n    REMOVING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Removing of download \'%manifestId%\' failed."\n    },\n    RESUMING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Resuming of download \'%manifestId%\' failed."\n    },\n    UPDATE_DOWNLOAD_FOLDER_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Updating of download folder for \'%manifestId%\' failed."\n    },\n    STOPPING_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Stopping of download \'%manifestId%\' failed."\n    },\n    SAVING_PERSISTENT_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Saving persistent info for download \'%manifestId%\' failed."\n    },\n    SAVING_DATA_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Saving data for download \'%manifestId%\' failed."\n    },\n    STOPPING_ALL_FAILED: {\n      code: CODES.ERRORS.INTERNAL_ERROR,\n      msg: "Stopping all downloads failed."\n    },\n    UNFINISHED: {\n      code: CODES.ERRORS.UNFINISHED,\n      msg: "This download is not ready yet."\n    }\n  },\n  manifests: {\n    NOT_FOUND: {\n      code: CODES.ERRORS.NOT_FOUND,\n      msg: "Manifest with id=\'%manifestId%\' not found."\n    },\n    LOADING_FAILED: {\n      code: CODES.ERRORS.LOADING,\n      msg: "Could not load manifest from url \'%manifestUrl%\'."\n    },\n    LIST_LOADING_FAILED: {\n      code: CODES.ERRORS.LOADING,\n      msg: "Could not load list of manifests."\n    },\n    FOLDER_ALREADY_EXISTS: {\n      code: CODES.ERRORS.EXISTS,\n      msg: "Folder for manifest with id =\'%manifestId%\' already exists."\n    },\n    INVALID_ID: {\n      code: CODES.ERRORS.BROKEN,\n      msg: "Provided custom id for manifest is not valid: (\'%invalid%\')"\n    }\n  }\n};\nmodule.exports = translationErrors;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQzJCLFVBQVU7TUFDN0J6QixHQUFHLEVBQUU7SUFDUDtFQUNGLENBQUM7RUFDRDBCLFNBQVMsRUFBRTtJQUNUQyxTQUFTLEVBQUU7TUFDVDlCLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFNLENBQUM2QixTQUFTO01BQzVCM0IsR0FBRyxFQUFFO0lBQ1AsQ0FBQztJQUNENEIsY0FBYyxFQUFFO01BQ2QvQixJQUFJLEVBQUVMLEtBQUssQ0FBQ00sTUFBTSxDQUFDK0IsT0FBTztNQUMxQjdCLEdBQUcsRUFBRTtJQUNQLENBQUM7SUFDRDhCLG1CQUFtQixFQUFFO01BQ25CakMsSUFBSSxFQUFFTCxLQUFLLENBQUNNLE1BQU0sQ0FBQytCLE9BQU87TUFDMUI3QixHQUFHLEVBQUU7SUFDUCxDQUFDO0lBQ0QrQixxQkFBcUIsRUFBRTtNQUNyQmxDLElBQUksRUFBRUwsS0FBSyxDQUFDTSxNQUFNLENBQUNrQyxNQUFNO01BQ3pCaEMsR0FBRyxFQUFFO0lBQ1AsQ0FBQztJQUNEaUMsVUFBVSxFQUFFO01BQ1ZwQyxJQUFJLEVBQUVMLEtBQUssQ0FBQ00sTUFBTSxDQUFDZSxNQUFNO01BQ3pCYixHQUFHLEVBQUU7SUFDUDtFQUNGO0FBQ0YsQ0FBQztBQUVEa0MsTUFBTSxDQUFDQyxPQUFPLEdBQUd6QyxpQkFBaUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3RyYW5zbGF0aW9uL19lcnJvcnMuanM/Y2JkZiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IENPREVTID0gcmVxdWlyZShcIi4vLi4vZG93bmxvYWRzL2NvZGVzXCIpO1xuXG5jb25zdCB0cmFuc2xhdGlvbkVycm9ycyA9IHtcbiAgZG93bmxvYWRzOiB7XG4gICAgX0dFTkVSQUw6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJTb3JyeSB3ZSBhcmUgdW5hYmxlIHRvIHByb2Nlc3MgeW91ciByZXF1ZXN0IC0gc29tZSBpbnRlcm5hbCBlcnJvciBvY2N1cnJlZFwiLFxuICAgIH0sXG4gICAgQUxSRUFEWV9GSU5JU0hFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLkZJTklTSEVELFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgaGFzIGJlZW4gYWxyZWFkeSBmaW5pc2hlZC5cIixcbiAgICB9LFxuICAgIEFMUkVBRFlfUkVNT1ZFRF9BTExfVU5GSU5JU0hFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLlJFTU9WRUQsXG4gICAgICBtc2c6IFwiQWxsIHVuZmluaXNoZWQgZG93bmxvYWRzIGhhdmUgYmVlbiBhbHJlYWR5IHJlbW92ZWQsIG5vdGhpbmcgbGVmdC5cIixcbiAgICB9LFxuICAgIEFMUkVBRFlfUkVTVU1FRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLlJFU1VNRUQsXG4gICAgICBtc2c6IFwiVGhpcyBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBoYXMgYmVlbiBhbHJlYWR5IHJlc3VtZWQuXCIsXG4gICAgfSxcbiAgICBBTFJFQURZX1NUT1BQRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5TVE9QUEVELFxuICAgICAgbXNnOiBcIlRoaXMgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgaGFzIGJlZW4gYWxyZWFkeSBzdG9wcGVkIG9yIGhhcyBiZWVuIGFscmVhZHkgZG93bmxvYWRlZC5cIixcbiAgICB9LFxuICAgIEFMUkVBRFlfU1RPUFBFRF9BTEw6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5TVE9QUEVELFxuICAgICAgbXNnOiBcIlRoZXJlIGFyZSBubyBkb3dubG9hZHMgdG8gYmUgc3RvcHBlZC5cIixcbiAgICB9LFxuICAgIEFMUkVBRFlfU1RBUlRFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLlNUQVJURUQsXG4gICAgICBtc2c6IFwiVGhpcyBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBoYXMgYmVlbiBhbHJlYWR5IHN0YXJ0ZWQuXCIsXG4gICAgfSxcbiAgICBCUk9LRU5fQ0FOTk9UX0JFX1JFU1VNRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5CUk9LRU4sXG4gICAgICBtc2c6IFwiVGhpcyBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBpcyBicm9rZW4gYW5kIGNhbm5vdCBiZSByZXN1bWVkLlwiLFxuICAgIH0sXG4gICAgSU5GT19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTkZPLFxuICAgICAgbXNnOiBcIkdldHR0aW5nIGluZm8gb2YgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgUkVNT1ZJTkdfQUxMX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlJlbW92aW5nIG9mIGFsbCBkb3dubG9hZHMgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgUkVNT1ZJTkdfQUxMX1VORklOSVNIRURfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiUmVtb3Zpbmcgb2YgYWxsIHVuZmluaXNoZWQgZG93bmxvYWRzIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFJFTU9WSU5HX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlJlbW92aW5nIG9mIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFJFU1VNSU5HX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlJlc3VtaW5nIG9mIGRvd25sb2FkICclbWFuaWZlc3RJZCUnIGZhaWxlZC5cIixcbiAgICB9LFxuICAgIFVQREFURV9ET1dOTE9BRF9GT0xERVJfRkFJTEVEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuSU5URVJOQUxfRVJST1IsXG4gICAgICBtc2c6IFwiVXBkYXRpbmcgb2YgZG93bmxvYWQgZm9sZGVyIGZvciAnJW1hbmlmZXN0SWQlJyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBTVE9QUElOR19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJTdG9wcGluZyBvZiBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBTQVZJTkdfUEVSU0lTVEVOVF9GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJTYXZpbmcgcGVyc2lzdGVudCBpbmZvIGZvciBkb3dubG9hZCAnJW1hbmlmZXN0SWQlJyBmYWlsZWQuXCIsXG4gICAgfSxcbiAgICBTQVZJTkdfREFUQV9GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5JTlRFUk5BTF9FUlJPUixcbiAgICAgIG1zZzogXCJTYXZpbmcgZGF0YSBmb3IgZG93bmxvYWQgJyVtYW5pZmVzdElkJScgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgU1RPUFBJTkdfQUxMX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLklOVEVSTkFMX0VSUk9SLFxuICAgICAgbXNnOiBcIlN0b3BwaW5nIGFsbCBkb3dubG9hZHMgZmFpbGVkLlwiLFxuICAgIH0sXG4gICAgVU5GSU5JU0hFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLlVORklOSVNIRUQsXG4gICAgICBtc2c6IFwiVGhpcyBkb3dubG9hZCBpcyBub3QgcmVhZHkgeWV0LlwiLFxuICAgIH0sXG4gIH0sXG4gIG1hbmlmZXN0czoge1xuICAgIE5PVF9GT1VORDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLk5PVF9GT1VORCxcbiAgICAgIG1zZzogXCJNYW5pZmVzdCB3aXRoIGlkPSclbWFuaWZlc3RJZCUnIG5vdCBmb3VuZC5cIlxuICAgIH0sXG4gICAgTE9BRElOR19GQUlMRUQ6IHtcbiAgICAgIGNvZGU6IENPREVTLkVSUk9SUy5MT0FESU5HLFxuICAgICAgbXNnOiBcIkNvdWxkIG5vdCBsb2FkIG1hbmlmZXN0IGZyb20gdXJsICclbWFuaWZlc3RVcmwlJy5cIlxuICAgIH0sXG4gICAgTElTVF9MT0FESU5HX0ZBSUxFRDoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLkxPQURJTkcsXG4gICAgICBtc2c6IFwiQ291bGQgbm90IGxvYWQgbGlzdCBvZiBtYW5pZmVzdHMuXCJcbiAgICB9LFxuICAgIEZPTERFUl9BTFJFQURZX0VYSVNUUzoge1xuICAgICAgY29kZTogQ09ERVMuRVJST1JTLkVYSVNUUyxcbiAgICAgIG1zZzogXCJGb2xkZXIgZm9yIG1hbmlmZXN0IHdpdGggaWQgPSclbWFuaWZlc3RJZCUnIGFscmVhZHkgZXhpc3RzLlwiXG4gICAgfSxcbiAgICBJTlZBTElEX0lEOiB7XG4gICAgICBjb2RlOiBDT0RFUy5FUlJPUlMuQlJPS0VOLFxuICAgICAgbXNnOiBcIlByb3ZpZGVkIGN1c3RvbSBpZCBmb3IgbWFuaWZlc3QgaXMgbm90IHZhbGlkOiAoJyVpbnZhbGlkJScpXCJcbiAgICB9LFxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHRyYW5zbGF0aW9uRXJyb3JzO1xuIl0sIm5hbWVzIjpbIkNPREVTIiwicmVxdWlyZSIsInRyYW5zbGF0aW9uRXJyb3JzIiwiZG93bmxvYWRzIiwiX0dFTkVSQUwiLCJjb2RlIiwiRVJST1JTIiwiSU5URVJOQUxfRVJST1IiLCJtc2ciLCJBTFJFQURZX0ZJTklTSEVEIiwiRklOSVNIRUQiLCJBTFJFQURZX1JFTU9WRURfQUxMX1VORklOSVNIRUQiLCJSRU1PVkVEIiwiQUxSRUFEWV9SRVNVTUVEIiwiUkVTVU1FRCIsIkFMUkVBRFlfU1RPUFBFRCIsIlNUT1BQRUQiLCJBTFJFQURZX1NUT1BQRURfQUxMIiwiQUxSRUFEWV9TVEFSVEVEIiwiU1RBUlRFRCIsIkJST0tFTl9DQU5OT1RfQkVfUkVTVU1FRCIsIkJST0tFTiIsIklORk9fRkFJTEVEIiwiSU5GTyIsIlJFTU9WSU5HX0FMTF9GQUlMRUQiLCJSRU1PVklOR19BTExfVU5GSU5JU0hFRF9GQUlMRUQiLCJSRU1PVklOR19GQUlMRUQiLCJSRVNVTUlOR19GQUlMRUQiLCJVUERBVEVfRE9XTkxPQURfRk9MREVSX0ZBSUxFRCIsIlNUT1BQSU5HX0ZBSUxFRCIsIlNBVklOR19QRVJTSVNURU5UX0ZBSUxFRCIsIlNBVklOR19EQVRBX0ZBSUxFRCIsIlNUT1BQSU5HX0FMTF9GQUlMRUQiLCJVTkZJTklTSEVEIiwibWFuaWZlc3RzIiwiTk9UX0ZPVU5EIiwiTE9BRElOR19GQUlMRUQiLCJMT0FESU5HIiwiTElTVF9MT0FESU5HX0ZBSUxFRCIsIkZPTERFUl9BTFJFQURZX0VYSVNUUyIsIkVYSVNUUyIsIklOVkFMSURfSUQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///7314\n')},9278:module=>{"use strict";eval('\n\nmodule.exports = {\n  test: "Hello world"\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUc7RUFDZkMsSUFBSSxFQUFFO0FBQ1IsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdHJhbnNsYXRpb24vX3RyYW5zbGF0aW9ucy5qcz82ZWIwIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgdGVzdDogXCJIZWxsbyB3b3JsZFwiXG59OyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwidGVzdCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9278\n')},817:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nfunction _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }\nvar errors = __webpack_require__(7314);\nvar translations = __webpack_require__(9278);\nvar CODES = __webpack_require__(6999);\nvar REGEXP_KEYS = /%[A-Za-z0-9_-]+%/g;\n\n/**\n * @namespace <global>\n * @module util/translation\n * @property {translationErrors} e - {@link translationErrors}\n */\nvar translation = {};\n\n/**\n *\n * @param {object} key - translation object\n * @returns {*} key from translation object\n * @private\n */\nfunction _getCode(key) {\n  key = key || {};\n  var code = key.code;\n  if (!code) {\n    code = CODES.GENERAL;\n  }\n  return code;\n}\n\n/**\n *\n * @param {object} key - translation object\n * @param {array|object|string|number|boolean} values - translation values\n * @returns {*} all key values\n * @private\n */\nfunction _getKeyValues(key, values) {\n  var translation = key;\n  var keyValues = [];\n  if (_typeof(translation) === "object") {\n    translation = translation.msg;\n  }\n  if (translation) {\n    if (values instanceof Array) {\n      var groups = _getUniqueKeys(translation.match(REGEXP_KEYS));\n      for (var i = 0, j = Math.min(groups.length, values.length); i < j; i++) {\n        var keyValue = {};\n        keyValue[groups[i].replace(/%/g, "")] = values[i];\n        keyValues.push(keyValue);\n      }\n    } else if (_typeof(values) === "object") {\n      for (var _key in values) {\n        if (values.hasOwnProperty(_key)) {\n          var _keyValue = {};\n          _keyValue[_key] = values[_key];\n          keyValues.push(_keyValue);\n        }\n      }\n    } else if (typeof values === "string" || typeof values === "number" || typeof values === "boolean") {\n      var _groups = translation.match(REGEXP_KEYS) || [];\n      for (var _i = 0, _j = _groups.length; _i < _j; _i++) {\n        var _keyValue2 = {};\n        _keyValue2[_groups[_i].replace(/%/g, "")] = values;\n        keyValues.push(_keyValue2);\n      }\n    }\n  }\n  if (keyValues && !keyValues.length) {\n    keyValues = undefined;\n  }\n  return keyValues;\n}\n\n/**\n *\n * @param {object} key - translation object\n * @param {array|object|string|number|boolean} values - translation values\n * @returns {*} translated message with attached values\n * @private\n */\nfunction _getTranslation(key, values) {\n  var translation = key;\n  if (_typeof(translation) === "object") {\n    translation = translation.msg;\n  }\n  if (translation) {\n    translation = _parseValues(translation, values);\n  } else {\n    translation = "Internal Error";\n  }\n  return translation;\n}\n\n/**\n *\n * @param {array} args - arguments\n * @returns {array} array of all values except 1st one\n * @private\n */\nfunction _getValues(args) {\n  var values = [];\n  for (var i = 1, j = args.length; i < j; i++) {\n    values.push(args[i]);\n  }\n  if (values.length === 0) {\n    values = undefined;\n  } else if (values.length === 1) {\n    values = values[0];\n  }\n  return values;\n}\n\n/**\n *\n * @param {array} groups - matched groups\n * @returns {array} unique names\n * @private\n */\nfunction _getUniqueKeys(groups) {\n  var hashKey = {};\n  var uniqueNames = [];\n  groups = groups || [];\n  for (var i = 0, j = groups.length; i < j; i++) {\n    if (!hashKey[groups[i]]) {\n      hashKey[groups[i]] = true;\n      uniqueNames.push(groups[i]);\n    }\n  }\n  return uniqueNames;\n}\n\n/**\n *\n * @param {string} translation - text to be translated\n * @param {array|object|string|number|boolean} values - values to be parsed with translation\n * @returns {*} translation\n * @private\n */\nfunction _parseValues(translation, values) {\n  values = values || \'\';\n  if (values instanceof Array) {\n    var groups = _getUniqueKeys(translation.match(REGEXP_KEYS));\n    for (var i = 0, j = Math.min(groups.length, values.length); i < j; i++) {\n      translation = translation.replace(new RegExp(groups[i], "g"), values[i]);\n    }\n  } else if (_typeof(values) === "object") {\n    for (var key in values) {\n      if (values.hasOwnProperty(key)) {\n        translation = translation.replace(new RegExp("%" + key + "%", "g"), values[key]);\n      }\n    }\n    translation = translation.replace(REGEXP_KEYS, values);\n  } else if (typeof values === "string" || typeof values === "number" || typeof values === "boolean") {\n    translation = translation.replace(REGEXP_KEYS, values);\n  }\n  return translation;\n}\n\n/**\n * @alias module:util/translation.getError\n * @param {object} key - translation object\n * @returns {{code: *, msg: *, keys: *}} - error object with code, msg and keys\n */\nfunction getError(key) {\n  var values = _getValues(arguments);\n  var keyValues = _getKeyValues(key, values);\n  var msg = _getTranslation(key, values);\n  var code = _getCode(key);\n  return {\n    code: code,\n    msg: msg,\n    keys: keyValues\n  };\n}\n\n/**\n * @alias module:util/translation.getTranslation\n * @static\n * @param {object} key - translation object\n * @returns {*} - return translated string with correctly applied values\n */\nfunction getTranslation(key) {\n  var values = _getValues(arguments);\n  return _getTranslation(key, values);\n}\ntranslation.getError = getError;\ntranslation.getTranslation = getTranslation;\ntranslation.e = errors;\ntranslation.t = translations;\nmodule.exports = translation;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUdGLFFBQVEsQ0FBQ0MsR0FBRyxDQUFDO0VBQzFCLE9BQU87SUFDTEMsSUFBSSxFQUFFQSxJQUFJO0lBQ1ZLLEdBQUcsRUFBRUEsR0FBRztJQUNSd0IsSUFBSSxFQUFFekI7RUFDUixDQUFDO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUzBCLGNBQWMsQ0FBRS9CLEdBQUcsRUFBRTtFQUM1QixJQUFNSSxNQUFNLEdBQUdtQixVQUFVLENBQUNNLFNBQVMsQ0FBQztFQUNwQyxPQUFPUixlQUFlLENBQUNyQixHQUFHLEVBQUVJLE1BQU0sQ0FBQztBQUNyQztBQUVBTixXQUFXLENBQUM4QixRQUFRLEdBQUdBLFFBQVE7QUFDL0I5QixXQUFXLENBQUNpQyxjQUFjLEdBQUdBLGNBQWM7QUFDM0NqQyxXQUFXLENBQUNrQyxDQUFDLEdBQUd2QyxNQUFNO0FBQ3RCSyxXQUFXLENBQUNtQyxDQUFDLEdBQUd0QyxZQUFZO0FBRTVCdUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdyQyxXQUFXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS90cmFuc2xhdGlvbi9pbmRleC5qcz9mNTI3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBlcnJvcnMgPSByZXF1aXJlKFwiLi9fZXJyb3JzXCIpO1xuY29uc3QgdHJhbnNsYXRpb25zID0gcmVxdWlyZShcIi4vX3RyYW5zbGF0aW9uc1wiKTtcbmNvbnN0IENPREVTID0gcmVxdWlyZShcIi4vLi4vZG93bmxvYWRzL2NvZGVzXCIpO1xuXG5jb25zdCBSRUdFWFBfS0VZUyA9IC8lW0EtWmEtejAtOV8tXSslL2c7XG5cbi8qKlxuICogQG5hbWVzcGFjZSA8Z2xvYmFsPlxuICogQG1vZHVsZSB1dGlsL3RyYW5zbGF0aW9uXG4gKiBAcHJvcGVydHkge3RyYW5zbGF0aW9uRXJyb3JzfSBlIC0ge0BsaW5rIHRyYW5zbGF0aW9uRXJyb3JzfVxuICovXG5sZXQgdHJhbnNsYXRpb24gPSB7fTtcblxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0ga2V5IC0gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcmV0dXJucyB7Kn0ga2V5IGZyb20gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0Q29kZSAoa2V5KSB7XG4gIGtleSA9IGtleSB8fCB7fTtcbiAgbGV0IGNvZGUgPSBrZXkuY29kZTtcbiAgaWYgKCFjb2RlKSB7XG4gICAgY29kZSA9IENPREVTLkdFTkVSQUxcbiAgfVxuICByZXR1cm4gY29kZTtcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHBhcmFtIHthcnJheXxvYmplY3R8c3RyaW5nfG51bWJlcnxib29sZWFufSB2YWx1ZXMgLSB0cmFuc2xhdGlvbiB2YWx1ZXNcbiAqIEByZXR1cm5zIHsqfSBhbGwga2V5IHZhbHVlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldEtleVZhbHVlcyAoa2V5LCB2YWx1ZXMpIHtcbiAgbGV0IHRyYW5zbGF0aW9uID0ga2V5O1xuICBsZXQga2V5VmFsdWVzID0gW107XG4gIGlmICh0eXBlb2YgdHJhbnNsYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLm1zZztcbiAgfVxuICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICBpZiAodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIGxldCBncm91cHMgPSBfZ2V0VW5pcXVlS2V5cyh0cmFuc2xhdGlvbi5tYXRjaChSRUdFWFBfS0VZUykpO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBNYXRoLm1pbihncm91cHMubGVuZ3RoLCB2YWx1ZXMubGVuZ3RoKTsgaSA8IGo7IGkrKykge1xuICAgICAgICBsZXQga2V5VmFsdWUgPSB7fTtcbiAgICAgICAga2V5VmFsdWVbZ3JvdXBzW2ldLnJlcGxhY2UoLyUvZywgXCJcIildID0gdmFsdWVzW2ldO1xuICAgICAgICBrZXlWYWx1ZXMucHVzaChrZXlWYWx1ZSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgdmFsdWVzID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBmb3IgKGxldCBrZXkgaW4gdmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgIGxldCBrZXlWYWx1ZSA9IHt9O1xuICAgICAgICAgIGtleVZhbHVlW2tleV0gPSB2YWx1ZXNba2V5XTtcbiAgICAgICAgICBrZXlWYWx1ZXMucHVzaChrZXlWYWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiB2YWx1ZXMgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlcyA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2YgdmFsdWVzID09PSBcImJvb2xlYW5cIikge1xuICAgICAgY29uc3QgZ3JvdXBzID0gdHJhbnNsYXRpb24ubWF0Y2goUkVHRVhQX0tFWVMpIHx8IFtdO1xuICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBncm91cHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICAgIGxldCBrZXlWYWx1ZSA9IHt9O1xuICAgICAgICBrZXlWYWx1ZVtncm91cHNbaV0ucmVwbGFjZSgvJS9nLCBcIlwiKV0gPSB2YWx1ZXM7XG4gICAgICAgIGtleVZhbHVlcy5wdXNoKGtleVZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgaWYgKGtleVZhbHVlcyAmJiAha2V5VmFsdWVzLmxlbmd0aCkge1xuICAgIGtleVZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgfVxuICByZXR1cm4ga2V5VmFsdWVzO1xufVxuXG4vKipcbiAqXG4gKiBAcGFyYW0ge29iamVjdH0ga2V5IC0gdHJhbnNsYXRpb24gb2JqZWN0XG4gKiBAcGFyYW0ge2FycmF5fG9iamVjdHxzdHJpbmd8bnVtYmVyfGJvb2xlYW59IHZhbHVlcyAtIHRyYW5zbGF0aW9uIHZhbHVlc1xuICogQHJldHVybnMgeyp9IHRyYW5zbGF0ZWQgbWVzc2FnZSB3aXRoIGF0dGFjaGVkIHZhbHVlc1xuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFRyYW5zbGF0aW9uIChrZXksIHZhbHVlcykge1xuICBsZXQgdHJhbnNsYXRpb24gPSBrZXk7XG4gIGlmICh0eXBlb2YgdHJhbnNsYXRpb24gPT09IFwib2JqZWN0XCIpIHtcbiAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLm1zZztcbiAgfVxuICBpZiAodHJhbnNsYXRpb24pIHtcbiAgICB0cmFuc2xhdGlvbiA9IF9wYXJzZVZhbHVlcyh0cmFuc2xhdGlvbiwgdmFsdWVzKTtcbiAgfSBlbHNlIHtcbiAgICB0cmFuc2xhdGlvbiA9IFwiSW50ZXJuYWwgRXJyb3JcIjtcbiAgfVxuICByZXR1cm4gdHJhbnNsYXRpb247XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IGFyZ3MgLSBhcmd1bWVudHNcbiAqIEByZXR1cm5zIHthcnJheX0gYXJyYXkgb2YgYWxsIHZhbHVlcyBleGNlcHQgMXN0IG9uZVxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX2dldFZhbHVlcyAoYXJncykge1xuICBsZXQgdmFsdWVzID0gW107XG4gIGZvciAobGV0IGkgPSAxLCBqID0gYXJncy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICB2YWx1ZXMucHVzaChhcmdzW2ldKTtcbiAgfVxuICBpZiAodmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgIHZhbHVlcyA9IHVuZGVmaW5lZDtcbiAgfSBlbHNlIGlmICh2YWx1ZXMubGVuZ3RoID09PSAxKSB7XG4gICAgdmFsdWVzID0gdmFsdWVzWzBdXG4gIH1cbiAgcmV0dXJuIHZhbHVlcztcbn1cblxuLyoqXG4gKlxuICogQHBhcmFtIHthcnJheX0gZ3JvdXBzIC0gbWF0Y2hlZCBncm91cHNcbiAqIEByZXR1cm5zIHthcnJheX0gdW5pcXVlIG5hbWVzXG4gKiBAcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBfZ2V0VW5pcXVlS2V5cyAoZ3JvdXBzKSB7XG4gIGxldCBoYXNoS2V5ID0ge307XG4gIGxldCB1bmlxdWVOYW1lcyA9IFtdO1xuICBncm91cHMgPSBncm91cHMgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGlmICghaGFzaEtleVtncm91cHNbaV1dKSB7XG4gICAgICBoYXNoS2V5W2dyb3Vwc1tpXV0gPSB0cnVlO1xuICAgICAgdW5pcXVlTmFtZXMucHVzaChncm91cHNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdW5pcXVlTmFtZXM7XG59XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSB0cmFuc2xhdGlvbiAtIHRleHQgdG8gYmUgdHJhbnNsYXRlZFxuICogQHBhcmFtIHthcnJheXxvYmplY3R8c3RyaW5nfG51bWJlcnxib29sZWFufSB2YWx1ZXMgLSB2YWx1ZXMgdG8gYmUgcGFyc2VkIHdpdGggdHJhbnNsYXRpb25cbiAqIEByZXR1cm5zIHsqfSB0cmFuc2xhdGlvblxuICogQHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gX3BhcnNlVmFsdWVzICh0cmFuc2xhdGlvbiwgdmFsdWVzKSB7XG4gIHZhbHVlcyA9IHZhbHVlcyB8fCAnJztcbiAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgY29uc3QgZ3JvdXBzID0gX2dldFVuaXF1ZUtleXModHJhbnNsYXRpb24ubWF0Y2goUkVHRVhQX0tFWVMpKTtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IE1hdGgubWluKGdyb3Vwcy5sZW5ndGgsIHZhbHVlcy5sZW5ndGgpOyBpIDwgajsgaSsrKSB7XG4gICAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cChncm91cHNbaV0sIFwiZ1wiKSwgdmFsdWVzW2ldKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlcyA9PT0gXCJvYmplY3RcIikge1xuICAgIGZvciAobGV0IGtleSBpbiB2YWx1ZXMpIHtcbiAgICAgIGlmICh2YWx1ZXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICB0cmFuc2xhdGlvbiA9IHRyYW5zbGF0aW9uLnJlcGxhY2UobmV3IFJlZ0V4cChcIiVcIiArIGtleSArIFwiJVwiLCBcImdcIiksIHZhbHVlc1trZXldKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbi5yZXBsYWNlKFJFR0VYUF9LRVlTLCB2YWx1ZXMpO1xuXG4gIH0gZWxzZSBpZiAodHlwZW9mIHZhbHVlcyA9PT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWVzID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZXMgPT09IFwiYm9vbGVhblwiKSB7XG4gICAgdHJhbnNsYXRpb24gPSB0cmFuc2xhdGlvbi5yZXBsYWNlKFJFR0VYUF9LRVlTLCB2YWx1ZXMpO1xuXG4gIH1cbiAgcmV0dXJuIHRyYW5zbGF0aW9uO1xufVxuXG4vKipcbiAqIEBhbGlhcyBtb2R1bGU6dXRpbC90cmFuc2xhdGlvbi5nZXRFcnJvclxuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHJldHVybnMge3tjb2RlOiAqLCBtc2c6ICosIGtleXM6ICp9fSAtIGVycm9yIG9iamVjdCB3aXRoIGNvZGUsIG1zZyBhbmQga2V5c1xuICovXG5mdW5jdGlvbiBnZXRFcnJvciAoa2V5KSB7XG4gIGNvbnN0IHZhbHVlcyA9IF9nZXRWYWx1ZXMoYXJndW1lbnRzKTtcbiAgY29uc3Qga2V5VmFsdWVzID0gX2dldEtleVZhbHVlcyhrZXksIHZhbHVlcyk7XG4gIGNvbnN0IG1zZyA9IF9nZXRUcmFuc2xhdGlvbihrZXksIHZhbHVlcyk7XG4gIGNvbnN0IGNvZGUgPSBfZ2V0Q29kZShrZXkpO1xuICByZXR1cm4ge1xuICAgIGNvZGU6IGNvZGUsXG4gICAgbXNnOiBtc2csXG4gICAga2V5czoga2V5VmFsdWVzLFxuICB9O1xufVxuXG4vKipcbiAqIEBhbGlhcyBtb2R1bGU6dXRpbC90cmFuc2xhdGlvbi5nZXRUcmFuc2xhdGlvblxuICogQHN0YXRpY1xuICogQHBhcmFtIHtvYmplY3R9IGtleSAtIHRyYW5zbGF0aW9uIG9iamVjdFxuICogQHJldHVybnMgeyp9IC0gcmV0dXJuIHRyYW5zbGF0ZWQgc3RyaW5nIHdpdGggY29ycmVjdGx5IGFwcGxpZWQgdmFsdWVzXG4gKi9cbmZ1bmN0aW9uIGdldFRyYW5zbGF0aW9uIChrZXkpIHtcbiAgY29uc3QgdmFsdWVzID0gX2dldFZhbHVlcyhhcmd1bWVudHMpO1xuICByZXR1cm4gX2dldFRyYW5zbGF0aW9uKGtleSwgdmFsdWVzKTtcbn1cblxudHJhbnNsYXRpb24uZ2V0RXJyb3IgPSBnZXRFcnJvcjtcbnRyYW5zbGF0aW9uLmdldFRyYW5zbGF0aW9uID0gZ2V0VHJhbnNsYXRpb247XG50cmFuc2xhdGlvbi5lID0gZXJyb3JzO1xudHJhbnNsYXRpb24udCA9IHRyYW5zbGF0aW9ucztcblxubW9kdWxlLmV4cG9ydHMgPSB0cmFuc2xhdGlvbjtcbiJdLCJuYW1lcyI6WyJlcnJvcnMiLCJyZXF1aXJlIiwidHJhbnNsYXRpb25zIiwiQ09ERVMiLCJSRUdFWFBfS0VZUyIsInRyYW5zbGF0aW9uIiwiX2dldENvZGUiLCJrZXkiLCJjb2RlIiwiR0VORVJBTCIsIl9nZXRLZXlWYWx1ZXMiLCJ2YWx1ZXMiLCJrZXlWYWx1ZXMiLCJtc2ciLCJBcnJheSIsImdyb3VwcyIsIl9nZXRVbmlxdWVLZXlzIiwibWF0Y2giLCJpIiwiaiIsIk1hdGgiLCJtaW4iLCJsZW5ndGgiLCJrZXlWYWx1ZSIsInJlcGxhY2UiLCJwdXNoIiwiaGFzT3duUHJvcGVydHkiLCJ1bmRlZmluZWQiLCJfZ2V0VHJhbnNsYXRpb24iLCJfcGFyc2VWYWx1ZXMiLCJfZ2V0VmFsdWVzIiwiYXJncyIsImhhc2hLZXkiLCJ1bmlxdWVOYW1lcyIsIlJlZ0V4cCIsImdldEVycm9yIiwiYXJndW1lbnRzIiwia2V5cyIsImdldFRyYW5zbGF0aW9uIiwiZSIsInQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///817\n')},6052:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar moment = __webpack_require__(1908);\nvar IsoDurationParser = function () {\n  function IsoDurationParser() {}\n  IsoDurationParser.getDuration = function (val) {\n    var dur = moment.duration(val);\n    return dur.asMilliseconds();\n  };\n  IsoDurationParser.getDurationAsS = function (val) {\n    var dur = moment.duration(val);\n    return dur.asSeconds();\n  };\n  IsoDurationParser.getMoment = function () {\n    return moment;\n  };\n  return IsoDurationParser;\n}();\nexports.IsoDurationParser = IsoDurationParser;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjA1Mi5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBZSxDQUFDO0FBQ3ZDLElBQU1DLGlCQUFpQixHQUFJLFlBQVk7RUFDckMsU0FBU0EsaUJBQWlCLEdBQUksQ0FDOUI7RUFFQUEsaUJBQWlCLENBQUNDLFdBQVcsR0FBRyxVQUFVQyxHQUFHLEVBQUU7SUFDN0MsSUFBTUMsR0FBRyxHQUFHTCxNQUFNLENBQUNNLFFBQVEsQ0FBQ0YsR0FBRyxDQUFDO0lBQ2hDLE9BQU9DLEdBQUcsQ0FBQ0UsY0FBYyxFQUFFO0VBQzdCLENBQUM7RUFDREwsaUJBQWlCLENBQUNNLGNBQWMsR0FBRyxVQUFVSixHQUFHLEVBQUU7SUFDaEQsSUFBTUMsR0FBRyxHQUFHTCxNQUFNLENBQUNNLFFBQVEsQ0FBQ0YsR0FBRyxDQUFDO0lBQ2hDLE9BQU9DLEdBQUcsQ0FBQ0ksU0FBUyxFQUFFO0VBQ3hCLENBQUM7RUFDRFAsaUJBQWlCLENBQUNRLFNBQVMsR0FBRyxZQUFZO0lBQ3hDLE9BQU9WLE1BQU07RUFDZixDQUFDO0VBQ0QsT0FBT0UsaUJBQWlCO0FBQzFCLENBQUMsRUFBRztBQUNKUyx5QkFBeUIsR0FBR1QsaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL0lzby1kdXJhdGlvbi1wYXJzZXIuanM/Y2M4MCJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoXCJtb21lbnQvbW9tZW50XCIpO1xuY29uc3QgSXNvRHVyYXRpb25QYXJzZXIgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBJc29EdXJhdGlvblBhcnNlciAoKSB7XG4gIH1cblxuICBJc29EdXJhdGlvblBhcnNlci5nZXREdXJhdGlvbiA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBjb25zdCBkdXIgPSBtb21lbnQuZHVyYXRpb24odmFsKTtcbiAgICByZXR1cm4gZHVyLmFzTWlsbGlzZWNvbmRzKCk7XG4gIH07XG4gIElzb0R1cmF0aW9uUGFyc2VyLmdldER1cmF0aW9uQXNTID0gZnVuY3Rpb24gKHZhbCkge1xuICAgIGNvbnN0IGR1ciA9IG1vbWVudC5kdXJhdGlvbih2YWwpO1xuICAgIHJldHVybiBkdXIuYXNTZWNvbmRzKCk7XG4gIH07XG4gIElzb0R1cmF0aW9uUGFyc2VyLmdldE1vbWVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gbW9tZW50O1xuICB9O1xuICByZXR1cm4gSXNvRHVyYXRpb25QYXJzZXI7XG59KCkpO1xuZXhwb3J0cy5Jc29EdXJhdGlvblBhcnNlciA9IElzb0R1cmF0aW9uUGFyc2VyO1xuIl0sIm5hbWVzIjpbIm1vbWVudCIsInJlcXVpcmUiLCJJc29EdXJhdGlvblBhcnNlciIsImdldER1cmF0aW9uIiwidmFsIiwiZHVyIiwiZHVyYXRpb24iLCJhc01pbGxpc2Vjb25kcyIsImdldER1cmF0aW9uQXNTIiwiYXNTZWNvbmRzIiwiZ2V0TW9tZW50IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6052\n")},8048:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar ArrayStorage = __webpack_require__(9567);\nvar createBridgeMethods = __webpack_require__(9921);\n\n/**\n * @param {DownloadsStorageController} parent - reference to parent object\n * @param {string} storageKey - storage key\n * @constructor\n */\nfunction ArrayStorageBridge(parent, storageKey) {\n  this._parent = parent;\n  this._storageKey = storageKey;\n  createBridgeMethods(this, ArrayStorage);\n}\nmodule.exports = ArrayStorageBridge;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODA0OC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxZQUFZLEdBQUdDLG1CQUFPLENBQUMsSUFBaUIsQ0FBQztBQUMvQyxJQUFNQyxtQkFBbUIsR0FBR0QsbUJBQU8sQ0FBQyxJQUF5QixDQUFDOztBQUU5RDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBU0Usa0JBQWtCLENBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFO0VBQy9DLElBQUksQ0FBQ0MsT0FBTyxHQUFHRixNQUFNO0VBQ3JCLElBQUksQ0FBQ0csV0FBVyxHQUFHRixVQUFVO0VBQzdCSCxtQkFBbUIsQ0FBQyxJQUFJLEVBQUVGLFlBQVksQ0FBQztBQUN6QztBQUVBUSxNQUFNLENBQUNDLE9BQU8sR0FBR04sa0JBQWtCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2FycmF5LXN0b3JhZ2UtYnJpZGdlLmpzP2M3MTYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBBcnJheVN0b3JhZ2UgPSByZXF1aXJlKFwiLi9hcnJheS1zdG9yYWdlXCIpO1xuY29uc3QgY3JlYXRlQnJpZGdlTWV0aG9kcyA9IHJlcXVpcmUoXCIuL2NyZWF0ZS1icmlkZ2UtbWV0aG9kc1wiKTtcblxuLyoqXG4gKiBAcGFyYW0ge0Rvd25sb2Fkc1N0b3JhZ2VDb250cm9sbGVyfSBwYXJlbnQgLSByZWZlcmVuY2UgdG8gcGFyZW50IG9iamVjdFxuICogQHBhcmFtIHtzdHJpbmd9IHN0b3JhZ2VLZXkgLSBzdG9yYWdlIGtleVxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIEFycmF5U3RvcmFnZUJyaWRnZSAocGFyZW50LCBzdG9yYWdlS2V5KSB7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG4gIGNyZWF0ZUJyaWRnZU1ldGhvZHModGhpcywgQXJyYXlTdG9yYWdlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBBcnJheVN0b3JhZ2VCcmlkZ2U7Il0sIm5hbWVzIjpbIkFycmF5U3RvcmFnZSIsInJlcXVpcmUiLCJjcmVhdGVCcmlkZ2VNZXRob2RzIiwiQXJyYXlTdG9yYWdlQnJpZGdlIiwicGFyZW50Iiwic3RvcmFnZUtleSIsIl9wYXJlbnQiLCJfc3RvcmFnZUtleSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///8048\n")},9567:module=>{"use strict";eval("\n\n/**\n * @constructor\n */\nfunction ArrayStorage() {\n  this._items = [];\n}\n\n/**\n * @returns {void}\n */\nArrayStorage.prototype.clear = function () {\n  this._items = [];\n};\n\n/**\n *\n * @param {array} items - array items\n * @returns {void}\n */\nArrayStorage.prototype.concat = function (items) {\n  this._items = this._items.concat(items);\n};\n\n/**\n *\n * @returns {number} - number of items\n */\nArrayStorage.prototype.count = function () {\n  return this._items.length;\n};\n\n/**\n *\n * @returns {array} - items\n */\nArrayStorage.prototype.getItems = function () {\n  return this._items;\n};\n\n/**\n *\n * @param {object} item - new item\n * @returns {void}\n */\nArrayStorage.prototype.push = function (item) {\n  this._items.push(item);\n};\n\n/**\n * removes first element and returns it\n * @returns {*} - item\n */\nArrayStorage.prototype.shift = function () {\n  return this._items.shift();\n};\n\n/**\n * add elements to the beginning of array\n * @returns {*} - new length of an array\n */\nArrayStorage.prototype.unshift = function () {\n  return this._items.unshift.apply(this, arguments);\n};\nmodule.exports = ArrayStorage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTU2Ny5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQSxTQUFTQSxZQUFZLEdBQUk7RUFDdkIsSUFBSSxDQUFDQyxNQUFNLEdBQUcsRUFBRTtBQUNsQjs7QUFFQTtBQUNBO0FBQ0E7QUFDQUQsWUFBWSxDQUFDRSxTQUFTLENBQUNDLEtBQUssR0FBRyxZQUFZO0VBQ3pDLElBQUksQ0FBQ0YsTUFBTSxHQUFHLEVBQUU7QUFDbEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0FELFlBQVksQ0FBQ0UsU0FBUyxDQUFDRSxNQUFNLEdBQUcsVUFBVUMsS0FBSyxFQUFFO0VBQy9DLElBQUksQ0FBQ0osTUFBTSxHQUFHLElBQUksQ0FBQ0EsTUFBTSxDQUFDRyxNQUFNLENBQUNDLEtBQUssQ0FBQztBQUN6QyxDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0FMLFlBQVksQ0FBQ0UsU0FBUyxDQUFDSSxLQUFLLEdBQUcsWUFBWTtFQUN6QyxPQUFPLElBQUksQ0FBQ0wsTUFBTSxDQUFDTSxNQUFNO0FBQzNCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQVAsWUFBWSxDQUFDRSxTQUFTLENBQUNNLFFBQVEsR0FBRyxZQUFZO0VBQzVDLE9BQU8sSUFBSSxDQUFDUCxNQUFNO0FBQ3BCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRCxZQUFZLENBQUNFLFNBQVMsQ0FBQ08sSUFBSSxHQUFHLFVBQVVDLElBQUksRUFBRTtFQUM1QyxJQUFJLENBQUNULE1BQU0sQ0FBQ1EsSUFBSSxDQUFDQyxJQUFJLENBQUM7QUFDeEIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBVixZQUFZLENBQUNFLFNBQVMsQ0FBQ1MsS0FBSyxHQUFHLFlBQVk7RUFDekMsT0FBTyxJQUFJLENBQUNWLE1BQU0sQ0FBQ1UsS0FBSyxFQUFFO0FBQzVCLENBQUM7O0FBRUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQVgsWUFBWSxDQUFDRSxTQUFTLENBQUNVLE9BQU8sR0FBRyxZQUFZO0VBQzNDLE9BQU8sSUFBSSxDQUFDWCxNQUFNLENBQUNXLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDLElBQUksRUFBRUMsU0FBUyxDQUFDO0FBQ25ELENBQUM7QUFFREMsTUFBTSxDQUFDQyxPQUFPLEdBQUdoQixZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2FycmF5LXN0b3JhZ2UuanM/NzU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gQXJyYXlTdG9yYWdlICgpIHtcbiAgdGhpcy5faXRlbXMgPSBbXTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuQXJyYXlTdG9yYWdlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5faXRlbXMgPSBbXTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IGl0ZW1zIC0gYXJyYXkgaXRlbXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5BcnJheVN0b3JhZ2UucHJvdG90eXBlLmNvbmNhdCA9IGZ1bmN0aW9uIChpdGVtcykge1xuICB0aGlzLl9pdGVtcyA9IHRoaXMuX2l0ZW1zLmNvbmNhdChpdGVtcyk7XG59O1xuXG4vKipcbiAqXG4gKiBAcmV0dXJucyB7bnVtYmVyfSAtIG51bWJlciBvZiBpdGVtc1xuICovXG5BcnJheVN0b3JhZ2UucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faXRlbXMubGVuZ3RoO1xufTtcblxuLyoqXG4gKlxuICogQHJldHVybnMge2FycmF5fSAtIGl0ZW1zXG4gKi9cbkFycmF5U3RvcmFnZS5wcm90b3R5cGUuZ2V0SXRlbXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLl9pdGVtcztcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIC0gbmV3IGl0ZW1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5BcnJheVN0b3JhZ2UucHJvdG90eXBlLnB1c2ggPSBmdW5jdGlvbiAoaXRlbSkge1xuICB0aGlzLl9pdGVtcy5wdXNoKGl0ZW0pO1xufTtcblxuLyoqXG4gKiByZW1vdmVzIGZpcnN0IGVsZW1lbnQgYW5kIHJldHVybnMgaXRcbiAqIEByZXR1cm5zIHsqfSAtIGl0ZW1cbiAqL1xuQXJyYXlTdG9yYWdlLnByb3RvdHlwZS5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2l0ZW1zLnNoaWZ0KCk7XG59O1xuXG4vKipcbiAqIGFkZCBlbGVtZW50cyB0byB0aGUgYmVnaW5uaW5nIG9mIGFycmF5XG4gKiBAcmV0dXJucyB7Kn0gLSBuZXcgbGVuZ3RoIG9mIGFuIGFycmF5XG4gKi9cbkFycmF5U3RvcmFnZS5wcm90b3R5cGUudW5zaGlmdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX2l0ZW1zLnVuc2hpZnQuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gQXJyYXlTdG9yYWdlOyJdLCJuYW1lcyI6WyJBcnJheVN0b3JhZ2UiLCJfaXRlbXMiLCJwcm90b3R5cGUiLCJjbGVhciIsImNvbmNhdCIsIml0ZW1zIiwiY291bnQiLCJsZW5ndGgiLCJnZXRJdGVtcyIsInB1c2giLCJpdGVtIiwic2hpZnQiLCJ1bnNoaWZ0IiwiYXBwbHkiLCJhcmd1bWVudHMiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9567\n")},5079:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\nvar path = __webpack_require__(1017);\nvar appSettings = __webpack_require__(9277);\n\n/**\n *\n * @param {string} manifestId - manifest Id\n * @param {string} downloadFolder - donwload folder\n * @returns {Promise} promise\n */\nmodule.exports = function (manifestId, downloadFolder) {\n  var settingsPath = path.resolve(appSettings.getSettings().settingsFolder + "/" + manifestId + "/");\n  var moviePath = path.resolve(appSettings.getSettings().downloadsFolderPath + "/" + manifestId + "/");\n  if (downloadFolder) {\n    moviePath = path.resolve(downloadFolder + "/" + manifestId + "/");\n  }\n  function dirNotExists(dirToCheck) {\n    return new Promise(function (resolve /* , reject */) {\n      fs.stat(dirToCheck, function (er, stat) {\n        if (er) {\n          resolve();\n        } else {\n          if (stat.isDirectory()) {\n            resolve(\'Folder already exists\');\n          } else {\n            resolve();\n          }\n        }\n      });\n    });\n  }\n  return new Promise(function (resolve, reject) {\n    Promise.all([dirNotExists(settingsPath), dirNotExists(moviePath)]).then(function (results) {\n      results = results || [];\n      var errors = results.filter(function (result) {\n        return typeof result !== \'undefined\';\n      });\n      if (errors.length) {\n        reject(results);\n      } else {\n        resolve();\n      }\n    }, reject);\n  });\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTA3OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxFQUFFLEdBQUdDLG1CQUFPLENBQUMsSUFBSSxDQUFDO0FBQ3hCLElBQU1DLElBQUksR0FBR0QsbUJBQU8sQ0FBQyxJQUFNLENBQUM7QUFDNUIsSUFBTUUsV0FBVyxHQUFHRixtQkFBTyxDQUFDLElBQWlCLENBQUM7O0FBRTlDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBRyxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFVQyxVQUFVLEVBQUVDLGNBQWMsRUFBRTtFQUNyRCxJQUFNQyxZQUFZLEdBQUdOLElBQUksQ0FBQ08sT0FBTyxDQUFDTixXQUFXLENBQUNPLFdBQVcsRUFBRSxDQUFDQyxjQUFjLEdBQUcsR0FBRyxHQUFHTCxVQUFVLEdBQUcsR0FBRyxDQUFDO0VBRXBHLElBQUlNLFNBQVMsR0FBR1YsSUFBSSxDQUFDTyxPQUFPLENBQUNOLFdBQVcsQ0FBQ08sV0FBVyxFQUFFLENBQUNHLG1CQUFtQixHQUFHLEdBQUcsR0FBR1AsVUFBVSxHQUFHLEdBQUcsQ0FBQztFQUNwRyxJQUFJQyxjQUFjLEVBQUU7SUFDbEJLLFNBQVMsR0FBR1YsSUFBSSxDQUFDTyxPQUFPLENBQUNGLGNBQWMsR0FBRyxHQUFHLEdBQUdELFVBQVUsR0FBRyxHQUFHLENBQUM7RUFDbkU7RUFFQSxTQUFTUSxZQUFZLENBQUVDLFVBQVUsRUFBRTtJQUNqQyxPQUFPLElBQUlDLE9BQU8sQ0FBQyxVQUFVUCxPQUFPLENBQUMsZ0JBQWdCO01BQ25EVCxFQUFFLENBQUNpQixJQUFJLENBQUNGLFVBQVUsRUFBRSxVQUFVRyxFQUFFLEVBQUVELElBQUksRUFBRTtRQUN0QyxJQUFJQyxFQUFFLEVBQUU7VUFDTlQsT0FBTyxFQUFFO1FBQ1gsQ0FBQyxNQUFNO1VBQ0wsSUFBSVEsSUFBSSxDQUFDRSxXQUFXLEVBQUUsRUFBRTtZQUN0QlYsT0FBTyxDQUFDLHVCQUF1QixDQUFDO1VBQ2xDLENBQUMsTUFBTTtZQUNMQSxPQUFPLEVBQUU7VUFDWDtRQUNGO01BQ0YsQ0FBQyxDQUFDO0lBQ0osQ0FBQyxDQUFDO0VBQ0o7RUFFQSxPQUFPLElBQUlPLE9BQU8sQ0FBQyxVQUFVUCxPQUFPLEVBQUVXLE1BQU0sRUFBRTtJQUM1Q0osT0FBTyxDQUFDSyxHQUFHLENBQUMsQ0FDVlAsWUFBWSxDQUFDTixZQUFZLENBQUMsRUFDMUJNLFlBQVksQ0FBQ0YsU0FBUyxDQUFDLENBQ3hCLENBQUMsQ0FBQ1UsSUFBSSxDQUFDLFVBQVVDLE9BQU8sRUFBRTtNQUN6QkEsT0FBTyxHQUFHQSxPQUFPLElBQUksRUFBRTtNQUN2QixJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQ0UsTUFBTSxDQUFDLFVBQVVDLE1BQU0sRUFBRTtRQUM5QyxPQUFPLE9BQU9BLE1BQU0sS0FBSyxXQUFXO01BQ3RDLENBQUMsQ0FBQztNQUNGLElBQUlGLE1BQU0sQ0FBQ0csTUFBTSxFQUFFO1FBQ2pCUCxNQUFNLENBQUNHLE9BQU8sQ0FBQztNQUNqQixDQUFDLE1BQU07UUFDTGQsT0FBTyxFQUFFO01BQ1g7SUFDRixDQUFDLEVBQUVXLE1BQU0sQ0FBQztFQUNaLENBQUMsQ0FBQztBQUNKLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvY2FuLWNyZWF0ZS1tYW5pZmVzdC5qcz9iNzZlIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5jb25zdCBhcHBTZXR0aW5ncyA9IHJlcXVpcmUoXCIuLi9hcHAtc2V0dGluZ3NcIik7XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdElkIC0gbWFuaWZlc3QgSWRcbiAqIEBwYXJhbSB7c3RyaW5nfSBkb3dubG9hZEZvbGRlciAtIGRvbndsb2FkIGZvbGRlclxuICogQHJldHVybnMge1Byb21pc2V9IHByb21pc2VcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobWFuaWZlc3RJZCwgZG93bmxvYWRGb2xkZXIpIHtcbiAgY29uc3Qgc2V0dGluZ3NQYXRoID0gcGF0aC5yZXNvbHZlKGFwcFNldHRpbmdzLmdldFNldHRpbmdzKCkuc2V0dGluZ3NGb2xkZXIgKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIik7XG5cbiAgbGV0IG1vdmllUGF0aCA9IHBhdGgucmVzb2x2ZShhcHBTZXR0aW5ncy5nZXRTZXR0aW5ncygpLmRvd25sb2Fkc0ZvbGRlclBhdGggKyBcIi9cIiArIG1hbmlmZXN0SWQgKyBcIi9cIik7XG4gIGlmIChkb3dubG9hZEZvbGRlcikge1xuICAgIG1vdmllUGF0aCA9IHBhdGgucmVzb2x2ZShkb3dubG9hZEZvbGRlciArIFwiL1wiICsgbWFuaWZlc3RJZCArIFwiL1wiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpck5vdEV4aXN0cyAoZGlyVG9DaGVjaykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSAvKiAsIHJlamVjdCAqLykge1xuICAgICAgZnMuc3RhdChkaXJUb0NoZWNrLCBmdW5jdGlvbiAoZXIsIHN0YXQpIHtcbiAgICAgICAgaWYgKGVyKSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgICAgIHJlc29sdmUoJ0ZvbGRlciBhbHJlYWR5IGV4aXN0cycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgUHJvbWlzZS5hbGwoW1xuICAgICAgZGlyTm90RXhpc3RzKHNldHRpbmdzUGF0aCksXG4gICAgICBkaXJOb3RFeGlzdHMobW92aWVQYXRoKVxuICAgIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgIHJlc3VsdHMgPSByZXN1bHRzIHx8IFtdO1xuICAgICAgY29uc3QgZXJyb3JzID0gcmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJlc3VsdCAhPT0gJ3VuZGVmaW5lZCc7XG4gICAgICB9KTtcbiAgICAgIGlmIChlcnJvcnMubGVuZ3RoKSB7XG4gICAgICAgIHJlamVjdChyZXN1bHRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH1cbiAgICB9LCByZWplY3QpO1xuICB9KTtcbn07XG4iXSwibmFtZXMiOlsiZnMiLCJyZXF1aXJlIiwicGF0aCIsImFwcFNldHRpbmdzIiwibW9kdWxlIiwiZXhwb3J0cyIsIm1hbmlmZXN0SWQiLCJkb3dubG9hZEZvbGRlciIsInNldHRpbmdzUGF0aCIsInJlc29sdmUiLCJnZXRTZXR0aW5ncyIsInNldHRpbmdzRm9sZGVyIiwibW92aWVQYXRoIiwiZG93bmxvYWRzRm9sZGVyUGF0aCIsImRpck5vdEV4aXN0cyIsImRpclRvQ2hlY2siLCJQcm9taXNlIiwic3RhdCIsImVyIiwiaXNEaXJlY3RvcnkiLCJyZWplY3QiLCJhbGwiLCJ0aGVuIiwicmVzdWx0cyIsImVycm9ycyIsImZpbHRlciIsInJlc3VsdCIsImxlbmd0aCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///5079\n')},9921:module=>{"use strict";eval('\n\n/**\n * the idea is to copy the methods from storage so that they can be triggered from parent object and then propagated back\n * to the storage object.\n * for example:\n *    someController.storage.status.setItem(manifestId, someKey, someValue);\n *    someController.storage.downloads.setItem(manifestId, someKey, someValue);\n * @param {object} scope - parent object where the method "From" object will be bridged to\n * @param {object} From - object where the original method was declared\n * @returns {void}\n */\nfunction createBridgeMethods(scope, From) {\n  function action() {\n    var args = [],\n      i,\n      j;\n    for (i = 0, j = arguments.length; i < j; i++) {\n      args.push(arguments[i]);\n    }\n    args.unshift(this._storageKey);\n    return this._parent._itemAction.apply(this._parent, args);\n  }\n  for (var methodName in From.prototype) {\n    if (From.prototype.hasOwnProperty(methodName)) {\n      scope[methodName] = action.bind(scope, methodName);\n    }\n  }\n}\nmodule.exports = createBridgeMethods;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTkyMS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNBLG1CQUFtQixDQUFFQyxLQUFLLEVBQUVDLElBQUksRUFBRTtFQUN6QyxTQUFTQyxNQUFNLEdBQUk7SUFDakIsSUFBSUMsSUFBSSxHQUFHLEVBQUU7TUFBRUMsQ0FBQztNQUFFQyxDQUFDO0lBQ25CLEtBQUtELENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBR0MsU0FBUyxDQUFDQyxNQUFNLEVBQUVILENBQUMsR0FBR0MsQ0FBQyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUM1Q0QsSUFBSSxDQUFDSyxJQUFJLENBQUNGLFNBQVMsQ0FBQ0YsQ0FBQyxDQUFDLENBQUM7SUFDekI7SUFDQUQsSUFBSSxDQUFDTSxPQUFPLENBQUMsSUFBSSxDQUFDQyxXQUFXLENBQUM7SUFDOUIsT0FBTyxJQUFJLENBQUNDLE9BQU8sQ0FBQ0MsV0FBVyxDQUFDQyxLQUFLLENBQUMsSUFBSSxDQUFDRixPQUFPLEVBQUVSLElBQUksQ0FBQztFQUMzRDtFQUVBLEtBQUssSUFBSVcsVUFBVSxJQUFJYixJQUFJLENBQUNjLFNBQVMsRUFBRTtJQUNyQyxJQUFJZCxJQUFJLENBQUNjLFNBQVMsQ0FBQ0MsY0FBYyxDQUFDRixVQUFVLENBQUMsRUFBRTtNQUM3Q2QsS0FBSyxDQUFDYyxVQUFVLENBQUMsR0FBR1osTUFBTSxDQUFDZSxJQUFJLENBQUNqQixLQUFLLEVBQUVjLFVBQVUsQ0FBQztJQUNwRDtFQUNGO0FBQ0Y7QUFFQUksTUFBTSxDQUFDQyxPQUFPLEdBQUdwQixtQkFBbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvY3JlYXRlLWJyaWRnZS1tZXRob2RzLmpzPzk3MDkiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qKlxuICogdGhlIGlkZWEgaXMgdG8gY29weSB0aGUgbWV0aG9kcyBmcm9tIHN0b3JhZ2Ugc28gdGhhdCB0aGV5IGNhbiBiZSB0cmlnZ2VyZWQgZnJvbSBwYXJlbnQgb2JqZWN0IGFuZCB0aGVuIHByb3BhZ2F0ZWQgYmFja1xuICogdG8gdGhlIHN0b3JhZ2Ugb2JqZWN0LlxuICogZm9yIGV4YW1wbGU6XG4gKiAgICBzb21lQ29udHJvbGxlci5zdG9yYWdlLnN0YXR1cy5zZXRJdGVtKG1hbmlmZXN0SWQsIHNvbWVLZXksIHNvbWVWYWx1ZSk7XG4gKiAgICBzb21lQ29udHJvbGxlci5zdG9yYWdlLmRvd25sb2Fkcy5zZXRJdGVtKG1hbmlmZXN0SWQsIHNvbWVLZXksIHNvbWVWYWx1ZSk7XG4gKiBAcGFyYW0ge29iamVjdH0gc2NvcGUgLSBwYXJlbnQgb2JqZWN0IHdoZXJlIHRoZSBtZXRob2QgXCJGcm9tXCIgb2JqZWN0IHdpbGwgYmUgYnJpZGdlZCB0b1xuICogQHBhcmFtIHtvYmplY3R9IEZyb20gLSBvYmplY3Qgd2hlcmUgdGhlIG9yaWdpbmFsIG1ldGhvZCB3YXMgZGVjbGFyZWRcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBjcmVhdGVCcmlkZ2VNZXRob2RzIChzY29wZSwgRnJvbSkge1xuICBmdW5jdGlvbiBhY3Rpb24gKCkge1xuICAgIGxldCBhcmdzID0gW10sIGksIGo7XG4gICAgZm9yIChpID0gMCwgaiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICAgIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIH1cbiAgICBhcmdzLnVuc2hpZnQodGhpcy5fc3RvcmFnZUtleSk7XG4gICAgcmV0dXJuIHRoaXMuX3BhcmVudC5faXRlbUFjdGlvbi5hcHBseSh0aGlzLl9wYXJlbnQsIGFyZ3MpO1xuICB9XG5cbiAgZm9yIChsZXQgbWV0aG9kTmFtZSBpbiBGcm9tLnByb3RvdHlwZSkge1xuICAgIGlmIChGcm9tLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShtZXRob2ROYW1lKSkge1xuICAgICAgc2NvcGVbbWV0aG9kTmFtZV0gPSBhY3Rpb24uYmluZChzY29wZSwgbWV0aG9kTmFtZSk7XG4gICAgfVxuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gY3JlYXRlQnJpZGdlTWV0aG9kczsiXSwibmFtZXMiOlsiY3JlYXRlQnJpZGdlTWV0aG9kcyIsInNjb3BlIiwiRnJvbSIsImFjdGlvbiIsImFyZ3MiLCJpIiwiaiIsImFyZ3VtZW50cyIsImxlbmd0aCIsInB1c2giLCJ1bnNoaWZ0IiwiX3N0b3JhZ2VLZXkiLCJfcGFyZW50IiwiX2l0ZW1BY3Rpb24iLCJhcHBseSIsIm1ldGhvZE5hbWUiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImJpbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9921\n')},8494:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar fs = __webpack_require__(7147);\nvar path = __webpack_require__(1017);\n/**\n * @param {string} dir - folder path\n * @param {string} itemName - folder or file name\n * @param {boolean} includeFolders - if folders should be included\n * @param {boolean} includeFiles - if files should be included\n * @returns {Promise} promise\n */\nfunction filterDirItem(dir, itemName, includeFolders, includeFiles) {\n  var folderPath = path.resolve(dir + "/" + itemName);\n  return new Promise(function (resolve, reject) {\n    fs.stat(folderPath, function (err, stat) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      if (stat.isDirectory()) {\n        if (!includeFolders) {\n          itemName = undefined;\n        }\n        resolve(itemName);\n      } else {\n        if (!includeFiles) {\n          itemName = undefined;\n        }\n        resolve(itemName);\n      }\n    });\n  });\n}\n\n/**\n * @param {string} dir - folder path\n * @param {boolean} includeFolders - if folders should be included\n * @param {boolean} includeFiles - if files should be included\n * @returns {Promise} promise\n */\nfunction dirList(dir, includeFolders, includeFiles) {\n  if (typeof includeFolders === "undefined") {\n    includeFolders = true;\n  }\n  if (typeof includeFiles === "undefined") {\n    includeFiles = true;\n  }\n  return new Promise(function (resolve, reject) {\n    fs.readdir(dir, function (err, folders) {\n      if (err) {\n        //not found return empty list, there was another error ENOTDIR but it seems like this is not a valid case anyway\n        if (err.code === "ENOENT" || err.code === "ENOTDIR") {\n          resolve([]);\n        } else {\n          reject(err.message);\n        }\n      } else {\n        var foldersPromises = [];\n        for (var i = 0, j = folders.length; i < j; i++) {\n          foldersPromises.push(filterDirItem(dir, folders[i], includeFolders, includeFiles));\n        }\n        Promise.all(foldersPromises).then(function (results) {\n          resolve(results.filter(function (folderName) {\n            return typeof folderName !== "undefined";\n          }));\n        }, function (promiseError) {\n          reject(promiseError);\n        });\n      }\n    });\n  });\n}\nmodule.exports = dirList;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxDQUFDO0VBQ0osQ0FBQyxDQUFDO0FBQ0o7QUFFQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdqQixPQUFPIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2Rpci1saXN0LmpzPzJmMWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBmcyA9IHJlcXVpcmUoXCJmc1wiKTtcbmNvbnN0IHBhdGggPSByZXF1aXJlKFwicGF0aFwiKTtcbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGRpciAtIGZvbGRlciBwYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gaXRlbU5hbWUgLSBmb2xkZXIgb3IgZmlsZSBuYW1lXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGluY2x1ZGVGb2xkZXJzIC0gaWYgZm9sZGVycyBzaG91bGQgYmUgaW5jbHVkZWRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUZpbGVzIC0gaWYgZmlsZXMgc2hvdWxkIGJlIGluY2x1ZGVkXG4gKiBAcmV0dXJucyB7UHJvbWlzZX0gcHJvbWlzZVxuICovXG5mdW5jdGlvbiBmaWx0ZXJEaXJJdGVtIChkaXIsIGl0ZW1OYW1lLCBpbmNsdWRlRm9sZGVycywgaW5jbHVkZUZpbGVzKSB7XG4gIGNvbnN0IGZvbGRlclBhdGggPSBwYXRoLnJlc29sdmUoZGlyICsgXCIvXCIgKyBpdGVtTmFtZSk7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnMuc3RhdChmb2xkZXJQYXRoLCBmdW5jdGlvbiAoZXJyLCBzdGF0KSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIGlmICghaW5jbHVkZUZvbGRlcnMpIHtcbiAgICAgICAgICBpdGVtTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKGl0ZW1OYW1lKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKCFpbmNsdWRlRmlsZXMpIHtcbiAgICAgICAgICBpdGVtTmFtZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKGl0ZW1OYW1lKVxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGlyIC0gZm9sZGVyIHBhdGhcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW5jbHVkZUZvbGRlcnMgLSBpZiBmb2xkZXJzIHNob3VsZCBiZSBpbmNsdWRlZFxuICogQHBhcmFtIHtib29sZWFufSBpbmNsdWRlRmlsZXMgLSBpZiBmaWxlcyBzaG91bGQgYmUgaW5jbHVkZWRcbiAqIEByZXR1cm5zIHtQcm9taXNlfSBwcm9taXNlXG4gKi9cbmZ1bmN0aW9uIGRpckxpc3QgKGRpciwgaW5jbHVkZUZvbGRlcnMsIGluY2x1ZGVGaWxlcykge1xuICBpZiAodHlwZW9mIGluY2x1ZGVGb2xkZXJzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgaW5jbHVkZUZvbGRlcnMgPSB0cnVlO1xuICB9XG4gIGlmICh0eXBlb2YgaW5jbHVkZUZpbGVzID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgaW5jbHVkZUZpbGVzID0gdHJ1ZTtcbiAgfVxuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZzLnJlYWRkaXIoZGlyLCBmdW5jdGlvbiAoZXJyLCBmb2xkZXJzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIC8vbm90IGZvdW5kIHJldHVybiBlbXB0eSBsaXN0LCB0aGVyZSB3YXMgYW5vdGhlciBlcnJvciBFTk9URElSIGJ1dCBpdCBzZWVtcyBsaWtlIHRoaXMgaXMgbm90IGEgdmFsaWQgY2FzZSBhbnl3YXlcbiAgICAgICAgaWYgKGVyci5jb2RlID09PSBcIkVOT0VOVFwiIHx8IGVyci5jb2RlID09PSBcIkVOT1RESVJcIikge1xuICAgICAgICAgIHJlc29sdmUoW10pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlamVjdChlcnIubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGxldCBmb2xkZXJzUHJvbWlzZXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGogPSBmb2xkZXJzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgICAgIGZvbGRlcnNQcm9taXNlcy5wdXNoKGZpbHRlckRpckl0ZW0oZGlyLCBmb2xkZXJzW2ldLCBpbmNsdWRlRm9sZGVycywgaW5jbHVkZUZpbGVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgUHJvbWlzZS5hbGwoZm9sZGVyc1Byb21pc2VzKS50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgICAgcmVzb2x2ZShyZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAoZm9sZGVyTmFtZSkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBmb2xkZXJOYW1lICE9PSBcInVuZGVmaW5lZFwiXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9LCBmdW5jdGlvbiAocHJvbWlzZUVycm9yKSB7XG4gICAgICAgICAgcmVqZWN0KHByb21pc2VFcnJvcik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkaXJMaXN0O1xuIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJmaWx0ZXJEaXJJdGVtIiwiZGlyIiwiaXRlbU5hbWUiLCJpbmNsdWRlRm9sZGVycyIsImluY2x1ZGVGaWxlcyIsImZvbGRlclBhdGgiLCJyZXNvbHZlIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXQiLCJlcnIiLCJpc0RpcmVjdG9yeSIsInVuZGVmaW5lZCIsImRpckxpc3QiLCJyZWFkZGlyIiwiZm9sZGVycyIsImNvZGUiLCJtZXNzYWdlIiwiZm9sZGVyc1Byb21pc2VzIiwiaSIsImoiLCJsZW5ndGgiLCJwdXNoIiwiYWxsIiwidGhlbiIsInJlc3VsdHMiLCJmaWx0ZXIiLCJmb2xkZXJOYW1lIiwicHJvbWlzZUVycm9yIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8494\n')},957:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar constants = __webpack_require__(6953);\nvar utilUrl = __webpack_require__(8279);\n\n/**\n * @module\n * @namespace downloadUtil\n */\nvar downloadUtil = {};\n\n/**\n * @typedef {Link} Link\n * @property {string} id - identifier\n * @property {number} bandwidth - bandwidth\n * @property {string} contentType - content type [video, audio, text]\n * @property {string} remoteUrl - remote url\n * @property {string} localUrl - local url\n */\n\n/**\n * @typedef {Link} Link\n * @property {string} id - identifier\n * @property {number} bandwidth - bandwidth\n * @property {string} contentType - content type [video, audio, text]\n * @property {string} remoteUrl - remote url\n * @property {string} localUrl - local url\n */\n\n/**\n * @param {string} manifestId - manifest identifier\n * @param {string} localPath - local path\n * @param {string} remotePath - remote path\n * @param {Array} userRepresentations - representations chosen by a user\n * @param {Array} manifestRepresentations - all manifest representations\n * @param {object} downloadedHash - download unique identifier\n * @returns {Link[]} array of {@link Link}\n */\ndownloadUtil.getAllLinks = function getAllLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations) {\n  return downloadUtil.getDownloadLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations);\n};\n\n/**\n * @param {string} manifestId - manifest identifier\n * @param {string} localPath - local path\n * @param {string} remotePath - remote path\n * @param {Array} userRepresentations - representations chosen by a user\n * @param {Array} manifestRepresentations - all manifest representations\n * @param {object} downloadedHash - download unique identifier\n * @returns {Link[]} array of {@link Link}\n */\ndownloadUtil.getDownloadLinks = function getDownloadLinks(manifestId, localPath, remotePath, userRepresentations, manifestRepresentations, downloadedHash) {\n  var chosenRepresentations = downloadUtil.getChosenRepresentations(userRepresentations, manifestRepresentations);\n  var bandwidth, contentType, localUrl, i, id, j, k, l, links;\n  var mediaFile, mediaBaseUrl, mediaUrls, remoteUrl, segmentInformation;\n  links = [];\n  downloadedHash = downloadedHash || {};\n  for (i = 0, j = chosenRepresentations.length; i < j; i++) {\n    contentType = chosenRepresentations[i].attributeList.mimeType;\n    bandwidth = +chosenRepresentations[i].attributeList.bandwidth;\n    if (contentType.indexOf("video") === 0) {\n      contentType = "video";\n    } else if (contentType.indexOf("audio") === 0) {\n      contentType = "audio";\n    } else {\n      contentType = "text";\n    }\n    segmentInformation = chosenRepresentations[i].segmentInformation;\n    mediaUrls = segmentInformation.mediaUrls;\n    id = segmentInformation.representationID;\n    for (k = 0, l = mediaUrls.length; k < l; k++) {\n      mediaFile = mediaUrls[k].mediaFile;\n      mediaBaseUrl = mediaUrls[k].baseURL;\n      mediaBaseUrl = mediaBaseUrl.replace(/\\.\\.\\//g, "");\n      mediaBaseUrl = mediaBaseUrl.replace(/\\.\\./g, "");\n      if (mediaFile === mediaBaseUrl || remotePath === mediaBaseUrl) {\n        mediaBaseUrl = "";\n      }\n      // remove http and https from mediaBaseUrl, this way it will create a correct folder structure\n      if (mediaBaseUrl.match(constants.regexpProtocolRemove)) {\n        remoteUrl = utilUrl.joinPathWithFile(mediaBaseUrl, mediaFile);\n        localUrl = utilUrl.joinPathWithFile(localPath, mediaBaseUrl.replace(constants.regexpProtocolRemove, ""), mediaFile);\n      } else {\n        remoteUrl = utilUrl.joinPathWithFile(remotePath, mediaBaseUrl, mediaFile);\n        localUrl = utilUrl.joinPathWithFile(localPath, mediaBaseUrl, mediaFile);\n      }\n\n      // filter query string from localUrl\n      var index = localUrl.lastIndexOf(\'?\');\n      if (index > -1) {\n        localUrl = localUrl.substr(0, index);\n      }\n      if (!downloadedHash[localUrl] || !downloadedHash[localUrl] && downloadedHash[localUrl].remoteUrl !== remoteUrl) {\n        if (!links[k]) {\n          links[k] = [];\n        }\n        links[k].push({\n          id: id,\n          bandwidth: bandwidth,\n          contentType: contentType,\n          remoteUrl: remoteUrl,\n          localUrl: localUrl\n        });\n      }\n    }\n  }\n\n  // NOTE: use links.flat() in the future\n  return links.reduce(function (acc, val) {\n    return acc.concat(val);\n  }, []);\n};\n\n/**\n *\n * @param {array} userChosenRepr - array of chosen representations ids by user\n * @param {array} manifestRepr - array of all manifest representations\n * @returns {array} chosen representations from manifest\n */\ndownloadUtil.getChosenRepresentations = function getChosenRepresentations(userChosenRepr, manifestRepr) {\n  var chosenRepresentations = [];\n  var userChosenReprObj = {};\n  userChosenRepr = userChosenRepr || [];\n  manifestRepr = manifestRepr || [];\n  for (var i = 0, j = userChosenRepr.length; i < j; i++) {\n    userChosenReprObj[String(userChosenRepr[i])] = true;\n  }\n  for (var _i = 0, _j = manifestRepr.length; _i < _j; _i++) {\n    var items = manifestRepr[_i].representationColl;\n    for (var k = 0, l = items.length; k < l; k++) {\n      var item = items[k];\n      if (userChosenReprObj[String(item.attributeList.id)]) {\n        chosenRepresentations.push(item);\n      }\n    }\n  }\n  return chosenRepresentations;\n};\nmodule.exports = downloadUtil;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RUFBRVgsRUFBQyxHQUFHRSxFQUFDLEVBQUVGLEVBQUMsRUFBRSxFQUFFO0lBQ25ELElBQU1pQyxLQUFLLEdBQUdILFlBQVksQ0FBQzlCLEVBQUMsQ0FBQyxDQUFDa0Msa0JBQWtCO0lBQ2hELEtBQUssSUFBSS9CLENBQUMsR0FBRyxDQUFDLEVBQUVDLENBQUMsR0FBRzZCLEtBQUssQ0FBQ3RCLE1BQU0sRUFBRVIsQ0FBQyxHQUFHQyxDQUFDLEVBQUVELENBQUMsRUFBRSxFQUFFO01BQzVDLElBQU1nQyxJQUFJLEdBQUdGLEtBQUssQ0FBQzlCLENBQUMsQ0FBQztNQUNyQixJQUFJNEIsaUJBQWlCLENBQUNDLE1BQU0sQ0FBQ0csSUFBSSxDQUFDdkIsYUFBYSxDQUFDWCxFQUFFLENBQUMsQ0FBQyxFQUFFO1FBQ3BETixxQkFBcUIsQ0FBQzZCLElBQUksQ0FBQ1csSUFBSSxDQUFDO01BQ2xDO0lBQ0Y7RUFDRjtFQUNBLE9BQU94QyxxQkFBcUI7QUFDOUIsQ0FBQztBQUVEeUMsTUFBTSxDQUFDQyxPQUFPLEdBQUduRCxZQUFZIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL2Rvd25sb2Fkcy5qcz9lMzc5Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuY29uc3QgdXRpbFVybCA9IHJlcXVpcmUoXCIuL3VybFwiKTtcblxuLyoqXG4gKiBAbW9kdWxlXG4gKiBAbmFtZXNwYWNlIGRvd25sb2FkVXRpbFxuICovXG5sZXQgZG93bmxvYWRVdGlsID0ge307XG5cbi8qKlxuICogQHR5cGVkZWYge0xpbmt9IExpbmtcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCAtIGlkZW50aWZpZXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYW5kd2lkdGggLSBiYW5kd2lkdGhcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIGNvbnRlbnQgdHlwZSBbdmlkZW8sIGF1ZGlvLCB0ZXh0XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZVVybCAtIHJlbW90ZSB1cmxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsb2NhbFVybCAtIGxvY2FsIHVybFxuICovXG5cbi8qKlxuICogQHR5cGVkZWYge0xpbmt9IExpbmtcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBpZCAtIGlkZW50aWZpZXJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBiYW5kd2lkdGggLSBiYW5kd2lkdGhcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBjb250ZW50VHlwZSAtIGNvbnRlbnQgdHlwZSBbdmlkZW8sIGF1ZGlvLCB0ZXh0XVxuICogQHByb3BlcnR5IHtzdHJpbmd9IHJlbW90ZVVybCAtIHJlbW90ZSB1cmxcbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBsb2NhbFVybCAtIGxvY2FsIHVybFxuICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IG1hbmlmZXN0SWQgLSBtYW5pZmVzdCBpZGVudGlmaWVyXG4gKiBAcGFyYW0ge3N0cmluZ30gbG9jYWxQYXRoIC0gbG9jYWwgcGF0aFxuICogQHBhcmFtIHtzdHJpbmd9IHJlbW90ZVBhdGggLSByZW1vdGUgcGF0aFxuICogQHBhcmFtIHtBcnJheX0gdXNlclJlcHJlc2VudGF0aW9ucyAtIHJlcHJlc2VudGF0aW9ucyBjaG9zZW4gYnkgYSB1c2VyXG4gKiBAcGFyYW0ge0FycmF5fSBtYW5pZmVzdFJlcHJlc2VudGF0aW9ucyAtIGFsbCBtYW5pZmVzdCByZXByZXNlbnRhdGlvbnNcbiAqIEBwYXJhbSB7b2JqZWN0fSBkb3dubG9hZGVkSGFzaCAtIGRvd25sb2FkIHVuaXF1ZSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7TGlua1tdfSBhcnJheSBvZiB7QGxpbmsgTGlua31cbiAqL1xuZG93bmxvYWRVdGlsLmdldEFsbExpbmtzID0gZnVuY3Rpb24gZ2V0QWxsTGlua3MgKG1hbmlmZXN0SWQsIGxvY2FsUGF0aCwgcmVtb3RlUGF0aCwgdXNlclJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hbmlmZXN0UmVwcmVzZW50YXRpb25zKSB7XG4gIHJldHVybiBkb3dubG9hZFV0aWwuZ2V0RG93bmxvYWRMaW5rcyhtYW5pZmVzdElkLCBsb2NhbFBhdGgsIHJlbW90ZVBhdGgsIHVzZXJSZXByZXNlbnRhdGlvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3RSZXByZXNlbnRhdGlvbnMpO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7c3RyaW5nfSBsb2NhbFBhdGggLSBsb2NhbCBwYXRoXG4gKiBAcGFyYW0ge3N0cmluZ30gcmVtb3RlUGF0aCAtIHJlbW90ZSBwYXRoXG4gKiBAcGFyYW0ge0FycmF5fSB1c2VyUmVwcmVzZW50YXRpb25zIC0gcmVwcmVzZW50YXRpb25zIGNob3NlbiBieSBhIHVzZXJcbiAqIEBwYXJhbSB7QXJyYXl9IG1hbmlmZXN0UmVwcmVzZW50YXRpb25zIC0gYWxsIG1hbmlmZXN0IHJlcHJlc2VudGF0aW9uc1xuICogQHBhcmFtIHtvYmplY3R9IGRvd25sb2FkZWRIYXNoIC0gZG93bmxvYWQgdW5pcXVlIGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHtMaW5rW119IGFycmF5IG9mIHtAbGluayBMaW5rfVxuICovXG5kb3dubG9hZFV0aWwuZ2V0RG93bmxvYWRMaW5rcyA9IGZ1bmN0aW9uIGdldERvd25sb2FkTGlua3MgKG1hbmlmZXN0SWQsIGxvY2FsUGF0aCwgcmVtb3RlUGF0aCwgdXNlclJlcHJlc2VudGF0aW9ucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFuaWZlc3RSZXByZXNlbnRhdGlvbnMsIGRvd25sb2FkZWRIYXNoXG4pIHtcbiAgbGV0IGNob3NlblJlcHJlc2VudGF0aW9ucyA9IGRvd25sb2FkVXRpbC5nZXRDaG9zZW5SZXByZXNlbnRhdGlvbnModXNlclJlcHJlc2VudGF0aW9ucywgbWFuaWZlc3RSZXByZXNlbnRhdGlvbnMpO1xuICBsZXQgYmFuZHdpZHRoLCBjb250ZW50VHlwZSwgbG9jYWxVcmwsIGksIGlkLCBqLCBrLCBsLCBsaW5rcztcbiAgbGV0IG1lZGlhRmlsZSwgbWVkaWFCYXNlVXJsLCBtZWRpYVVybHMsIHJlbW90ZVVybCwgc2VnbWVudEluZm9ybWF0aW9uO1xuXG4gIGxpbmtzID0gW107XG4gIGRvd25sb2FkZWRIYXNoID0gZG93bmxvYWRlZEhhc2ggfHwge307XG4gIGZvciAoaSA9IDAsIGogPSBjaG9zZW5SZXByZXNlbnRhdGlvbnMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY29udGVudFR5cGUgPSBjaG9zZW5SZXByZXNlbnRhdGlvbnNbaV0uYXR0cmlidXRlTGlzdC5taW1lVHlwZTtcbiAgICBiYW5kd2lkdGggPSArY2hvc2VuUmVwcmVzZW50YXRpb25zW2ldLmF0dHJpYnV0ZUxpc3QuYmFuZHdpZHRoO1xuICAgIGlmIChjb250ZW50VHlwZS5pbmRleE9mKFwidmlkZW9cIikgPT09IDApIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gXCJ2aWRlb1wiO1xuICAgIH0gZWxzZSBpZiAoY29udGVudFR5cGUuaW5kZXhPZihcImF1ZGlvXCIpID09PSAwKSB7XG4gICAgICBjb250ZW50VHlwZSA9IFwiYXVkaW9cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGVudFR5cGUgPSBcInRleHRcIjtcbiAgICB9XG4gICAgc2VnbWVudEluZm9ybWF0aW9uID0gY2hvc2VuUmVwcmVzZW50YXRpb25zW2ldLnNlZ21lbnRJbmZvcm1hdGlvbjtcbiAgICBtZWRpYVVybHMgPSBzZWdtZW50SW5mb3JtYXRpb24ubWVkaWFVcmxzO1xuICAgIGlkID0gc2VnbWVudEluZm9ybWF0aW9uLnJlcHJlc2VudGF0aW9uSUQ7XG4gICAgZm9yIChrID0gMCwgbCA9IG1lZGlhVXJscy5sZW5ndGg7IGsgPCBsOyBrKyspIHtcbiAgICAgIG1lZGlhRmlsZSA9IG1lZGlhVXJsc1trXS5tZWRpYUZpbGU7XG4gICAgICBtZWRpYUJhc2VVcmwgPSBtZWRpYVVybHNba10uYmFzZVVSTDtcbiAgICAgIG1lZGlhQmFzZVVybCA9IG1lZGlhQmFzZVVybC5yZXBsYWNlKC9cXC5cXC5cXC8vZywgXCJcIik7XG4gICAgICBtZWRpYUJhc2VVcmwgPSBtZWRpYUJhc2VVcmwucmVwbGFjZSgvXFwuXFwuL2csIFwiXCIpO1xuICAgICAgaWYgKG1lZGlhRmlsZSA9PT0gbWVkaWFCYXNlVXJsIHx8IHJlbW90ZVBhdGggPT09IG1lZGlhQmFzZVVybCkge1xuICAgICAgICBtZWRpYUJhc2VVcmwgPSBcIlwiO1xuICAgICAgfVxuICAgICAgLy8gcmVtb3ZlIGh0dHAgYW5kIGh0dHBzIGZyb20gbWVkaWFCYXNlVXJsLCB0aGlzIHdheSBpdCB3aWxsIGNyZWF0ZSBhIGNvcnJlY3QgZm9sZGVyIHN0cnVjdHVyZVxuICAgICAgaWYgKG1lZGlhQmFzZVVybC5tYXRjaChjb25zdGFudHMucmVnZXhwUHJvdG9jb2xSZW1vdmUpKSB7XG4gICAgICAgIHJlbW90ZVVybCA9IHV0aWxVcmwuam9pblBhdGhXaXRoRmlsZShtZWRpYUJhc2VVcmwsIG1lZGlhRmlsZSk7XG4gICAgICAgIGxvY2FsVXJsID0gdXRpbFVybC5qb2luUGF0aFdpdGhGaWxlKGxvY2FsUGF0aCwgbWVkaWFCYXNlVXJsLnJlcGxhY2UoY29uc3RhbnRzLnJlZ2V4cFByb3RvY29sUmVtb3ZlLCBcIlwiKSxcbiAgICAgICAgICBtZWRpYUZpbGUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVtb3RlVXJsID0gdXRpbFVybC5qb2luUGF0aFdpdGhGaWxlKHJlbW90ZVBhdGgsIG1lZGlhQmFzZVVybCwgbWVkaWFGaWxlKTtcbiAgICAgICAgbG9jYWxVcmwgPSB1dGlsVXJsLmpvaW5QYXRoV2l0aEZpbGUobG9jYWxQYXRoLCBtZWRpYUJhc2VVcmwsIG1lZGlhRmlsZSk7XG4gICAgICB9XG5cbiAgICAgIC8vIGZpbHRlciBxdWVyeSBzdHJpbmcgZnJvbSBsb2NhbFVybFxuICAgICAgbGV0IGluZGV4ID0gbG9jYWxVcmwubGFzdEluZGV4T2YoJz8nKVxuICAgICAgaWYgKGluZGV4ID4gLTEpIHtcbiAgICAgICAgbG9jYWxVcmwgPSBsb2NhbFVybC5zdWJzdHIoMCwgaW5kZXgpO1xuICAgICAgfVxuICAgICAgaWYgKCghZG93bmxvYWRlZEhhc2hbbG9jYWxVcmxdKSB8fCAoIWRvd25sb2FkZWRIYXNoW2xvY2FsVXJsXSAmJiBkb3dubG9hZGVkSGFzaFtsb2NhbFVybF0ucmVtb3RlVXJsICE9PSByZW1vdGVVcmwpKSB7XG4gICAgICAgIGlmICghbGlua3Nba10pIHtcbiAgICAgICAgICBsaW5rc1trXSA9IFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgbGlua3Nba10ucHVzaCh7XG4gICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgIGJhbmR3aWR0aDogYmFuZHdpZHRoLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiBjb250ZW50VHlwZSxcbiAgICAgICAgICByZW1vdGVVcmw6IHJlbW90ZVVybCxcbiAgICAgICAgICBsb2NhbFVybDogbG9jYWxVcmxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTk9URTogdXNlIGxpbmtzLmZsYXQoKSBpbiB0aGUgZnV0dXJlXG4gIHJldHVybiBsaW5rcy5yZWR1Y2UoKGFjYywgdmFsKSA9PiBhY2MuY29uY2F0KHZhbCksIFtdKTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7YXJyYXl9IHVzZXJDaG9zZW5SZXByIC0gYXJyYXkgb2YgY2hvc2VuIHJlcHJlc2VudGF0aW9ucyBpZHMgYnkgdXNlclxuICogQHBhcmFtIHthcnJheX0gbWFuaWZlc3RSZXByIC0gYXJyYXkgb2YgYWxsIG1hbmlmZXN0IHJlcHJlc2VudGF0aW9uc1xuICogQHJldHVybnMge2FycmF5fSBjaG9zZW4gcmVwcmVzZW50YXRpb25zIGZyb20gbWFuaWZlc3RcbiAqL1xuZG93bmxvYWRVdGlsLmdldENob3NlblJlcHJlc2VudGF0aW9ucyA9IGZ1bmN0aW9uIGdldENob3NlblJlcHJlc2VudGF0aW9ucyAodXNlckNob3NlblJlcHIsIG1hbmlmZXN0UmVwcikge1xuICBsZXQgY2hvc2VuUmVwcmVzZW50YXRpb25zID0gW107XG4gIGxldCB1c2VyQ2hvc2VuUmVwck9iaiA9IHt9O1xuICB1c2VyQ2hvc2VuUmVwciA9IHVzZXJDaG9zZW5SZXByIHx8IFtdO1xuICBtYW5pZmVzdFJlcHIgPSBtYW5pZmVzdFJlcHIgfHwgW107XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdXNlckNob3NlblJlcHIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgdXNlckNob3NlblJlcHJPYmpbU3RyaW5nKHVzZXJDaG9zZW5SZXByW2ldKV0gPSB0cnVlO1xuICB9XG4gIGZvciAobGV0IGkgPSAwLCBqID0gbWFuaWZlc3RSZXByLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGNvbnN0IGl0ZW1zID0gbWFuaWZlc3RSZXByW2ldLnJlcHJlc2VudGF0aW9uQ29sbDtcbiAgICBmb3IgKGxldCBrID0gMCwgbCA9IGl0ZW1zLmxlbmd0aDsgayA8IGw7IGsrKykge1xuICAgICAgY29uc3QgaXRlbSA9IGl0ZW1zW2tdO1xuICAgICAgaWYgKHVzZXJDaG9zZW5SZXByT2JqW1N0cmluZyhpdGVtLmF0dHJpYnV0ZUxpc3QuaWQpXSkge1xuICAgICAgICBjaG9zZW5SZXByZXNlbnRhdGlvbnMucHVzaChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNob3NlblJlcHJlc2VudGF0aW9ucztcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gZG93bmxvYWRVdGlsO1xuIl0sIm5hbWVzIjpbImNvbnN0YW50cyIsInJlcXVpcmUiLCJ1dGlsVXJsIiwiZG93bmxvYWRVdGlsIiwiZ2V0QWxsTGlua3MiLCJtYW5pZmVzdElkIiwibG9jYWxQYXRoIiwicmVtb3RlUGF0aCIsInVzZXJSZXByZXNlbnRhdGlvbnMiLCJtYW5pZmVzdFJlcHJlc2VudGF0aW9ucyIsImdldERvd25sb2FkTGlua3MiLCJkb3dubG9hZGVkSGFzaCIsImNob3NlblJlcHJlc2VudGF0aW9ucyIsImdldENob3NlblJlcHJlc2VudGF0aW9ucyIsImJhbmR3aWR0aCIsImNvbnRlbnRUeXBlIiwibG9jYWxVcmwiLCJpIiwiaWQiLCJqIiwiayIsImwiLCJsaW5rcyIsIm1lZGlhRmlsZSIsIm1lZGlhQmFzZVVybCIsIm1lZGlhVXJscyIsInJlbW90ZVVybCIsInNlZ21lbnRJbmZvcm1hdGlvbiIsImxlbmd0aCIsImF0dHJpYnV0ZUxpc3QiLCJtaW1lVHlwZSIsImluZGV4T2YiLCJyZXByZXNlbnRhdGlvbklEIiwiYmFzZVVSTCIsInJlcGxhY2UiLCJtYXRjaCIsInJlZ2V4cFByb3RvY29sUmVtb3ZlIiwiam9pblBhdGhXaXRoRmlsZSIsImluZGV4IiwibGFzdEluZGV4T2YiLCJzdWJzdHIiLCJwdXNoIiwicmVkdWNlIiwiYWNjIiwidmFsIiwiY29uY2F0IiwidXNlckNob3NlblJlcHIiLCJtYW5pZmVzdFJlcHIiLCJ1c2VyQ2hvc2VuUmVwck9iaiIsIlN0cmluZyIsIml0ZW1zIiwicmVwcmVzZW50YXRpb25Db2xsIiwiaXRlbSIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///957\n')},5169:module=>{"use strict";eval("\n\nfunction isUTF16(data) {\n  var i = 0;\n  var len = data && data.length;\n  var pos = null;\n  var b1, b2, next, prev;\n  if (len < 2) {\n    if (data[0] > 0xFF) {\n      return false;\n    }\n  } else {\n    b1 = data[0];\n    b2 = data[1];\n    if (b1 === 0xFF &&\n    // BOM (little-endian)\n    b2 === 0xFE) {\n      return true;\n    }\n    if (b1 === 0xFE &&\n    // BOM (big-endian)\n    b2 === 0xFF) {\n      return true;\n    }\n    for (; i < len; i++) {\n      if (data[i] === 0x00) {\n        pos = i;\n        break;\n      } else if (data[i] > 0xFF) {\n        return false;\n      }\n    }\n    if (pos === null) {\n      return false; // Non ASCII\n    }\n\n    next = data[pos + 1]; // BE\n    if (next !== void 0 && next > 0x00 && next < 0x80) {\n      return true;\n    }\n    prev = data[pos - 1]; // LE\n    if (prev !== void 0 && prev > 0x00 && prev < 0x80) {\n      return true;\n    }\n  }\n  return false;\n}\nmodule.exports = {\n  isUTF16: isUTF16\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNTE2OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxPQUFPLENBQUVDLElBQUksRUFBRTtFQUN0QixJQUFJQyxDQUFDLEdBQUcsQ0FBQztFQUNULElBQUlDLEdBQUcsR0FBR0YsSUFBSSxJQUFJQSxJQUFJLENBQUNHLE1BQU07RUFDN0IsSUFBSUMsR0FBRyxHQUFHLElBQUk7RUFDZCxJQUFJQyxFQUFFLEVBQUVDLEVBQUUsRUFBRUMsSUFBSSxFQUFFQyxJQUFJO0VBRXRCLElBQUlOLEdBQUcsR0FBRyxDQUFDLEVBQUU7SUFDVCxJQUFJRixJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxFQUFFO01BQ2hCLE9BQU8sS0FBSztJQUNoQjtFQUNKLENBQUMsTUFBTTtJQUNISyxFQUFFLEdBQUdMLElBQUksQ0FBQyxDQUFDLENBQUM7SUFDWk0sRUFBRSxHQUFHTixJQUFJLENBQUMsQ0FBQyxDQUFDO0lBQ1osSUFBSUssRUFBRSxLQUFLLElBQUk7SUFBSTtJQUNmQyxFQUFFLEtBQUssSUFBSSxFQUFFO01BQ2IsT0FBTyxJQUFJO0lBQ2Y7SUFDQSxJQUFJRCxFQUFFLEtBQUssSUFBSTtJQUFJO0lBQ2ZDLEVBQUUsS0FBSyxJQUFJLEVBQUU7TUFDYixPQUFPLElBQUk7SUFDZjtJQUVBLE9BQU9MLENBQUMsR0FBR0MsR0FBRyxFQUFFRCxDQUFDLEVBQUUsRUFBRTtNQUNqQixJQUFJRCxJQUFJLENBQUNDLENBQUMsQ0FBQyxLQUFLLElBQUksRUFBRTtRQUNsQkcsR0FBRyxHQUFHSCxDQUFDO1FBQ1A7TUFDSixDQUFDLE1BQU0sSUFBSUQsSUFBSSxDQUFDQyxDQUFDLENBQUMsR0FBRyxJQUFJLEVBQUU7UUFDdkIsT0FBTyxLQUFLO01BQ2hCO0lBQ0o7SUFFQSxJQUFJRyxHQUFHLEtBQUssSUFBSSxFQUFFO01BQ2QsT0FBTyxLQUFLLENBQUMsQ0FBQztJQUNsQjs7SUFFQUcsSUFBSSxHQUFHUCxJQUFJLENBQUNJLEdBQUcsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQ3RCLElBQUlHLElBQUksS0FBSyxLQUFLLENBQUMsSUFBSUEsSUFBSSxHQUFHLElBQUksSUFBSUEsSUFBSSxHQUFHLElBQUksRUFBRTtNQUMvQyxPQUFPLElBQUk7SUFDZjtJQUVBQyxJQUFJLEdBQUdSLElBQUksQ0FBQ0ksR0FBRyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDdEIsSUFBSUksSUFBSSxLQUFLLEtBQUssQ0FBQyxJQUFJQSxJQUFJLEdBQUcsSUFBSSxJQUFJQSxJQUFJLEdBQUcsSUFBSSxFQUFFO01BQy9DLE9BQU8sSUFBSTtJQUNmO0VBQ0o7RUFFQSxPQUFPLEtBQUs7QUFDZDtBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmWCxPQUFPLEVBQUVBO0FBQ1gsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9lbmNvZGluZy5qcz84ODFiIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBpc1VURjE2IChkYXRhKSB7XG4gIHZhciBpID0gMDtcbiAgdmFyIGxlbiA9IGRhdGEgJiYgZGF0YS5sZW5ndGg7XG4gIHZhciBwb3MgPSBudWxsO1xuICB2YXIgYjEsIGIyLCBuZXh0LCBwcmV2O1xuXG4gIGlmIChsZW4gPCAyKSB7XG4gICAgICBpZiAoZGF0YVswXSA+IDB4RkYpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH0gZWxzZSB7XG4gICAgICBiMSA9IGRhdGFbMF07XG4gICAgICBiMiA9IGRhdGFbMV07XG4gICAgICBpZiAoYjEgPT09IDB4RkYgJiYgLy8gQk9NIChsaXR0bGUtZW5kaWFuKVxuICAgICAgICAgIGIyID09PSAweEZFKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICBpZiAoYjEgPT09IDB4RkUgJiYgLy8gQk9NIChiaWctZW5kaWFuKVxuICAgICAgICAgIGIyID09PSAweEZGKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoZGF0YVtpXSA9PT0gMHgwMCkge1xuICAgICAgICAgICAgICBwb3MgPSBpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9IGVsc2UgaWYgKGRhdGFbaV0gPiAweEZGKSB7XG4gICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChwb3MgPT09IG51bGwpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7IC8vIE5vbiBBU0NJSVxuICAgICAgfVxuXG4gICAgICBuZXh0ID0gZGF0YVtwb3MgKyAxXTsgLy8gQkVcbiAgICAgIGlmIChuZXh0ICE9PSB2b2lkIDAgJiYgbmV4dCA+IDB4MDAgJiYgbmV4dCA8IDB4ODApIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgcHJldiA9IGRhdGFbcG9zIC0gMV07IC8vIExFXG4gICAgICBpZiAocHJldiAhPT0gdm9pZCAwICYmIHByZXYgPiAweDAwICYmIHByZXYgPCAweDgwKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBpc1VURjE2OiBpc1VURjE2XG59Il0sIm5hbWVzIjpbImlzVVRGMTYiLCJkYXRhIiwiaSIsImxlbiIsImxlbmd0aCIsInBvcyIsImIxIiwiYjIiLCJuZXh0IiwicHJldiIsIm1vZHVsZSIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///5169\n")},9241:module=>{"use strict";eval('\n\nmodule.exports = function fieldsPicker(obj, fields, attr) {\n  if (typeof attr === "undefined") {\n    return;\n  }\n  for (var i = 0, j = fields.length; i < j; i++) {\n    var field = fields[i];\n    var defaultValue = field.defaultValue;\n    var name = field.name || field;\n    obj[name] = typeof attr[name] !== "undefined" ? attr[name] : defaultValue;\n  }\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI0MS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYkEsTUFBTSxDQUFDQyxPQUFPLEdBQUcsU0FBU0MsWUFBWSxDQUFFQyxHQUFHLEVBQUVDLE1BQU0sRUFBRUMsSUFBSSxFQUFFO0VBQ3pELElBQUksT0FBT0EsSUFBSSxLQUFLLFdBQVcsRUFBRTtJQUMvQjtFQUNGO0VBQ0EsS0FBSyxJQUFJQyxDQUFDLEdBQUcsQ0FBQyxFQUFFQyxDQUFDLEdBQUdILE1BQU0sQ0FBQ0ksTUFBTSxFQUFFRixDQUFDLEdBQUdDLENBQUMsRUFBRUQsQ0FBQyxFQUFFLEVBQUU7SUFDN0MsSUFBTUcsS0FBSyxHQUFHTCxNQUFNLENBQUNFLENBQUMsQ0FBQztJQUN2QixJQUFNSSxZQUFZLEdBQUdELEtBQUssQ0FBQ0MsWUFBWTtJQUN2QyxJQUFNQyxJQUFJLEdBQUdGLEtBQUssQ0FBQ0UsSUFBSSxJQUFJRixLQUFLO0lBQ2hDTixHQUFHLENBQUNRLElBQUksQ0FBQyxHQUFHLE9BQU9OLElBQUksQ0FBQ00sSUFBSSxDQUFDLEtBQUssV0FBVyxHQUFHTixJQUFJLENBQUNNLElBQUksQ0FBQyxHQUFHRCxZQUFZO0VBQzNFO0FBQ0YsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9maWVsZHMtcGlja2VyLmpzPzA2M2UiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gZmllbGRzUGlja2VyIChvYmosIGZpZWxkcywgYXR0cikge1xuICBpZiAodHlwZW9mIGF0dHIgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZm9yIChsZXQgaSA9IDAsIGogPSBmaWVsZHMubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY29uc3QgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgY29uc3QgZGVmYXVsdFZhbHVlID0gZmllbGQuZGVmYXVsdFZhbHVlO1xuICAgIGNvbnN0IG5hbWUgPSBmaWVsZC5uYW1lIHx8IGZpZWxkO1xuICAgIG9ialtuYW1lXSA9IHR5cGVvZiBhdHRyW25hbWVdICE9PSBcInVuZGVmaW5lZFwiID8gYXR0cltuYW1lXSA6IGRlZmF1bHRWYWx1ZTtcbiAgfVxufTtcbiJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZmllbGRzUGlja2VyIiwib2JqIiwiZmllbGRzIiwiYXR0ciIsImkiLCJqIiwibGVuZ3RoIiwiZmllbGQiLCJkZWZhdWx0VmFsdWUiLCJuYW1lIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///9241\n')},7815:module=>{"use strict";eval('\n\nfunction removeCharacter(text, pos) {\n  var newText;\n  newText = text.substr(0, pos - 1);\n  if (text.length > pos) {\n    newText += text.substr(pos, text.length);\n  }\n  return newText;\n}\nfunction getInvalidDiff(text, regex, openingTag, closingTag) {\n  var value = String(text);\n  var check = true;\n  var i = 1;\n  while (check) {\n    var valueToCheck = value.substr(0, i);\n    if (!valueToCheck.match(regex)) {\n      value = removeCharacter(value, i);\n    } else {\n      i++;\n    }\n    if (i > value.length) {\n      check = false;\n    }\n  }\n  var arrValue = value.split("");\n  for (var _i = 0, j = text.length; _i < j; _i++) {\n    if (_i >= arrValue.length || text[_i] !== arrValue[_i]) {\n      arrValue.splice(_i, 0, openingTag + text[_i] + closingTag);\n    }\n  }\n  return arrValue.join("");\n}\nmodule.exports = getInvalidDiff;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNzgxNS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxlQUFlLENBQUVDLElBQUksRUFBRUMsR0FBRyxFQUFFO0VBQ25DLElBQUlDLE9BQU87RUFDWEEsT0FBTyxHQUFHRixJQUFJLENBQUNHLE1BQU0sQ0FBQyxDQUFDLEVBQUVGLEdBQUcsR0FBRyxDQUFDLENBQUM7RUFDakMsSUFBSUQsSUFBSSxDQUFDSSxNQUFNLEdBQUdILEdBQUcsRUFBRTtJQUNyQkMsT0FBTyxJQUFJRixJQUFJLENBQUNHLE1BQU0sQ0FBQ0YsR0FBRyxFQUFFRCxJQUFJLENBQUNJLE1BQU0sQ0FBQztFQUMxQztFQUNBLE9BQU9GLE9BQU87QUFDaEI7QUFFQSxTQUFTRyxjQUFjLENBQUVMLElBQUksRUFBRU0sS0FBSyxFQUFFQyxVQUFVLEVBQUVDLFVBQVUsRUFBRTtFQUM1RCxJQUFJQyxLQUFLLEdBQUdDLE1BQU0sQ0FBQ1YsSUFBSSxDQUFDO0VBQ3hCLElBQUlXLEtBQUssR0FBRyxJQUFJO0VBQ2hCLElBQUlDLENBQUMsR0FBRyxDQUFDO0VBQ1QsT0FBT0QsS0FBSyxFQUFFO0lBQ1osSUFBSUUsWUFBWSxHQUFHSixLQUFLLENBQUNOLE1BQU0sQ0FBQyxDQUFDLEVBQUVTLENBQUMsQ0FBQztJQUVyQyxJQUFJLENBQUNDLFlBQVksQ0FBQ0MsS0FBSyxDQUFDUixLQUFLLENBQUMsRUFBRTtNQUM5QkcsS0FBSyxHQUFHVixlQUFlLENBQUNVLEtBQUssRUFBRUcsQ0FBQyxDQUFDO0lBQ25DLENBQUMsTUFBTTtNQUNMQSxDQUFDLEVBQUU7SUFDTDtJQUNBLElBQUlBLENBQUMsR0FBR0gsS0FBSyxDQUFDTCxNQUFNLEVBQUU7TUFDcEJPLEtBQUssR0FBRyxLQUFLO0lBQ2Y7RUFDRjtFQUNBLElBQUlJLFFBQVEsR0FBR04sS0FBSyxDQUFDTyxLQUFLLENBQUMsRUFBRSxDQUFDO0VBQzlCLEtBQUssSUFBSUosRUFBQyxHQUFHLENBQUMsRUFBRUssQ0FBQyxHQUFHakIsSUFBSSxDQUFDSSxNQUFNLEVBQUVRLEVBQUMsR0FBR0ssQ0FBQyxFQUFFTCxFQUFDLEVBQUUsRUFBRTtJQUMzQyxJQUFJQSxFQUFDLElBQUlHLFFBQVEsQ0FBQ1gsTUFBTSxJQUFJSixJQUFJLENBQUNZLEVBQUMsQ0FBQyxLQUFLRyxRQUFRLENBQUNILEVBQUMsQ0FBQyxFQUFFO01BQ25ERyxRQUFRLENBQUNHLE1BQU0sQ0FBQ04sRUFBQyxFQUFFLENBQUMsRUFBRUwsVUFBVSxHQUFHUCxJQUFJLENBQUNZLEVBQUMsQ0FBQyxHQUFHSixVQUFVLENBQUM7SUFDMUQ7RUFDRjtFQUNBLE9BQU9PLFFBQVEsQ0FBQ0ksSUFBSSxDQUFDLEVBQUUsQ0FBQztBQUMxQjtBQUVBQyxNQUFNLENBQUNDLE9BQU8sR0FBR2hCLGNBQWMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvZ2V0LWludmFsaWQtZGlmZi5qcz9iYTFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiByZW1vdmVDaGFyYWN0ZXIgKHRleHQsIHBvcykge1xuICBsZXQgbmV3VGV4dDtcbiAgbmV3VGV4dCA9IHRleHQuc3Vic3RyKDAsIHBvcyAtIDEpO1xuICBpZiAodGV4dC5sZW5ndGggPiBwb3MpIHtcbiAgICBuZXdUZXh0ICs9IHRleHQuc3Vic3RyKHBvcywgdGV4dC5sZW5ndGgpO1xuICB9XG4gIHJldHVybiBuZXdUZXh0O1xufVxuXG5mdW5jdGlvbiBnZXRJbnZhbGlkRGlmZiAodGV4dCwgcmVnZXgsIG9wZW5pbmdUYWcsIGNsb3NpbmdUYWcpIHtcbiAgbGV0IHZhbHVlID0gU3RyaW5nKHRleHQpO1xuICBsZXQgY2hlY2sgPSB0cnVlO1xuICBsZXQgaSA9IDE7XG4gIHdoaWxlIChjaGVjaykge1xuICAgIGxldCB2YWx1ZVRvQ2hlY2sgPSB2YWx1ZS5zdWJzdHIoMCwgaSk7XG5cbiAgICBpZiAoIXZhbHVlVG9DaGVjay5tYXRjaChyZWdleCkpIHtcbiAgICAgIHZhbHVlID0gcmVtb3ZlQ2hhcmFjdGVyKHZhbHVlLCBpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaSsrO1xuICAgIH1cbiAgICBpZiAoaSA+IHZhbHVlLmxlbmd0aCkge1xuICAgICAgY2hlY2sgPSBmYWxzZTtcbiAgICB9XG4gIH1cbiAgbGV0IGFyclZhbHVlID0gdmFsdWUuc3BsaXQoXCJcIik7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdGV4dC5sZW5ndGg7IGkgPCBqOyBpKyspIHtcbiAgICBpZiAoaSA+PSBhcnJWYWx1ZS5sZW5ndGggfHwgdGV4dFtpXSAhPT0gYXJyVmFsdWVbaV0pIHtcbiAgICAgIGFyclZhbHVlLnNwbGljZShpLCAwLCBvcGVuaW5nVGFnICsgdGV4dFtpXSArIGNsb3NpbmdUYWcpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gYXJyVmFsdWUuam9pbihcIlwiKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBnZXRJbnZhbGlkRGlmZjsiXSwibmFtZXMiOlsicmVtb3ZlQ2hhcmFjdGVyIiwidGV4dCIsInBvcyIsIm5ld1RleHQiLCJzdWJzdHIiLCJsZW5ndGgiLCJnZXRJbnZhbGlkRGlmZiIsInJlZ2V4Iiwib3BlbmluZ1RhZyIsImNsb3NpbmdUYWciLCJ2YWx1ZSIsIlN0cmluZyIsImNoZWNrIiwiaSIsInZhbHVlVG9DaGVjayIsIm1hdGNoIiwiYXJyVmFsdWUiLCJzcGxpdCIsImoiLCJzcGxpY2UiLCJqb2luIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///7815\n')},3721:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar net = __webpack_require__(1808);\nmodule.exports = function (port, fn) {\n  var tester = net.createServer().once('error', function (err) {\n    if (err) {\n      return fn(err);\n    }\n    fn(null, true);\n  }).once('listening', function () {\n    tester.once('close', function () {\n      fn(null, false);\n    }).close();\n  }).listen(port);\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzcyMS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixJQUFNQSxHQUFHLEdBQUdDLG1CQUFPLENBQUMsSUFBSyxDQUFDO0FBRTFCQyxNQUFNLENBQUNDLE9BQU8sR0FBRyxVQUFVQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtFQUNuQyxJQUFNQyxNQUFNLEdBQUdOLEdBQUcsQ0FBQ08sWUFBWSxFQUFFLENBQUNDLElBQUksQ0FBQyxPQUFPLEVBQUUsVUFBVUMsR0FBRyxFQUFFO0lBQzdELElBQUlBLEdBQUcsRUFBRTtNQUNQLE9BQU9KLEVBQUUsQ0FBQ0ksR0FBRyxDQUFDO0lBQ2hCO0lBQ0FKLEVBQUUsQ0FBQyxJQUFJLEVBQUUsSUFBSSxDQUFDO0VBQ2hCLENBQUMsQ0FBQyxDQUFDRyxJQUFJLENBQUMsV0FBVyxFQUFFLFlBQVk7SUFDL0JGLE1BQU0sQ0FBQ0UsSUFBSSxDQUFDLE9BQU8sRUFBRSxZQUFZO01BQy9CSCxFQUFFLENBQUMsSUFBSSxFQUFFLEtBQUssQ0FBQztJQUNqQixDQUFDLENBQUMsQ0FBQ0ssS0FBSyxFQUFFO0VBQ1osQ0FBQyxDQUFDLENBQUNDLE1BQU0sQ0FBQ1AsSUFBSSxDQUFDO0FBQ2pCLENBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvaXMtcG9ydC10YWtlbi5qcz9jZGM3Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5jb25zdCBuZXQgPSByZXF1aXJlKCduZXQnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAocG9ydCwgZm4pIHtcbiAgY29uc3QgdGVzdGVyID0gbmV0LmNyZWF0ZVNlcnZlcigpLm9uY2UoJ2Vycm9yJywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBmbihlcnIpO1xuICAgIH1cbiAgICBmbihudWxsLCB0cnVlKTtcbiAgfSkub25jZSgnbGlzdGVuaW5nJywgZnVuY3Rpb24gKCkge1xuICAgIHRlc3Rlci5vbmNlKCdjbG9zZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZuKG51bGwsIGZhbHNlKTtcbiAgICB9KS5jbG9zZSgpO1xuICB9KS5saXN0ZW4ocG9ydCk7XG59O1xuIl0sIm5hbWVzIjpbIm5ldCIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwicG9ydCIsImZuIiwidGVzdGVyIiwiY3JlYXRlU2VydmVyIiwib25jZSIsImVyciIsImNsb3NlIiwibGlzdGVuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3721\n")},4803:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar constants = __webpack_require__(6953);\nvar Manifest = (__webpack_require__(1269)/* .Manifest */ .G);\nvar XMLSerializer = (__webpack_require__(678).XMLSerializer);\nfunction getMimeType(value) {\n  if (value.indexOf("video") !== -1) {\n    return "video";\n  } else if (value.indexOf("audio") !== -1) {\n    return "audio";\n  } else {\n    return "text";\n  }\n}\nfunction parseManifestWithChoosenRepresentations(manifest, representations) {\n  var manifestId = manifest.id;\n  var xmlSerializer = new XMLSerializer();\n  var manifestUrl = manifest.getManifestUrl();\n  var manifestString = xmlSerializer.serializeToString(manifest.getManifestXML());\n  manifest = new Manifest(manifestId);\n  manifest.loadFromStr(manifestString, manifestUrl);\n  var video = representations.video;\n  var audio = representations.audio;\n  var text = representations.text;\n  var chosenRepresentations = {};\n  chosenRepresentations["video"] = {};\n  for (var i = 0, j = video.length; i < j; i++) {\n    chosenRepresentations["video"][video[i]] = true;\n  }\n  chosenRepresentations["audio"] = {};\n  for (var _i = 0, _j = audio.length; _i < _j; _i++) {\n    chosenRepresentations["audio"][audio[_i]] = true;\n  }\n  chosenRepresentations["text"] = {};\n  for (var _i2 = 0, _j2 = text.length; _i2 < _j2; _i2++) {\n    chosenRepresentations["text"][text[_i2]] = true;\n  }\n  function markNodeForDownload(repr) {\n    for (var _i3 = 0, _j3 = repr.length; _i3 < _j3; _i3++) {\n      for (var k = 0, l = repr[_i3].representationColl.length; k < l; k++) {\n        var id = repr[_i3].representationColl[k].attributeList.id;\n        var mimeType = getMimeType(repr[_i3].representationColl[k].attributeList.mimeType);\n        if (chosenRepresentations[mimeType][id]) {\n          repr[_i3].representationColl[k].markNodeForDownload(true);\n        }\n      }\n    }\n  }\n\n  // fix the baseURL by removing http and https the same is done when saving a file\n  // see api/util/downloads.js -> getDownloadLinks\n  function fixBaseURL(repr) {\n    for (var _i4 = 0, _j4 = repr.length; _i4 < _j4; _i4++) {\n      var baseURL = repr[_i4].currentNode.getElementsByTagName("BaseURL")[0];\n      if (baseURL && baseURL.textContent.match(constants.regexpProtocolRemove)) {\n        baseURL.textContent = baseURL.textContent.replace(constants.regexpProtocolRemove, "");\n      }\n    }\n  }\n  markNodeForDownload(manifest.getVideoRepresentations());\n  markNodeForDownload(manifest.getAudioRepresentations());\n  markNodeForDownload(manifest.getTextRepresentations());\n  fixBaseURL(manifest.getVideoRepresentations());\n  fixBaseURL(manifest.getAudioRepresentations());\n  fixBaseURL(manifest.getTextRepresentations());\n  manifest.removeNode();\n  return xmlSerializer.serializeToString(manifest.getManifestXML());\n}\nmodule.exports = parseManifestWithChoosenRepresentations;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QXVCLEVBQUUsQ0FBQztFQUN2RGYsbUJBQW1CLENBQUNsQixRQUFRLENBQUNrQyx1QkFBdUIsRUFBRSxDQUFDO0VBQ3ZEaEIsbUJBQW1CLENBQUNsQixRQUFRLENBQUNtQyxzQkFBc0IsRUFBRSxDQUFDO0VBRXREVixVQUFVLENBQUN6QixRQUFRLENBQUNpQyx1QkFBdUIsRUFBRSxDQUFDO0VBQzlDUixVQUFVLENBQUN6QixRQUFRLENBQUNrQyx1QkFBdUIsRUFBRSxDQUFDO0VBQzlDVCxVQUFVLENBQUN6QixRQUFRLENBQUNtQyxzQkFBc0IsRUFBRSxDQUFDO0VBRTdDbkMsUUFBUSxDQUFDb0MsVUFBVSxFQUFFO0VBRXJCLE9BQU9oQyxhQUFhLENBQUNJLGlCQUFpQixDQUFDUixRQUFRLENBQUNTLGNBQWMsRUFBRSxDQUFDO0FBQ25FO0FBRUE0QixNQUFNLENBQUNDLE9BQU8sR0FBR3ZDLHVDQUF1QyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9wYXJzZS1tYW5pZmVzdC13aXRoLWNob29zZW4tcmVwcmVzZW50YXRpb25zLmpzPzg1OGIiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBjb25zdGFudHMgPSByZXF1aXJlKFwiLi4vY29uc3RhbnRzXCIpO1xuXG5jb25zdCBNYW5pZmVzdCA9IHJlcXVpcmUoXCIuLi9tYW5pZmVzdC9sb2FkZXIvbWFuaWZlc3RcIikuTWFuaWZlc3Q7XG5cbmNvbnN0IFhNTFNlcmlhbGl6ZXIgPSByZXF1aXJlKFwieG1sZG9tXCIpLlhNTFNlcmlhbGl6ZXI7XG5cbmZ1bmN0aW9uIGdldE1pbWVUeXBlICh2YWx1ZSkge1xuICBpZiAodmFsdWUuaW5kZXhPZihcInZpZGVvXCIpICE9PSAtMSkge1xuICAgIHJldHVybiBcInZpZGVvXCI7XG4gIH0gZWxzZSBpZiAodmFsdWUuaW5kZXhPZihcImF1ZGlvXCIpICE9PSAtMSkge1xuICAgIHJldHVybiBcImF1ZGlvXCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFwidGV4dFwiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlTWFuaWZlc3RXaXRoQ2hvb3NlblJlcHJlc2VudGF0aW9ucyAobWFuaWZlc3QsIHJlcHJlc2VudGF0aW9ucykge1xuICBjb25zdCBtYW5pZmVzdElkID0gbWFuaWZlc3QuaWQ7XG4gIGNvbnN0IHhtbFNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xuICBjb25zdCBtYW5pZmVzdFVybCA9IG1hbmlmZXN0LmdldE1hbmlmZXN0VXJsKCk7XG4gIGNvbnN0IG1hbmlmZXN0U3RyaW5nID0geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcblxuICBtYW5pZmVzdCA9IG5ldyBNYW5pZmVzdChtYW5pZmVzdElkKTtcbiAgbWFuaWZlc3QubG9hZEZyb21TdHIobWFuaWZlc3RTdHJpbmcsIG1hbmlmZXN0VXJsKTtcblxuICBjb25zdCB2aWRlbyA9IHJlcHJlc2VudGF0aW9ucy52aWRlbztcbiAgY29uc3QgYXVkaW8gPSByZXByZXNlbnRhdGlvbnMuYXVkaW87XG4gIGNvbnN0IHRleHQgPSByZXByZXNlbnRhdGlvbnMudGV4dDtcblxuICBsZXQgY2hvc2VuUmVwcmVzZW50YXRpb25zID0ge307XG4gIGNob3NlblJlcHJlc2VudGF0aW9uc1tcInZpZGVvXCJdID0ge307XG4gIGZvciAobGV0IGkgPSAwLCBqID0gdmlkZW8ubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widmlkZW9cIl1bdmlkZW9baV1dID0gdHJ1ZTtcbiAgfVxuICBjaG9zZW5SZXByZXNlbnRhdGlvbnNbXCJhdWRpb1wiXSA9IHt9O1xuICBmb3IgKGxldCBpID0gMCwgaiA9IGF1ZGlvLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGNob3NlblJlcHJlc2VudGF0aW9uc1tcImF1ZGlvXCJdW2F1ZGlvW2ldXSA9IHRydWU7XG4gIH1cbiAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widGV4dFwiXSA9IHt9O1xuICBmb3IgKGxldCBpID0gMCwgaiA9IHRleHQubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgY2hvc2VuUmVwcmVzZW50YXRpb25zW1widGV4dFwiXVt0ZXh0W2ldXSA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBtYXJrTm9kZUZvckRvd25sb2FkIChyZXByKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGogPSByZXByLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgICAgZm9yIChsZXQgayA9IDAsIGwgPSByZXByW2ldLnJlcHJlc2VudGF0aW9uQ29sbC5sZW5ndGg7IGsgPCBsOyBrKyspIHtcbiAgICAgICAgbGV0IGlkID0gcmVwcltpXS5yZXByZXNlbnRhdGlvbkNvbGxba10uYXR0cmlidXRlTGlzdC5pZDtcbiAgICAgICAgbGV0IG1pbWVUeXBlID0gZ2V0TWltZVR5cGUocmVwcltpXS5yZXByZXNlbnRhdGlvbkNvbGxba10uYXR0cmlidXRlTGlzdC5taW1lVHlwZSk7XG4gICAgICAgIGlmIChjaG9zZW5SZXByZXNlbnRhdGlvbnNbbWltZVR5cGVdW2lkXSkge1xuICAgICAgICAgIHJlcHJbaV0ucmVwcmVzZW50YXRpb25Db2xsW2tdLm1hcmtOb2RlRm9yRG93bmxvYWQodHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBmaXggdGhlIGJhc2VVUkwgYnkgcmVtb3ZpbmcgaHR0cCBhbmQgaHR0cHMgdGhlIHNhbWUgaXMgZG9uZSB3aGVuIHNhdmluZyBhIGZpbGVcbiAgLy8gc2VlIGFwaS91dGlsL2Rvd25sb2Fkcy5qcyAtPiBnZXREb3dubG9hZExpbmtzXG4gIGZ1bmN0aW9uIGZpeEJhc2VVUkwgKHJlcHIpIHtcbiAgICBmb3IgKGxldCBpID0gMCwgaiA9IHJlcHIubGVuZ3RoOyBpIDwgajsgaSsrKSB7XG4gICAgICBsZXQgYmFzZVVSTCA9IHJlcHJbaV0uY3VycmVudE5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJCYXNlVVJMXCIpWzBdO1xuICAgICAgaWYgKGJhc2VVUkwgJiYgYmFzZVVSTC50ZXh0Q29udGVudC5tYXRjaChjb25zdGFudHMucmVnZXhwUHJvdG9jb2xSZW1vdmUpKSB7XG4gICAgICAgIGJhc2VVUkwudGV4dENvbnRlbnQgPSBiYXNlVVJMLnRleHRDb250ZW50LnJlcGxhY2UoY29uc3RhbnRzLnJlZ2V4cFByb3RvY29sUmVtb3ZlLCBcIlwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldFZpZGVvUmVwcmVzZW50YXRpb25zKCkpO1xuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldEF1ZGlvUmVwcmVzZW50YXRpb25zKCkpO1xuICBtYXJrTm9kZUZvckRvd25sb2FkKG1hbmlmZXN0LmdldFRleHRSZXByZXNlbnRhdGlvbnMoKSk7XG5cbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRWaWRlb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRBdWRpb1JlcHJlc2VudGF0aW9ucygpKTtcbiAgZml4QmFzZVVSTChtYW5pZmVzdC5nZXRUZXh0UmVwcmVzZW50YXRpb25zKCkpO1xuXG4gIG1hbmlmZXN0LnJlbW92ZU5vZGUoKTtcblxuICByZXR1cm4geG1sU2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtYW5pZmVzdC5nZXRNYW5pZmVzdFhNTCgpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZU1hbmlmZXN0V2l0aENob29zZW5SZXByZXNlbnRhdGlvbnM7XG4iXSwibmFtZXMiOlsiY29uc3RhbnRzIiwicmVxdWlyZSIsIk1hbmlmZXN0IiwiWE1MU2VyaWFsaXplciIsImdldE1pbWVUeXBlIiwidmFsdWUiLCJpbmRleE9mIiwicGFyc2VNYW5pZmVzdFdpdGhDaG9vc2VuUmVwcmVzZW50YXRpb25zIiwibWFuaWZlc3QiLCJyZXByZXNlbnRhdGlvbnMiLCJtYW5pZmVzdElkIiwiaWQiLCJ4bWxTZXJpYWxpemVyIiwibWFuaWZlc3RVcmwiLCJnZXRNYW5pZmVzdFVybCIsIm1hbmlmZXN0U3RyaW5nIiwic2VyaWFsaXplVG9TdHJpbmciLCJnZXRNYW5pZmVzdFhNTCIsImxvYWRGcm9tU3RyIiwidmlkZW8iLCJhdWRpbyIsInRleHQiLCJjaG9zZW5SZXByZXNlbnRhdGlvbnMiLCJpIiwiaiIsImxlbmd0aCIsIm1hcmtOb2RlRm9yRG93bmxvYWQiLCJyZXByIiwiayIsImwiLCJyZXByZXNlbnRhdGlvbkNvbGwiLCJhdHRyaWJ1dGVMaXN0IiwibWltZVR5cGUiLCJmaXhCYXNlVVJMIiwiYmFzZVVSTCIsImN1cnJlbnROb2RlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJ0ZXh0Q29udGVudCIsIm1hdGNoIiwicmVnZXhwUHJvdG9jb2xSZW1vdmUiLCJyZXBsYWNlIiwiZ2V0VmlkZW9SZXByZXNlbnRhdGlvbnMiLCJnZXRBdWRpb1JlcHJlc2VudGF0aW9ucyIsImdldFRleHRSZXByZXNlbnRhdGlvbnMiLCJyZW1vdmVOb2RlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///4803\n')},6951:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('/*eslint no-console: ["error", { allow: ["warn", "error", "info"] }] */\n\n\nvar fs = __webpack_require__(7147);\nvar path = __webpack_require__(1017);\nvar downloadFileUtil = __webpack_require__(2777);\nfunction removeDir(dir, cb, ENOTEMPTY_attempts) {\n  ENOTEMPTY_attempts = ENOTEMPTY_attempts || 0;\n  var ENOTEMPTY_maxAttempts = 10;\n  var ENOTEMPTY_TIMEOUT = 500;\n  if (typeof dir !== \'string\') {\n    throw new Error(\'directory path required\');\n  }\n  if (cb !== undefined && typeof cb !== \'function\') {\n    throw new Error(\'callback must be function\');\n  }\n  var self = this;\n  var called, results;\n  downloadFileUtil.checkForLocalFile(dir, function existsCallback(exists) {\n    if (!exists) {\n      return removeDirCallback(null);\n    }\n    fs.stat(dir, function statCallback(err, stat) {\n      if (err) {\n        return removeDirCallback(err);\n      }\n      if (!stat.isDirectory()) {\n        return fs.unlink(dir, removeDirCallback);\n      }\n      fs.readdir(dir, readdirCallback);\n    });\n    function readdirCallback(err, files) {\n      if (err) {\n        return removeDirCallback(err);\n      }\n      var n = files.length;\n      if (n === 0) {\n        return fs.rmdir(dir, removeDirCallback);\n      }\n      files.forEach(function (name) {\n        removeDir(path.resolve(dir, name), function (err) {\n          if (err) {\n            return removeDirCallback(err);\n          }\n          if (--n === 0) {\n            return fs.rmdir(dir, removeDirCallback);\n          }\n        });\n      });\n    }\n  });\n  function removeDirCallback(err) {\n    if (err && err.code === "ENOTEMPTY") {\n      if (ENOTEMPTY_attempts < ENOTEMPTY_maxAttempts) {\n        ENOTEMPTY_attempts++;\n        console.error("ERROR ENOTEMPTY", dir, ENOTEMPTY_attempts);\n        setTimeout(function () {\n          removeDir(dir, cb, ENOTEMPTY_attempts);\n        }, ENOTEMPTY_TIMEOUT);\n        return;\n      }\n    }\n    if (err && err.code === \'ENOENT\') {\n      arguments[0] = null;\n    }\n    if (!results) {\n      results = arguments;\n    }\n    if (!cb || called) {\n      return;\n    }\n    called = true;\n    cb.apply(self, results);\n  }\n}\nmodule.exports = removeDir;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEdBQUcsRUFBRUUsa0JBQWtCLENBQUM7UUFDekQ2QixVQUFVLENBQUMsWUFBWTtVQUNyQmhDLFNBQVMsQ0FBQ0MsR0FBRyxFQUFFQyxFQUFFLEVBQUVDLGtCQUFrQixDQUFDO1FBQ3hDLENBQUMsRUFBRUUsaUJBQWlCLENBQUM7UUFDckI7TUFDRjtJQUNGO0lBQ0EsSUFBSVksR0FBRyxJQUFJQSxHQUFHLENBQUNZLElBQUksS0FBSyxRQUFRLEVBQUU7TUFDaENJLFNBQVMsQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJO0lBQ3JCO0lBRUEsSUFBSSxDQUFDdkIsT0FBTyxFQUFFO01BQ1pBLE9BQU8sR0FBR3VCLFNBQVM7SUFDckI7SUFDQSxJQUFJLENBQUMvQixFQUFFLElBQUlPLE1BQU0sRUFBRTtNQUNqQjtJQUNGO0lBQ0FBLE1BQU0sR0FBRyxJQUFJO0lBQ2JQLEVBQUUsQ0FBQ2dDLEtBQUssQ0FBQzFCLElBQUksRUFBRUUsT0FBTyxDQUFDO0VBQ3pCO0FBQ0Y7QUFFQXlCLE1BQU0sQ0FBQ0MsT0FBTyxHQUFHcEMsU0FBUyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9yZW1vdmUtZGlyLmpzP2YyOTQiXSwic291cmNlc0NvbnRlbnQiOlsiLyplc2xpbnQgbm8tY29uc29sZTogW1wiZXJyb3JcIiwgeyBhbGxvdzogW1wid2FyblwiLCBcImVycm9yXCIsIFwiaW5mb1wiXSB9XSAqL1xuJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xuY29uc3QgZG93bmxvYWRGaWxlVXRpbCA9IHJlcXVpcmUoXCIuLi9kb3dubG9hZHMvZG93bmxvYWQtZmlsZS11dGlsXCIpO1xuXG5mdW5jdGlvbiByZW1vdmVEaXIgKGRpciwgY2IsIEVOT1RFTVBUWV9hdHRlbXB0cykge1xuICBFTk9URU1QVFlfYXR0ZW1wdHMgPSBFTk9URU1QVFlfYXR0ZW1wdHMgfHwgMDtcbiAgY29uc3QgRU5PVEVNUFRZX21heEF0dGVtcHRzID0gMTA7XG4gIGNvbnN0IEVOT1RFTVBUWV9USU1FT1VUID0gNTAwO1xuXG4gIGlmICh0eXBlb2YgZGlyICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZGlyZWN0b3J5IHBhdGggcmVxdWlyZWQnKTtcbiAgfVxuXG4gIGlmIChjYiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiBjYiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBFcnJvcignY2FsbGJhY2sgbXVzdCBiZSBmdW5jdGlvbicpO1xuICB9XG5cbiAgY29uc3Qgc2VsZiA9IHRoaXM7XG5cbiAgbGV0IGNhbGxlZCwgcmVzdWx0cztcblxuICBkb3dubG9hZEZpbGVVdGlsLmNoZWNrRm9yTG9jYWxGaWxlKGRpciwgZnVuY3Rpb24gZXhpc3RzQ2FsbGJhY2sgKGV4aXN0cykge1xuICAgIGlmICghZXhpc3RzKSB7XG4gICAgICByZXR1cm4gcmVtb3ZlRGlyQ2FsbGJhY2sobnVsbCk7XG4gICAgfVxuICAgIGZzLnN0YXQoZGlyLCBmdW5jdGlvbiBzdGF0Q2FsbGJhY2sgKGVyciwgc3RhdCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRGlyQ2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiBmcy51bmxpbmsoZGlyLCByZW1vdmVEaXJDYWxsYmFjayk7XG4gICAgICB9XG4gICAgICBmcy5yZWFkZGlyKGRpciwgcmVhZGRpckNhbGxiYWNrKTtcbiAgICB9KTtcblxuICAgIGZ1bmN0aW9uIHJlYWRkaXJDYWxsYmFjayAoZXJyLCBmaWxlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVtb3ZlRGlyQ2FsbGJhY2soZXJyKTtcbiAgICAgIH1cblxuICAgICAgbGV0IG4gPSBmaWxlcy5sZW5ndGg7XG4gICAgICBpZiAobiA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZnMucm1kaXIoZGlyLCByZW1vdmVEaXJDYWxsYmFjayk7XG4gICAgICB9XG5cbiAgICAgIGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgcmVtb3ZlRGlyKHBhdGgucmVzb2x2ZShkaXIsIG5hbWUpLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW92ZURpckNhbGxiYWNrKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICgtLW4gPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmcy5ybWRpcihkaXIsIHJlbW92ZURpckNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiByZW1vdmVEaXJDYWxsYmFjayAoZXJyKSB7XG4gICAgaWYgKGVyciAmJiBlcnIuY29kZSA9PT0gXCJFTk9URU1QVFlcIikge1xuICAgICAgaWYgKEVOT1RFTVBUWV9hdHRlbXB0cyA8IEVOT1RFTVBUWV9tYXhBdHRlbXB0cykge1xuICAgICAgICBFTk9URU1QVFlfYXR0ZW1wdHMrKztcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkVSUk9SIEVOT1RFTVBUWVwiLCBkaXIsIEVOT1RFTVBUWV9hdHRlbXB0cyk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlbW92ZURpcihkaXIsIGNiLCBFTk9URU1QVFlfYXR0ZW1wdHMpO1xuICAgICAgICB9LCBFTk9URU1QVFlfVElNRU9VVCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGVyciAmJiBlcnIuY29kZSA9PT0gJ0VOT0VOVCcpIHtcbiAgICAgIGFyZ3VtZW50c1swXSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKCFyZXN1bHRzKSB7XG4gICAgICByZXN1bHRzID0gYXJndW1lbnRzO1xuICAgIH1cbiAgICBpZiAoIWNiIHx8IGNhbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjYWxsZWQgPSB0cnVlO1xuICAgIGNiLmFwcGx5KHNlbGYsIHJlc3VsdHMpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVtb3ZlRGlyO1xuIl0sIm5hbWVzIjpbImZzIiwicmVxdWlyZSIsInBhdGgiLCJkb3dubG9hZEZpbGVVdGlsIiwicmVtb3ZlRGlyIiwiZGlyIiwiY2IiLCJFTk9URU1QVFlfYXR0ZW1wdHMiLCJFTk9URU1QVFlfbWF4QXR0ZW1wdHMiLCJFTk9URU1QVFlfVElNRU9VVCIsIkVycm9yIiwidW5kZWZpbmVkIiwic2VsZiIsImNhbGxlZCIsInJlc3VsdHMiLCJjaGVja0ZvckxvY2FsRmlsZSIsImV4aXN0c0NhbGxiYWNrIiwiZXhpc3RzIiwicmVtb3ZlRGlyQ2FsbGJhY2siLCJzdGF0Iiwic3RhdENhbGxiYWNrIiwiZXJyIiwiaXNEaXJlY3RvcnkiLCJ1bmxpbmsiLCJyZWFkZGlyIiwicmVhZGRpckNhbGxiYWNrIiwiZmlsZXMiLCJuIiwibGVuZ3RoIiwicm1kaXIiLCJmb3JFYWNoIiwibmFtZSIsInJlc29sdmUiLCJjb2RlIiwiY29uc29sZSIsImVycm9yIiwic2V0VGltZW91dCIsImFyZ3VtZW50cyIsImFwcGx5IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6951\n')},1349:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar mkdirp = __webpack_require__(9526);\nvar fs = __webpack_require__(7147);\nvar path = __webpack_require__(1017);\nfunction saveFile(filePath, fileName, value, callback) {\n  mkdirp(filePath).then(function () {\n    var fileUrl = path.resolve(filePath + "/" + fileName);\n    fs.writeFile(fileUrl, value, "utf-8", callback);\n  }, function (error) {\n    callback(error);\n  });\n}\nmodule.exports = saveFile;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTM0OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxNQUFNLEdBQUdDLG1CQUFPLENBQUMsSUFBUSxDQUFDO0FBQ2hDLElBQU1DLEVBQUUsR0FBR0QsbUJBQU8sQ0FBQyxJQUFJLENBQUM7QUFDeEIsSUFBTUUsSUFBSSxHQUFHRixtQkFBTyxDQUFDLElBQU0sQ0FBQztBQUU1QixTQUFTRyxRQUFRLENBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTtFQUN0RFIsTUFBTSxDQUFDSyxRQUFRLENBQUMsQ0FBQ0ksSUFBSSxDQUFDLFlBQVk7SUFDaEMsSUFBTUMsT0FBTyxHQUFHUCxJQUFJLENBQUNRLE9BQU8sQ0FBQ04sUUFBUSxHQUFHLEdBQUcsR0FBR0MsUUFBUSxDQUFDO0lBQ3ZESixFQUFFLENBQUNVLFNBQVMsQ0FBQ0YsT0FBTyxFQUFFSCxLQUFLLEVBQUUsT0FBTyxFQUFFQyxRQUFRLENBQUM7RUFDakQsQ0FBQyxFQUFFLFVBQVVLLEtBQUssRUFBRTtJQUNsQkwsUUFBUSxDQUFDSyxLQUFLLENBQUM7RUFDakIsQ0FBQyxDQUFDO0FBQ0o7QUFFQUMsTUFBTSxDQUFDQyxPQUFPLEdBQUdYLFFBQVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvc2F2ZS1maWxlLmpzP2M5NWYiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBta2RpcnAgPSByZXF1aXJlKFwibWtkaXJwXCIpO1xuY29uc3QgZnMgPSByZXF1aXJlKFwiZnNcIik7XG5jb25zdCBwYXRoID0gcmVxdWlyZShcInBhdGhcIik7XG5cbmZ1bmN0aW9uIHNhdmVGaWxlIChmaWxlUGF0aCwgZmlsZU5hbWUsIHZhbHVlLCBjYWxsYmFjaykge1xuICBta2RpcnAoZmlsZVBhdGgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGZpbGVVcmwgPSBwYXRoLnJlc29sdmUoZmlsZVBhdGggKyBcIi9cIiArIGZpbGVOYW1lKTtcbiAgICBmcy53cml0ZUZpbGUoZmlsZVVybCwgdmFsdWUsIFwidXRmLThcIiwgY2FsbGJhY2spO1xuICB9LCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICBjYWxsYmFjayhlcnJvcik7XG4gIH0pO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNhdmVGaWxlO1xuIl0sIm5hbWVzIjpbIm1rZGlycCIsInJlcXVpcmUiLCJmcyIsInBhdGgiLCJzYXZlRmlsZSIsImZpbGVQYXRoIiwiZmlsZU5hbWUiLCJ2YWx1ZSIsImNhbGxiYWNrIiwidGhlbiIsImZpbGVVcmwiLCJyZXNvbHZlIiwid3JpdGVGaWxlIiwiZXJyb3IiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1349\n')},9499:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";eval("\n\nvar FlakeIdGen = __webpack_require__(1759);\nvar intFormat = __webpack_require__(1637);\nvar generator = new FlakeIdGen();\nvar SnowflakeId = function () {\n  function SnowflakeId() {}\n  SnowflakeId.getUUID = function () {\n    var id1 = generator.next();\n    var id3 = intFormat(id1, 'dec');\n    return id3;\n  };\n  return SnowflakeId;\n}();\nexports.SnowflakeId = SnowflakeId;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTQ5OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxVQUFVLEdBQUdDLG1CQUFPLENBQUMsSUFBYSxDQUFDO0FBQ3pDLElBQU1DLFNBQVMsR0FBR0QsbUJBQU8sQ0FBQyxJQUFnQixDQUFDO0FBQzNDLElBQU1FLFNBQVMsR0FBRyxJQUFJSCxVQUFVO0FBQ2hDLElBQU1JLFdBQVcsR0FBSSxZQUFZO0VBQy9CLFNBQVNBLFdBQVcsR0FBSSxDQUN4QjtFQUVBQSxXQUFXLENBQUNDLE9BQU8sR0FBRyxZQUFZO0lBQ2hDLElBQU1DLEdBQUcsR0FBR0gsU0FBUyxDQUFDSSxJQUFJLEVBQUU7SUFDNUIsSUFBTUMsR0FBRyxHQUFHTixTQUFTLENBQUNJLEdBQUcsRUFBRSxLQUFLLENBQUM7SUFDakMsT0FBT0UsR0FBRztFQUNaLENBQUM7RUFDRCxPQUFPSixXQUFXO0FBQ3BCLENBQUMsRUFBRztBQUNKSyxtQkFBbUIsR0FBR0wsV0FBVyIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9zbm93Zmxha2UtaWQuanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IEZsYWtlSWRHZW4gPSByZXF1aXJlKCdmbGFrZS1pZGdlbicpO1xuY29uc3QgaW50Rm9ybWF0ID0gcmVxdWlyZSgnYmlndWludC1mb3JtYXQnKTtcbmNvbnN0IGdlbmVyYXRvciA9IG5ldyBGbGFrZUlkR2VuO1xuY29uc3QgU25vd2ZsYWtlSWQgPSAoZnVuY3Rpb24gKCkge1xuICBmdW5jdGlvbiBTbm93Zmxha2VJZCAoKSB7XG4gIH1cblxuICBTbm93Zmxha2VJZC5nZXRVVUlEID0gZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IGlkMSA9IGdlbmVyYXRvci5uZXh0KCk7XG4gICAgY29uc3QgaWQzID0gaW50Rm9ybWF0KGlkMSwgJ2RlYycpO1xuICAgIHJldHVybiBpZDM7XG4gIH07XG4gIHJldHVybiBTbm93Zmxha2VJZDtcbn0oKSk7XG5leHBvcnRzLlNub3dmbGFrZUlkID0gU25vd2ZsYWtlSWQ7XG4iXSwibmFtZXMiOlsiRmxha2VJZEdlbiIsInJlcXVpcmUiLCJpbnRGb3JtYXQiLCJnZW5lcmF0b3IiLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJpZDEiLCJuZXh0IiwiaWQzIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///9499\n")},3890:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval("\n\nvar Storage = __webpack_require__(1396);\nvar createBridgeMethods = __webpack_require__(9921);\n\n/**\n * @param {DownloadsStorageController} parent - reference to parent object\n * @param {string} storageKey - storage key\n * @constructor\n */\nfunction StorageBridge(parent, storageKey) {\n  this._parent = parent;\n  this._storageKey = storageKey;\n  createBridgeMethods(this, Storage);\n}\nmodule.exports = StorageBridge;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzg5MC5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxPQUFPLEdBQUdDLG1CQUFPLENBQUMsSUFBVyxDQUFDO0FBQ3BDLElBQU1DLG1CQUFtQixHQUFHRCxtQkFBTyxDQUFDLElBQXlCLENBQUM7O0FBRTlEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTRSxhQUFhLENBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFO0VBQzFDLElBQUksQ0FBQ0MsT0FBTyxHQUFHRixNQUFNO0VBQ3JCLElBQUksQ0FBQ0csV0FBVyxHQUFHRixVQUFVO0VBQzdCSCxtQkFBbUIsQ0FBQyxJQUFJLEVBQUVGLE9BQU8sQ0FBQztBQUNwQztBQUVBUSxNQUFNLENBQUNDLE9BQU8sR0FBR04sYUFBYSIsInNvdXJjZXMiOlsid2VicGFjazovL2Rvd25zdHJlYW0tZWxlY3Ryb24vLi9hcGkvdXRpbC9zdG9yYWdlLWJyaWRnZS5qcz81YTFkIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuY29uc3QgU3RvcmFnZSA9IHJlcXVpcmUoXCIuL3N0b3JhZ2VcIik7XG5jb25zdCBjcmVhdGVCcmlkZ2VNZXRob2RzID0gcmVxdWlyZShcIi4vY3JlYXRlLWJyaWRnZS1tZXRob2RzXCIpO1xuXG4vKipcbiAqIEBwYXJhbSB7RG93bmxvYWRzU3RvcmFnZUNvbnRyb2xsZXJ9IHBhcmVudCAtIHJlZmVyZW5jZSB0byBwYXJlbnQgb2JqZWN0XG4gKiBAcGFyYW0ge3N0cmluZ30gc3RvcmFnZUtleSAtIHN0b3JhZ2Uga2V5XG4gKiBAY29uc3RydWN0b3JcbiAqL1xuZnVuY3Rpb24gU3RvcmFnZUJyaWRnZSAocGFyZW50LCBzdG9yYWdlS2V5KSB7XG4gIHRoaXMuX3BhcmVudCA9IHBhcmVudDtcbiAgdGhpcy5fc3RvcmFnZUtleSA9IHN0b3JhZ2VLZXk7XG4gIGNyZWF0ZUJyaWRnZU1ldGhvZHModGhpcywgU3RvcmFnZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gU3RvcmFnZUJyaWRnZTsiXSwibmFtZXMiOlsiU3RvcmFnZSIsInJlcXVpcmUiLCJjcmVhdGVCcmlkZ2VNZXRob2RzIiwiU3RvcmFnZUJyaWRnZSIsInBhcmVudCIsInN0b3JhZ2VLZXkiLCJfcGFyZW50IiwiX3N0b3JhZ2VLZXkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///3890\n")},1396:module=>{"use strict";eval('\n\n/**\n *\n * @constructor\n */\nfunction Storage() {\n  this._items = {};\n}\n\n/**\n * @returns {void}\n */\nStorage.prototype.clear = function () {\n  this._items = {};\n};\n\n/**\n * @returns {number} number of items\n */\nStorage.prototype.count = function () {\n  return this.getKeys().length;\n};\n\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\nStorage.prototype.decrease = function (id) {\n  if (typeof this._items[id] !== "number") {\n    this._items[id] = 0;\n  }\n  this._items[id]--;\n};\n\n/**\n * @param {string} id - item identifier\n * @returns {object} item\n */\nStorage.prototype.getItem = function (id) {\n  return this._items[id];\n};\n\n/**\n * @returns {object} items\n */\nStorage.prototype.getItems = function () {\n  return this._items;\n};\n\n/**\n * @returns {string[]} keys of all items\n */\nStorage.prototype.getKeys = function () {\n  return Object.keys(this._items);\n};\n\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\nStorage.prototype.increase = function (id) {\n  if (typeof this._items[id] !== "number") {\n    this._items[id] = 0;\n  }\n  this._items[id]++;\n};\n\n/**\n * @param {string} id - item identifier\n * @returns {void}\n */\nStorage.prototype.removeItem = function (id) {\n  delete this._items[id];\n};\n\n/**\n *\n * @param {string} id - item identifier\n * @param {object} item - item to be saved\n * @returns {void}\n */\nStorage.prototype.setItem = function (id, item) {\n  this._items[id] = item;\n};\n\n/**\n *\n * @param {object} items - items to be saved\n * @returns {void}\n */\nStorage.prototype.setItems = function (items) {\n  for (var key in items) {\n    if (items.hasOwnProperty(key)) {\n      this.setItem(key, items[key]);\n    }\n  }\n};\nmodule.exports = Storage;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bGVjdHJvbi8uL2FwaS91dGlsL3N0b3JhZ2UuanM/NGJhYiJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuLyoqXG4gKlxuICogQGNvbnN0cnVjdG9yXG4gKi9cbmZ1bmN0aW9uIFN0b3JhZ2UgKCkge1xuICB0aGlzLl9pdGVtcyA9IHt9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5faXRlbXMgPSB7fTtcbn07XG5cbi8qKlxuICogQHJldHVybnMge251bWJlcn0gbnVtYmVyIG9mIGl0ZW1zXG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLmNvdW50ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5nZXRLZXlzKCkubGVuZ3RoO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpdGVtIGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5kZWNyZWFzZSA9IGZ1bmN0aW9uIChpZCkge1xuICBpZiAodHlwZW9mIHRoaXMuX2l0ZW1zW2lkXSAhPT0gXCJudW1iZXJcIikge1xuICAgIHRoaXMuX2l0ZW1zW2lkXSA9IDA7XG4gIH1cbiAgdGhpcy5faXRlbXNbaWRdLS07XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBpZCAtIGl0ZW0gaWRlbnRpZmllclxuICogQHJldHVybnMge29iamVjdH0gaXRlbVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5nZXRJdGVtID0gZnVuY3Rpb24gKGlkKSB7XG4gIHJldHVybiB0aGlzLl9pdGVtc1tpZF07XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtvYmplY3R9IGl0ZW1zXG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLmdldEl0ZW1zID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faXRlbXM7XG59O1xuXG4vKipcbiAqIEByZXR1cm5zIHtzdHJpbmdbXX0ga2V5cyBvZiBhbGwgaXRlbXNcbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuZ2V0S2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX2l0ZW1zKTtcbn07XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlkIC0gaXRlbSBpZGVudGlmaWVyXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuaW5jcmVhc2UgPSBmdW5jdGlvbiAoaWQpIHtcbiAgaWYgKHR5cGVvZiB0aGlzLl9pdGVtc1tpZF0gIT09IFwibnVtYmVyXCIpIHtcbiAgICB0aGlzLl9pdGVtc1tpZF0gPSAwO1xuICB9XG4gIHRoaXMuX2l0ZW1zW2lkXSsrO1xufTtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpdGVtIGlkZW50aWZpZXJcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5TdG9yYWdlLnByb3RvdHlwZS5yZW1vdmVJdGVtID0gZnVuY3Rpb24gKGlkKSB7XG4gIGRlbGV0ZSB0aGlzLl9pdGVtc1tpZF07XG59O1xuXG4vKipcbiAqXG4gKiBAcGFyYW0ge3N0cmluZ30gaWQgLSBpdGVtIGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtIC0gaXRlbSB0byBiZSBzYXZlZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN0b3JhZ2UucHJvdG90eXBlLnNldEl0ZW0gPSBmdW5jdGlvbiAoaWQsIGl0ZW0pIHtcbiAgdGhpcy5faXRlbXNbaWRdID0gaXRlbTtcbn07XG5cbi8qKlxuICpcbiAqIEBwYXJhbSB7b2JqZWN0fSBpdGVtcyAtIGl0ZW1zIHRvIGJlIHNhdmVkXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuU3RvcmFnZS5wcm90b3R5cGUuc2V0SXRlbXMgPSBmdW5jdGlvbiAoaXRlbXMpIHtcbiAgZm9yIChsZXQga2V5IGluIGl0ZW1zKSB7XG4gICAgaWYgKGl0ZW1zLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgIHRoaXMuc2V0SXRlbShrZXksIGl0ZW1zW2tleV0pXG4gICAgfVxuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN0b3JhZ2U7Il0sIm5hbWVzIjpbIlN0b3JhZ2UiLCJfaXRlbXMiLCJwcm90b3R5cGUiLCJjbGVhciIsImNvdW50IiwiZ2V0S2V5cyIsImxlbmd0aCIsImRlY3JlYXNlIiwiaWQiLCJnZXRJdGVtIiwiZ2V0SXRlbXMiLCJPYmplY3QiLCJrZXlzIiwiaW5jcmVhc2UiLCJyZW1vdmVJdGVtIiwic2V0SXRlbSIsIml0ZW0iLCJzZXRJdGVtcyIsIml0ZW1zIiwia2V5IiwiaGFzT3duUHJvcGVydHkiLCJtb2R1bGUiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///1396\n')},6137:(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";eval('\n\nvar Snowflake = __webpack_require__(9499);\nvar _ = __webpack_require__(4952);\n\n/**\n *\n * @param {function} process - function to get the result from\n * @param {function} callback - callback to be invoked when "process" function returns anything\n * @param {number} target - window target id\n * @param {string} manifestId - manifest identifier\n * @param {number} time - time in miliseconds how often the callback should be invoked\n * @param {boolean} onceOnly - if set to true the callback will be invoked once only and subsriber will be removed\n * @constructor\n */\nfunction Subscriber(process, callback, target, manifestId, time, onceOnly) {\n  this._process = process;\n  this._callback = callback;\n  this._manifestId = manifestId;\n  this._id = String(Snowflake.SnowflakeId.getUUID());\n  this._onceOnly = onceOnly;\n  this._target = target;\n  this.onInterval = function () {\n    var result = this._process();\n    var self = this;\n    if (result) {\n      if (this._onceOnly) {\n        this.remove();\n        if (typeof this._callbackOnFinish === "function") {\n          this._callbackOnFinish(function (err, result) {\n            self._callback(self._id, err, result, self._target, true);\n          });\n        } else {\n          this._callback(this._id, null, result, self._target);\n        }\n      } else {\n        this._callback(this._id, null, result, self._target);\n      }\n    }\n  };\n  _.bindAll(this, "onInterval");\n  this._intervalTimer = setInterval(this.onInterval, time);\n}\n\n/**\n *\n * @returns {string} - subscriber identifier\n */\nSubscriber.prototype.getId = function () {\n  return this._id;\n};\n\n/**\n *\n * @returns {string} - manifest identifier\n */\nSubscriber.prototype.getManifestId = function () {\n  return this._manifestId;\n};\n\n/**\n * @param {function} callback - function to be invoked when "process" function returns anything\n * and when "onceOnly" is set to true\n * @returns {void}\n */\nSubscriber.prototype.onFinish = function (callback) {\n  this._callbackOnFinish = callback;\n};\n\n/**\n * @returns {void}\n */\nSubscriber.prototype.remove = function () {\n  clearInterval(this._intervalTimer);\n};\nmodule.exports = Subscriber;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjEzNy5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxTQUFTLEdBQUdDLG1CQUFPLENBQUMsSUFBZ0IsQ0FBQztBQUMzQyxJQUFNQyxDQUFDLEdBQUdELG1CQUFPLENBQUMsSUFBWSxDQUFDOztBQUUvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVNFLFVBQVUsQ0FBRUMsT0FBTyxFQUFFQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsVUFBVSxFQUFFQyxJQUFJLEVBQUVDLFFBQVEsRUFBRTtFQUMxRSxJQUFJLENBQUNDLFFBQVEsR0FBR04sT0FBTztFQUN2QixJQUFJLENBQUNPLFNBQVMsR0FBR04sUUFBUTtFQUN6QixJQUFJLENBQUNPLFdBQVcsR0FBR0wsVUFBVTtFQUM3QixJQUFJLENBQUNNLEdBQUcsR0FBR0MsTUFBTSxDQUFDZCxTQUFTLENBQUNlLFdBQVcsQ0FBQ0MsT0FBTyxFQUFFLENBQUM7RUFDbEQsSUFBSSxDQUFDQyxTQUFTLEdBQUdSLFFBQVE7RUFDekIsSUFBSSxDQUFDUyxPQUFPLEdBQUdaLE1BQU07RUFDckIsSUFBSSxDQUFDYSxVQUFVLEdBQUcsWUFBWTtJQUM1QixJQUFNQyxNQUFNLEdBQUcsSUFBSSxDQUFDVixRQUFRLEVBQUU7SUFDOUIsSUFBTVcsSUFBSSxHQUFHLElBQUk7SUFDakIsSUFBSUQsTUFBTSxFQUFFO01BQ1YsSUFBSSxJQUFJLENBQUNILFNBQVMsRUFBRTtRQUNsQixJQUFJLENBQUNLLE1BQU0sRUFBRTtRQUNiLElBQUksT0FBTyxJQUFJLENBQUNDLGlCQUFpQixLQUFLLFVBQVUsRUFBRTtVQUNoRCxJQUFJLENBQUNBLGlCQUFpQixDQUFDLFVBQVVDLEdBQUcsRUFBRUosTUFBTSxFQUFFO1lBQzVDQyxJQUFJLENBQUNWLFNBQVMsQ0FBQ1UsSUFBSSxDQUFDUixHQUFHLEVBQUVXLEdBQUcsRUFBRUosTUFBTSxFQUFFQyxJQUFJLENBQUNILE9BQU8sRUFBRSxJQUFJLENBQUM7VUFDM0QsQ0FBQyxDQUFDO1FBQ0osQ0FBQyxNQUFNO1VBQ0wsSUFBSSxDQUFDUCxTQUFTLENBQUMsSUFBSSxDQUFDRSxHQUFHLEVBQUUsSUFBSSxFQUFFTyxNQUFNLEVBQUVDLElBQUksQ0FBQ0gsT0FBTyxDQUFDO1FBQ3REO01BQ0YsQ0FBQyxNQUFNO1FBQ0wsSUFBSSxDQUFDUCxTQUFTLENBQUMsSUFBSSxDQUFDRSxHQUFHLEVBQUUsSUFBSSxFQUFFTyxNQUFNLEVBQUVDLElBQUksQ0FBQ0gsT0FBTyxDQUFDO01BQ3REO0lBQ0Y7RUFDRixDQUFDO0VBQ0RoQixDQUFDLENBQUN1QixPQUFPLENBQUMsSUFBSSxFQUFFLFlBQVksQ0FBQztFQUM3QixJQUFJLENBQUNDLGNBQWMsR0FBR0MsV0FBVyxDQUFDLElBQUksQ0FBQ1IsVUFBVSxFQUFFWCxJQUFJLENBQUM7QUFDMUQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQUwsVUFBVSxDQUFDeUIsU0FBUyxDQUFDQyxLQUFLLEdBQUcsWUFBWTtFQUN2QyxPQUFPLElBQUksQ0FBQ2hCLEdBQUc7QUFDakIsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQTtBQUNBVixVQUFVLENBQUN5QixTQUFTLENBQUNFLGFBQWEsR0FBRyxZQUFZO0VBQy9DLE9BQU8sSUFBSSxDQUFDbEIsV0FBVztBQUN6QixDQUFDOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQVQsVUFBVSxDQUFDeUIsU0FBUyxDQUFDRyxRQUFRLEdBQUcsVUFBVTFCLFFBQVEsRUFBRTtFQUNsRCxJQUFJLENBQUNrQixpQkFBaUIsR0FBR2xCLFFBQVE7QUFDbkMsQ0FBQzs7QUFFRDtBQUNBO0FBQ0E7QUFDQUYsVUFBVSxDQUFDeUIsU0FBUyxDQUFDTixNQUFNLEdBQUcsWUFBWTtFQUN4Q1UsYUFBYSxDQUFDLElBQUksQ0FBQ04sY0FBYyxDQUFDO0FBQ3BDLENBQUM7QUFFRE8sTUFBTSxDQUFDQyxPQUFPLEdBQUcvQixVQUFVIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL3N1YnNjcmliZXIuanM/MjUzNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcbmNvbnN0IFNub3dmbGFrZSA9IHJlcXVpcmUoXCIuL3Nub3dmbGFrZS1pZFwiKTtcbmNvbnN0IF8gPSByZXF1aXJlKFwidW5kZXJzY29yZVwiKTtcblxuLyoqXG4gKlxuICogQHBhcmFtIHtmdW5jdGlvbn0gcHJvY2VzcyAtIGZ1bmN0aW9uIHRvIGdldCB0aGUgcmVzdWx0IGZyb21cbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gY2FsbGJhY2sgdG8gYmUgaW52b2tlZCB3aGVuIFwicHJvY2Vzc1wiIGZ1bmN0aW9uIHJldHVybnMgYW55dGhpbmdcbiAqIEBwYXJhbSB7bnVtYmVyfSB0YXJnZXQgLSB3aW5kb3cgdGFyZ2V0IGlkXG4gKiBAcGFyYW0ge3N0cmluZ30gbWFuaWZlc3RJZCAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lIC0gdGltZSBpbiBtaWxpc2Vjb25kcyBob3cgb2Z0ZW4gdGhlIGNhbGxiYWNrIHNob3VsZCBiZSBpbnZva2VkXG4gKiBAcGFyYW0ge2Jvb2xlYW59IG9uY2VPbmx5IC0gaWYgc2V0IHRvIHRydWUgdGhlIGNhbGxiYWNrIHdpbGwgYmUgaW52b2tlZCBvbmNlIG9ubHkgYW5kIHN1YnNyaWJlciB3aWxsIGJlIHJlbW92ZWRcbiAqIEBjb25zdHJ1Y3RvclxuICovXG5mdW5jdGlvbiBTdWJzY3JpYmVyIChwcm9jZXNzLCBjYWxsYmFjaywgdGFyZ2V0LCBtYW5pZmVzdElkLCB0aW1lLCBvbmNlT25seSkge1xuICB0aGlzLl9wcm9jZXNzID0gcHJvY2VzcztcbiAgdGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgdGhpcy5fbWFuaWZlc3RJZCA9IG1hbmlmZXN0SWQ7XG4gIHRoaXMuX2lkID0gU3RyaW5nKFNub3dmbGFrZS5Tbm93Zmxha2VJZC5nZXRVVUlEKCkpO1xuICB0aGlzLl9vbmNlT25seSA9IG9uY2VPbmx5O1xuICB0aGlzLl90YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMub25JbnRlcnZhbCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wcm9jZXNzKCk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKHRoaXMuX29uY2VPbmx5KSB7XG4gICAgICAgIHRoaXMucmVtb3ZlKCk7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY2FsbGJhY2tPbkZpbmlzaCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgdGhpcy5fY2FsbGJhY2tPbkZpbmlzaChmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICAgICAgICAgIHNlbGYuX2NhbGxiYWNrKHNlbGYuX2lkLCBlcnIsIHJlc3VsdCwgc2VsZi5fdGFyZ2V0LCB0cnVlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9pZCwgbnVsbCwgcmVzdWx0LCBzZWxmLl90YXJnZXQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9pZCwgbnVsbCwgcmVzdWx0LCBzZWxmLl90YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgXy5iaW5kQWxsKHRoaXMsIFwib25JbnRlcnZhbFwiKTtcbiAgdGhpcy5faW50ZXJ2YWxUaW1lciA9IHNldEludGVydmFsKHRoaXMub25JbnRlcnZhbCwgdGltZSk7XG59XG5cbi8qKlxuICpcbiAqIEByZXR1cm5zIHtzdHJpbmd9IC0gc3Vic2NyaWJlciBpZGVudGlmaWVyXG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLmdldElkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5faWQ7XG59O1xuXG4vKipcbiAqXG4gKiBAcmV0dXJucyB7c3RyaW5nfSAtIG1hbmlmZXN0IGlkZW50aWZpZXJcbiAqL1xuU3Vic2NyaWJlci5wcm90b3R5cGUuZ2V0TWFuaWZlc3RJZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMuX21hbmlmZXN0SWQ7XG59O1xuXG4vKipcbiAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrIC0gZnVuY3Rpb24gdG8gYmUgaW52b2tlZCB3aGVuIFwicHJvY2Vzc1wiIGZ1bmN0aW9uIHJldHVybnMgYW55dGhpbmdcbiAqIGFuZCB3aGVuIFwib25jZU9ubHlcIiBpcyBzZXQgdG8gdHJ1ZVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLm9uRmluaXNoID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2NhbGxiYWNrT25GaW5pc2ggPSBjYWxsYmFjaztcbn07XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cblN1YnNjcmliZXIucHJvdG90eXBlLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgY2xlYXJJbnRlcnZhbCh0aGlzLl9pbnRlcnZhbFRpbWVyKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gU3Vic2NyaWJlcjsiXSwibmFtZXMiOlsiU25vd2ZsYWtlIiwicmVxdWlyZSIsIl8iLCJTdWJzY3JpYmVyIiwicHJvY2VzcyIsImNhbGxiYWNrIiwidGFyZ2V0IiwibWFuaWZlc3RJZCIsInRpbWUiLCJvbmNlT25seSIsIl9wcm9jZXNzIiwiX2NhbGxiYWNrIiwiX21hbmlmZXN0SWQiLCJfaWQiLCJTdHJpbmciLCJTbm93Zmxha2VJZCIsImdldFVVSUQiLCJfb25jZU9ubHkiLCJfdGFyZ2V0Iiwib25JbnRlcnZhbCIsInJlc3VsdCIsInNlbGYiLCJyZW1vdmUiLCJfY2FsbGJhY2tPbkZpbmlzaCIsImVyciIsImJpbmRBbGwiLCJfaW50ZXJ2YWxUaW1lciIsInNldEludGVydmFsIiwicHJvdG90eXBlIiwiZ2V0SWQiLCJnZXRNYW5pZmVzdElkIiwib25GaW5pc2giLCJjbGVhckludGVydmFsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///6137\n')},8279:module=>{"use strict";eval('\n\nfunction join() {\n  var pathString = "",\n    arg;\n  for (var i = 0, j = arguments.length; i < j; i++) {\n    arg = arguments[i].replace(/^\\.\\//g, "/");\n    // don\'t add to the last one\n    pathString += arg;\n    if (i < j - 1) {\n      pathString += "/";\n    }\n  }\n  pathString = pathString.replace(/\\/{2,}/g, "/");\n  pathString = pathString.replace("https:/", "https://");\n  pathString = pathString.replace("http:/", "http://");\n  pathString = pathString.replace("file:/", "file://");\n  return pathString;\n}\nfunction joinPath() {\n  return join.apply(null, arguments) + "/";\n}\nfunction joinPathWithFile() {\n  return join.apply(null, arguments);\n}\nmodule.exports = {\n  joinPath: joinPath,\n  joinPathWithFile: joinPathWithFile\n};//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiODI3OS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFFYixTQUFTQSxJQUFJLEdBQUk7RUFDZixJQUFJQyxVQUFVLEdBQUcsRUFBRTtJQUFFQyxHQUFHO0VBQ3hCLEtBQUssSUFBSUMsQ0FBQyxHQUFHLENBQUMsRUFBRUMsQ0FBQyxHQUFHQyxTQUFTLENBQUNDLE1BQU0sRUFBRUgsQ0FBQyxHQUFHQyxDQUFDLEVBQUVELENBQUMsRUFBRSxFQUFFO0lBQ2hERCxHQUFHLEdBQUdHLFNBQVMsQ0FBQ0YsQ0FBQyxDQUFDLENBQUNJLE9BQU8sQ0FBQyxRQUFRLEVBQUUsR0FBRyxDQUFDO0lBQ3pDO0lBQ0FOLFVBQVUsSUFBSUMsR0FBRztJQUNqQixJQUFJQyxDQUFDLEdBQUdDLENBQUMsR0FBRyxDQUFDLEVBQUU7TUFDYkgsVUFBVSxJQUFJLEdBQUc7SUFDbkI7RUFDRjtFQUNBQSxVQUFVLEdBQUdBLFVBQVUsQ0FBQ00sT0FBTyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUM7RUFDL0NOLFVBQVUsR0FBR0EsVUFBVSxDQUFDTSxPQUFPLENBQUMsU0FBUyxFQUFFLFVBQVUsQ0FBQztFQUN0RE4sVUFBVSxHQUFHQSxVQUFVLENBQUNNLE9BQU8sQ0FBQyxRQUFRLEVBQUUsU0FBUyxDQUFDO0VBQ3BETixVQUFVLEdBQUdBLFVBQVUsQ0FBQ00sT0FBTyxDQUFDLFFBQVEsRUFBRSxTQUFTLENBQUM7RUFDcEQsT0FBT04sVUFBVTtBQUNuQjtBQUVBLFNBQVNPLFFBQVEsR0FBSTtFQUNuQixPQUFPUixJQUFJLENBQUNTLEtBQUssQ0FBQyxJQUFJLEVBQUVKLFNBQVMsQ0FBQyxHQUFHLEdBQUc7QUFDMUM7QUFFQSxTQUFTSyxnQkFBZ0IsR0FBSTtFQUMzQixPQUFPVixJQUFJLENBQUNTLEtBQUssQ0FBQyxJQUFJLEVBQUVKLFNBQVMsQ0FBQztBQUNwQztBQUVBTSxNQUFNLENBQUNDLE9BQU8sR0FBRztFQUNmSixRQUFRLEVBQUVBLFFBQVE7RUFDbEJFLGdCQUFnQixFQUFFQTtBQUNwQixDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZG93bnN0cmVhbS1lbGVjdHJvbi8uL2FwaS91dGlsL3VybC5qcz81YWQ4Il0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5mdW5jdGlvbiBqb2luICgpIHtcbiAgbGV0IHBhdGhTdHJpbmcgPSBcIlwiLCBhcmc7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IGo7IGkrKykge1xuICAgIGFyZyA9IGFyZ3VtZW50c1tpXS5yZXBsYWNlKC9eXFwuXFwvL2csIFwiL1wiKTtcbiAgICAvLyBkb24ndCBhZGQgdG8gdGhlIGxhc3Qgb25lXG4gICAgcGF0aFN0cmluZyArPSBhcmc7XG4gICAgaWYgKGkgPCBqIC0gMSkge1xuICAgICAgcGF0aFN0cmluZyArPSBcIi9cIjtcbiAgICB9XG4gIH1cbiAgcGF0aFN0cmluZyA9IHBhdGhTdHJpbmcucmVwbGFjZSgvXFwvezIsfS9nLCBcIi9cIik7XG4gIHBhdGhTdHJpbmcgPSBwYXRoU3RyaW5nLnJlcGxhY2UoXCJodHRwczovXCIsIFwiaHR0cHM6Ly9cIik7XG4gIHBhdGhTdHJpbmcgPSBwYXRoU3RyaW5nLnJlcGxhY2UoXCJodHRwOi9cIiwgXCJodHRwOi8vXCIpO1xuICBwYXRoU3RyaW5nID0gcGF0aFN0cmluZy5yZXBsYWNlKFwiZmlsZTovXCIsIFwiZmlsZTovL1wiKTtcbiAgcmV0dXJuIHBhdGhTdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGpvaW5QYXRoICgpIHtcbiAgcmV0dXJuIGpvaW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKSArIFwiL1wiO1xufVxuXG5mdW5jdGlvbiBqb2luUGF0aFdpdGhGaWxlICgpIHtcbiAgcmV0dXJuIGpvaW4uYXBwbHkobnVsbCwgYXJndW1lbnRzKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGpvaW5QYXRoOiBqb2luUGF0aCxcbiAgam9pblBhdGhXaXRoRmlsZTogam9pblBhdGhXaXRoRmlsZVxufTtcbiJdLCJuYW1lcyI6WyJqb2luIiwicGF0aFN0cmluZyIsImFyZyIsImkiLCJqIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicmVwbGFjZSIsImpvaW5QYXRoIiwiYXBwbHkiLCJqb2luUGF0aFdpdGhGaWxlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///8279\n')},9275:(__unused_webpack_module,exports)=>{"use strict";eval("\n\nvar ZeroPadding = function () {\n  function ZeroPadding() {}\n  ZeroPadding.addPadding = function (num, howManyZeros) {\n    var result;\n    var numArr = num.toString().split('');\n    while (numArr.length < howManyZeros) {\n      numArr.unshift('0');\n    }\n    result = numArr.join('');\n    return result;\n  };\n  ZeroPadding.getPaddingAmount = function (inputStr) {\n    var startIndex = inputStr.indexOf('%');\n    var endIndex = inputStr.lastIndexOf('$');\n    var numPadding = parseInt(inputStr.substring(startIndex + 1, endIndex - 1));\n    numPadding = isNaN(numPadding) ? 0 : numPadding;\n    return numPadding;\n  };\n  return ZeroPadding;\n}();\nexports.ZeroPadding = ZeroPadding;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTI3NS5qcyIsIm1hcHBpbmdzIjoiQUFBYTs7QUFDYixJQUFNQSxXQUFXLEdBQUksWUFBWTtFQUMvQixTQUFTQSxXQUFXLEdBQUksQ0FDeEI7RUFFQUEsV0FBVyxDQUFDQyxVQUFVLEdBQUcsVUFBVUMsR0FBRyxFQUFFQyxZQUFZLEVBQUU7SUFDcEQsSUFBSUMsTUFBTTtJQUNWLElBQU1DLE1BQU0sR0FBR0gsR0FBRyxDQUFDSSxRQUFRLEVBQUUsQ0FBQ0MsS0FBSyxDQUFDLEVBQUUsQ0FBQztJQUN2QyxPQUFPRixNQUFNLENBQUNHLE1BQU0sR0FBR0wsWUFBWSxFQUFFO01BQ25DRSxNQUFNLENBQUNJLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDckI7SUFDQUwsTUFBTSxHQUFHQyxNQUFNLENBQUNLLElBQUksQ0FBQyxFQUFFLENBQUM7SUFDeEIsT0FBT04sTUFBTTtFQUNmLENBQUM7RUFDREosV0FBVyxDQUFDVyxnQkFBZ0IsR0FBRyxVQUFVQyxRQUFRLEVBQUU7SUFDakQsSUFBTUMsVUFBVSxHQUFHRCxRQUFRLENBQUNFLE9BQU8sQ0FBQyxHQUFHLENBQUM7SUFDeEMsSUFBTUMsUUFBUSxHQUFHSCxRQUFRLENBQUNJLFdBQVcsQ0FBQyxHQUFHLENBQUM7SUFDMUMsSUFBSUMsVUFBVSxHQUFHQyxRQUFRLENBQUNOLFFBQVEsQ0FBQ08sU0FBUyxDQUFDTixVQUFVLEdBQUcsQ0FBQyxFQUFFRSxRQUFRLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDM0VFLFVBQVUsR0FBSUcsS0FBSyxDQUFDSCxVQUFVLENBQUMsR0FBSSxDQUFDLEdBQUdBLFVBQVU7SUFDakQsT0FBT0EsVUFBVTtFQUNuQixDQUFDO0VBQ0QsT0FBT2pCLFdBQVc7QUFDcEIsQ0FBQyxFQUFHO0FBQ0pxQixtQkFBbUIsR0FBR3JCLFdBQVciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9kb3duc3RyZWFtLWVsZWN0cm9uLy4vYXBpL3V0aWwvemVyby1wYWRkaW5nLmpzP2QyOTQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5jb25zdCBaZXJvUGFkZGluZyA9IChmdW5jdGlvbiAoKSB7XG4gIGZ1bmN0aW9uIFplcm9QYWRkaW5nICgpIHtcbiAgfVxuXG4gIFplcm9QYWRkaW5nLmFkZFBhZGRpbmcgPSBmdW5jdGlvbiAobnVtLCBob3dNYW55WmVyb3MpIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGNvbnN0IG51bUFyciA9IG51bS50b1N0cmluZygpLnNwbGl0KCcnKTtcbiAgICB3aGlsZSAobnVtQXJyLmxlbmd0aCA8IGhvd01hbnlaZXJvcykge1xuICAgICAgbnVtQXJyLnVuc2hpZnQoJzAnKTtcbiAgICB9XG4gICAgcmVzdWx0ID0gbnVtQXJyLmpvaW4oJycpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH07XG4gIFplcm9QYWRkaW5nLmdldFBhZGRpbmdBbW91bnQgPSBmdW5jdGlvbiAoaW5wdXRTdHIpIHtcbiAgICBjb25zdCBzdGFydEluZGV4ID0gaW5wdXRTdHIuaW5kZXhPZignJScpO1xuICAgIGNvbnN0IGVuZEluZGV4ID0gaW5wdXRTdHIubGFzdEluZGV4T2YoJyQnKTtcbiAgICBsZXQgbnVtUGFkZGluZyA9IHBhcnNlSW50KGlucHV0U3RyLnN1YnN0cmluZyhzdGFydEluZGV4ICsgMSwgZW5kSW5kZXggLSAxKSk7XG4gICAgbnVtUGFkZGluZyA9IChpc05hTihudW1QYWRkaW5nKSkgPyAwIDogbnVtUGFkZGluZztcbiAgICByZXR1cm4gbnVtUGFkZGluZztcbiAgfTtcbiAgcmV0dXJuIFplcm9QYWRkaW5nO1xufSgpKTtcbmV4cG9ydHMuWmVyb1BhZGRpbmcgPSBaZXJvUGFkZGluZztcbiJdLCJuYW1lcyI6WyJaZXJvUGFkZGluZyIsImFkZFBhZGRpbmciLCJudW0iLCJob3dNYW55WmVyb3MiLCJyZXN1bHQiLCJudW1BcnIiLCJ0b1N0cmluZyIsInNwbGl0IiwibGVuZ3RoIiwidW5zaGlmdCIsImpvaW4iLCJnZXRQYWRkaW5nQW1vdW50IiwiaW5wdXRTdHIiLCJzdGFydEluZGV4IiwiaW5kZXhPZiIsImVuZEluZGV4IiwibGFzdEluZGV4T2YiLCJudW1QYWRkaW5nIiwicGFyc2VJbnQiLCJzdWJzdHJpbmciLCJpc05hTiIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///9275\n")},2081:Q=>{"use strict";Q.exports=require("child_process")},3639:Q=>{"use strict";Q.exports=require("domain")},2361:Q=>{"use strict";Q.exports=require("events")},7147:Q=>{"use strict";Q.exports=require("fs")},1808:Q=>{"use strict";Q.exports=require("net")},1017:Q=>{"use strict";Q.exports=require("path")},3837:Q=>{"use strict";Q.exports=require("util")},7769:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__7769__},1637:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1637__},7194:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__7194__},1759:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1759__},6838:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__6838__},3480:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__3480__},9526:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__9526__},1908:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__1908__},4952:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__4952__},3720:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__3720__},678:Q=>{"use strict";Q.exports=__WEBPACK_EXTERNAL_MODULE__678__}},__webpack_module_cache__={};function __webpack_require__(Q){var U=__webpack_module_cache__[Q];if(void 0!==U)return U.exports;var F=__webpack_module_cache__[Q]={exports:{}};return __webpack_modules__[Q].call(F.exports,F,F.exports,__webpack_require__),F.exports}var __webpack_exports__=__webpack_require__(588);return __webpack_exports__})()));